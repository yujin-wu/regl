var $jscomp={scope:{},getGlobal:function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global?global:b}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return"jscomp_symbol_"+b+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();if(b[$jscomp.global.Symbol.iterator])return b[$jscomp.global.Symbol.iterator]();var v=0;return{next:function(){return v==b.length?{done:!0}:{done:!1,value:b[v++]}}}};
$jscomp.arrayFromIterator=function(b){for(var v,N=[];!(v=b.next()).done;)N.push(v.value);return N};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$jscomp.inherits=function(b,v){function N(){}N.prototype=v.prototype;b.prototype=new N;b.prototype.constructor=b;for(var U in v)if($jscomp.global.Object.defineProperties){var ca=$jscomp.global.Object.getOwnPropertyDescriptor(v,U);ca&&$jscomp.global.Object.defineProperty(b,U,ca)}else b[U]=v[U]};$jscomp.array=$jscomp.array||{};$jscomp.array.done_=function(){return{done:!0,value:void 0}};
$jscomp.array.arrayIterator_=function(b,v){b instanceof String&&(b=String(b));var N=0;$jscomp.initSymbol();$jscomp.initSymbolIterator();var U={},ca=(U.next=function(){if(N<b.length){var U=N++;return{value:v(U,b[U]),done:!1}}ca.next=$jscomp.array.done_;return $jscomp.array.done_()},U[Symbol.iterator]=function(){return ca},U);return ca};
$jscomp.array.findInternal_=function(b,v,N){b instanceof String&&(b=String(b));for(var U=b.length,ca=0;ca<U;ca++){var Gb=b[ca];if(v.call(N,Gb,ca,b))return{i:ca,v:Gb}}return{i:-1,v:void 0}};
$jscomp.array.from=function(b,v,N){v=void 0===v?function(b){return b}:v;var U=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();if(b[Symbol.iterator]){$jscomp.initSymbol();$jscomp.initSymbolIterator();b=b[Symbol.iterator]();for(var ca;!(ca=b.next()).done;)U.push(v.call(N,ca.value))}else{ca=b.length;for(var Gb=0;Gb<ca;Gb++)U.push(v.call(N,b[Gb]))}return U};$jscomp.array.of=function(b){for(var v=[],N=0;N<arguments.length;++N)v[N-0]=arguments[N];return $jscomp.array.from(v)};
$jscomp.array.entries=function(){return $jscomp.array.arrayIterator_(this,function(b,v){return[b,v]})};$jscomp.array.entries$install=function(){Array.prototype.entries||(Array.prototype.entries=$jscomp.array.entries)};$jscomp.array.keys=function(){return $jscomp.array.arrayIterator_(this,function(b){return b})};$jscomp.array.keys$install=function(){Array.prototype.keys||(Array.prototype.keys=$jscomp.array.keys)};$jscomp.array.values=function(){return $jscomp.array.arrayIterator_(this,function(b,v){return v})};
$jscomp.array.values$install=function(){Array.prototype.values||(Array.prototype.values=$jscomp.array.values)};$jscomp.array.copyWithin=function(b,v,N){var U=this.length;b=Number(b);v=Number(v);N=Number(null!=N?N:U);if(b<v)for(N=Math.min(N,U);v<N;)v in this?this[b++]=this[v++]:(delete this[b++],v++);else for(N=Math.min(N,U+v-b),b+=N-v;N>v;)--N in this?this[--b]=this[N]:delete this[b];return this};$jscomp.array.copyWithin$install=function(){Array.prototype.copyWithin||(Array.prototype.copyWithin=$jscomp.array.copyWithin)};
$jscomp.array.fill=function(b,v,N){null!=N&&b.length||(N=this.length||0);N=Number(N);for(v=Number((void 0===v?0:v)||0);v<N;v++)this[v]=b;return this};$jscomp.array.fill$install=function(){Array.prototype.fill||(Array.prototype.fill=$jscomp.array.fill)};$jscomp.array.find=function(b,v){return $jscomp.array.findInternal_(this,b,v).v};$jscomp.array.find$install=function(){Array.prototype.find||(Array.prototype.find=$jscomp.array.find)};
$jscomp.array.findIndex=function(b,v){return $jscomp.array.findInternal_(this,b,v).i};$jscomp.array.findIndex$install=function(){Array.prototype.findIndex||(Array.prototype.findIndex=$jscomp.array.findIndex)};$jscomp.Map=function(b){b=void 0===b?[]:b;this.data_={};this.head_=$jscomp.Map.createHead_();this.size=0;if(b){b=$jscomp.makeIterator(b);for(var v=b.next();!v.done;v=b.next())v=v.value,this.set(v[0],v[1])}};
$jscomp.Map.checkBrowserConformance_=function(){var b=$jscomp.global.Map;if(!b||!b.prototype.entries||!Object.seal)return!1;try{var v=Object.seal({x:4}),N=new b($jscomp.makeIterator([[v,"s"]]));if("s"!=N.get(v)||1!=N.size||N.get({x:4})||N.set({x:4},"t")!=N||2!=N.size)return!1;var U=N.entries(),ca=U.next();if(ca.done||ca.value[0]!=v||"s"!=ca.value[1])return!1;ca=U.next();return ca.done||4!=ca.value[0].x||"t"!=ca.value[1]||!U.next().done?!1:!0}catch(Gb){return!1}};
$jscomp.Map.createHead_=function(){var b={};return b.previous=b.next=b.head=b};$jscomp.Map.getId_=function(b){if(!(b instanceof Object))return String(b);$jscomp.Map.key_ in b||b instanceof Object&&Object.isExtensible&&Object.isExtensible(b)&&$jscomp.Map.defineProperty_(b,$jscomp.Map.key_,++$jscomp.Map.index_);return $jscomp.Map.key_ in b?b[$jscomp.Map.key_]:" "+b};
$jscomp.Map.prototype.set=function(b,v){var N=this.maybeGetEntry_(b),U=N.id,ca=N.list,N=N.entry;ca||(ca=this.data_[U]=[]);N?N.value=v:(N={next:this.head_,previous:this.head_.previous,head:this.head_,key:b,value:v},ca.push(N),this.head_.previous.next=N,this.head_.previous=N,this.size++);return this};
$jscomp.Map.prototype["delete"]=function(b){var v=this.maybeGetEntry_(b);b=v.id;var N=v.list,U=v.index;return(v=v.entry)&&N?(N.splice(U,1),N.length||delete this.data_[b],v.previous.next=v.next,v.next.previous=v.previous,v.head=null,this.size--,!0):!1};$jscomp.Map.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=$jscomp.Map.createHead_();this.size=0};$jscomp.Map.prototype.has=function(b){return!!this.maybeGetEntry_(b).entry};
$jscomp.Map.prototype.get=function(b){return(b=this.maybeGetEntry_(b).entry)&&b.value};$jscomp.Map.prototype.maybeGetEntry_=function(b){var v=$jscomp.Map.getId_(b),N=this.data_[v];if(N)for(var U=0;U<N.length;U++){var ca=N[U];if(b!==b&&ca.key!==ca.key||b===ca.key)return{id:v,list:N,index:U,entry:ca}}return{id:v,list:N,index:-1,entry:void 0}};$jscomp.Map.prototype.entries=function(){return this.iter_(function(b){return[b.key,b.value]})};$jscomp.Map.prototype.keys=function(){return this.iter_(function(b){return b.key})};
$jscomp.Map.prototype.values=function(){return this.iter_(function(b){return b.value})};$jscomp.Map.prototype.forEach=function(b,v){for(var N=$jscomp.makeIterator(this.entries()),U=N.next();!U.done;U=N.next())U=U.value,b.call(v,U[1],U[0],this)};
$jscomp.Map.prototype.iter_=function(b){var v=this,N=this.head_;$jscomp.initSymbol();$jscomp.initSymbolIterator();var U={};return U.next=function(){if(N){for(;N.head!=v.head_;)N=N.previous;for(;N.next!=N.head;)return N=N.next,{done:!1,value:b(N)};N=null}return{done:!0,value:void 0}},U[Symbol.iterator]=function(){return this},U};$jscomp.Map.index_=0;$jscomp.Map.defineProperty_=Object.defineProperty?function(b,v,N){Object.defineProperty(b,v,{value:String(N)})}:function(b,v,N){b[v]=String(N)};
$jscomp.Map.Entry_=function(){};$jscomp.Map.ASSUME_NO_NATIVE=!1;$jscomp.Map$install=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();!$jscomp.Map.ASSUME_NO_NATIVE&&$jscomp.Map.checkBrowserConformance_()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.key_=Symbol("map-id-key"));$jscomp.Map$install=function(){}};$jscomp.math=$jscomp.math||{};
$jscomp.math.clz32=function(b){b=Number(b)>>>0;if(0===b)return 32;var v=0;0===(b&4294901760)&&(b<<=16,v+=16);0===(b&4278190080)&&(b<<=8,v+=8);0===(b&4026531840)&&(b<<=4,v+=4);0===(b&3221225472)&&(b<<=2,v+=2);0===(b&2147483648)&&v++;return v};$jscomp.math.imul=function(b,v){b=Number(b);v=Number(v);var N=b&65535,U=v&65535;return N*U+((b>>>16&65535)*U+N*(v>>>16&65535)<<16>>>0)|0};$jscomp.math.sign=function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1};
$jscomp.math.log10=function(b){return Math.log(b)/Math.LN10};$jscomp.math.log2=function(b){return Math.log(b)/Math.LN2};$jscomp.math.log1p=function(b){b=Number(b);if(.25>b&&-.25<b){for(var v=b,N=1,U=b,ca=0,Gb=1;ca!=U;)v*=b,Gb*=-1,U=(ca=U)+Gb*v/++N;return U}return Math.log(1+b)};$jscomp.math.expm1=function(b){b=Number(b);if(.25>b&&-.25<b){for(var v=b,N=1,U=b,ca=0;ca!=U;)v*=b/++N,U=(ca=U)+v;return U}return Math.exp(b)-1};$jscomp.math.cosh=function(b){b=Number(b);return(Math.exp(b)+Math.exp(-b))/2};
$jscomp.math.sinh=function(b){b=Number(b);return 0===b?b:(Math.exp(b)-Math.exp(-b))/2};$jscomp.math.tanh=function(b){b=Number(b);if(0===b)return b;var v=Math.exp(2*-Math.abs(b)),v=(1-v)/(1+v);return 0>b?-v:v};$jscomp.math.acosh=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};$jscomp.math.asinh=function(b){b=Number(b);if(0===b)return b;var v=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return 0>b?-v:v};
$jscomp.math.atanh=function(b){b=Number(b);return($jscomp.math.log1p(b)-$jscomp.math.log1p(-b))/2};
$jscomp.math.hypot=function(b,v,N){for(var U=[],ca=2;ca<arguments.length;++ca)U[ca-2]=arguments[ca];b=Number(b);v=Number(v);for(var Gb=Math.max(Math.abs(b),Math.abs(v)),Ie=$jscomp.makeIterator(U),ca=Ie.next();!ca.done;ca=Ie.next())Gb=Math.max(Gb,Math.abs(ca.value));if(1E100<Gb||1E-100>Gb){b/=Gb;v/=Gb;Ie=b*b+v*v;U=$jscomp.makeIterator(U);for(ca=U.next();!ca.done;ca=U.next())ca=ca.value,ca=Number(ca)/Gb,Ie+=ca*ca;return Math.sqrt(Ie)*Gb}Gb=b*b+v*v;U=$jscomp.makeIterator(U);for(ca=U.next();!ca.done;ca=
U.next())ca=ca.value,ca=Number(ca),Gb+=ca*ca;return Math.sqrt(Gb)};$jscomp.math.trunc=function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var v=Math.floor(Math.abs(b));return 0>b?-v:v};$jscomp.math.cbrt=function(b){if(0===b)return b;b=Number(b);var v=Math.pow(Math.abs(b),1/3);return 0>b?-v:v};$jscomp.number=$jscomp.number||{};$jscomp.number.isFinite=function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b};
$jscomp.number.isInteger=function(b){return $jscomp.number.isFinite(b)?b===Math.floor(b):!1};$jscomp.number.isNaN=function(b){return"number"===typeof b&&isNaN(b)};$jscomp.number.isSafeInteger=function(b){return $jscomp.number.isInteger(b)&&Math.abs(b)<=$jscomp.number.MAX_SAFE_INTEGER};$jscomp.number.EPSILON=Math.pow(2,-52);$jscomp.number.MAX_SAFE_INTEGER=9007199254740991;$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991;$jscomp.object=$jscomp.object||{};
$jscomp.object.assign=function(b,v){for(var N=[],U=1;U<arguments.length;++U)N[U-1]=arguments[U];N=$jscomp.makeIterator(N);for(U=N.next();!U.done;U=N.next())if(U=U.value)for(var ca in U)Object.prototype.hasOwnProperty.call(U,ca)&&(b[ca]=U[ca]);return b};$jscomp.object.is=function(b,v){return b===v?0!==b||1/b===1/v:b!==b&&v!==v};$jscomp.Set=function(b){b=void 0===b?[]:b;this.map_=new $jscomp.Map;if(b){b=$jscomp.makeIterator(b);for(var v=b.next();!v.done;v=b.next())this.add(v.value)}this.size=this.map_.size};
$jscomp.Set.checkBrowserConformance_=function(){var b=$jscomp.global.Set;if(!b||!b.prototype.entries||!Object.seal)return!1;var v=Object.seal({x:4}),b=new b($jscomp.makeIterator([v]));if(b.has(v)||1!=b.size||b.add(v)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var b=b.entries(),N=b.next();if(N.done||N.value[0]!=v||N.value[1]!=v)return!1;N=b.next();return N.done||N.value[0]==v||4!=N.value[0].x||N.value[1]!=N.value[0]?!1:b.next().done};
$jscomp.Set.prototype.add=function(b){this.map_.set(b,b);this.size=this.map_.size;return this};$jscomp.Set.prototype["delete"]=function(b){b=this.map_["delete"](b);this.size=this.map_.size;return b};$jscomp.Set.prototype.clear=function(){this.map_.clear();this.size=0};$jscomp.Set.prototype.has=function(b){return this.map_.has(b)};$jscomp.Set.prototype.entries=function(){return this.map_.entries()};$jscomp.Set.prototype.values=function(){return this.map_.values()};
$jscomp.Set.prototype.forEach=function(b,v){var N=this;this.map_.forEach(function(U){return b.call(v,U,U,N)})};$jscomp.Set.ASSUME_NO_NATIVE=!1;$jscomp.Set$install=function(){!$jscomp.Set.ASSUME_NO_NATIVE&&$jscomp.Set.checkBrowserConformance_()?$jscomp.Set=$jscomp.global.Set:($jscomp.Map$install(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values);$jscomp.Set$install=function(){}};$jscomp.string=$jscomp.string||{};
$jscomp.string.noRegExp_=function(b,v){if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+v+" must not be a regular expression");};
$jscomp.string.fromCodePoint=function(b){for(var v=[],N=0;N<arguments.length;++N)v[N-0]=arguments[N];for(var N="",v=$jscomp.makeIterator(v),U=v.next();!U.done;U=v.next()){U=U.value;U=+U;if(0>U||1114111<U||U!==Math.floor(U))throw new RangeError("invalid_code_point "+U);65535>=U?N+=String.fromCharCode(U):(U-=65536,N+=String.fromCharCode(U>>>10&1023|55296),N+=String.fromCharCode(U&1023|56320))}return N};
$jscomp.string.repeat=function(b){var v=this.toString();if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var N="";b;)if(b&1&&(N+=v),b>>>=1)v+=v;return N};$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)};
$jscomp.string.codePointAt=function(b){var v=this.toString(),N=v.length;b=Number(b)||0;if(0<=b&&b<N){b|=0;var U=v.charCodeAt(b);if(55296>U||56319<U||b+1===N)return U;b=v.charCodeAt(b+1);return 56320>b||57343<b?U:1024*(U-55296)+b+9216}};$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)};
$jscomp.string.includes=function(b,v){v=void 0===v?0:v;$jscomp.string.noRegExp_(b,"includes");return-1!==this.toString().indexOf(b,v)};$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)};
$jscomp.string.startsWith=function(b,v){v=void 0===v?0:v;$jscomp.string.noRegExp_(b,"startsWith");var N=this.toString();b+="";for(var U=N.length,ca=b.length,Gb=Math.max(0,Math.min(v|0,N.length)),Ie=0;Ie<ca&&Gb<U;)if(N[Gb++]!=b[Ie++])return!1;return Ie>=ca};$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)};
$jscomp.string.endsWith=function(b,v){$jscomp.string.noRegExp_(b,"endsWith");var N=this.toString();b+="";void 0===v&&(v=N.length);for(var U=Math.max(0,Math.min(v|0,N.length)),ca=b.length;0<ca&&0<U;)if(N[--U]!=b[--ca])return!1;return 0>=ca};$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};
(function(b,v){"object"===typeof exports&&"undefined"!==typeof module?module.exports=v():"function"===typeof define&&define.amd?define(v):b.createREGL=v()})(this,function(){function b(a,f){this.id=li++;this.type=a;this.data=f}function v(a){if(0===a.length)return[];var f=a.charAt(0),c=a.charAt(a.length-1);if(1<a.length&&f===c&&('"'===f||"'"===f))return['"'+a.substr(1,a.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(f=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(a))return v(a.substr(0,
f.index)).concat(v(f[1])).concat(v(a.substr(f.index+f[0].length)));f=a.split(".");if(1===f.length)return['"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];a=[];for(c=0;c<f.length;++c)a=a.concat(v(f[c]));return a}function N(a){return"["+v(a).join("][")+"]"}function U(a,f){if("function"===typeof a)return new b(0,a);if("number"===typeof a||"boolean"===typeof a)return new b(5,a);if(Array.isArray(a))return new b(6,a.map(function(a,d){return U(a,f+"["+d+"]")}));if(a instanceof b)return a}function ca(){var a=
{"":0},f=[""];return{id:function(c){var d=a[c];if(d)return d;d=a[c]=f.length;f.push(c);return d},str:function(a){return f[a]}}}function Gb(a,f,c){function d(){var d=window.innerWidth,f=window.innerHeight;a!==document.body&&(f=b.getBoundingClientRect(),d=f.right-f.left,f=f.bottom-f.top);b.width=c*d;b.height=c*f}var b=document.createElement("canvas");pd(b.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"});a.appendChild(b);a===document.body&&(b.style.position="absolute",pd(a.style,
{margin:0,padding:0}));var J;a!==document.body&&"function"===typeof ResizeObserver?(J=new ResizeObserver(function(){setTimeout(d)}),J.observe(a)):window.addEventListener("resize",d,!1);d();return{canvas:b,onDestroy:function(){J?J.disconnect():window.removeEventListener("resize",d);a.removeChild(b)}}}function Ie(a,f){function c(c){try{return a.getContext(c,f)}catch(b){return null}}return c("webgl")||c("experimental-webgl")||c("webgl-experimental")}function mh(a){return"string"===typeof a?a.split():
a}function nh(a){return"string"===typeof a?document.querySelector(a):a}function mi(a){var f=a||{},c,d,b,J;a={};var A=[],k=[],n="undefined"===typeof window?1:window.devicePixelRatio,t=!1,h=function(a){},C=function(){};"string"===typeof f?c=document.querySelector(f):"object"===typeof f&&("string"===typeof f.nodeName&&"function"===typeof f.appendChild&&"function"===typeof f.getBoundingClientRect?c=f:"function"===typeof f.drawArrays||"function"===typeof f.drawElements?(J=f,b=J.canvas):("gl"in f?J=f.gl:
"canvas"in f?b=nh(f.canvas):"container"in f&&(d=nh(f.container)),"attributes"in f&&(a=f.attributes),"extensions"in f&&(A=mh(f.extensions)),"optionalExtensions"in f&&(k=mh(f.optionalExtensions)),"onDone"in f&&(h=f.onDone),"profile"in f&&(t=!!f.profile),"pixelRatio"in f&&(n=+f.pixelRatio)));c&&("canvas"===c.nodeName.toLowerCase()?b=c:d=c);if(!J){if(!b){c=Gb(d||document.body,h,n);if(!c)return null;b=c.canvas;C=c.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0);J=Ie(b,a)}return J?{gl:J,
canvas:b,container:d,extensions:A,optionalExtensions:k,pixelRatio:n,profile:t,onDone:h,onDestroy:C}:(C(),h("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ni(a,f){function c(c){c=c.toLowerCase();var f;try{f=d[c]=a.getExtension(c)}catch(b){}return!!f}for(var d={},b=0;b<f.extensions.length;++b){var J=f.extensions[b];if(!c(J))return f.onDestroy(),f.onDone('"'+J+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),
null}f.optionalExtensions.forEach(c);return{extensions:d,restore:function(){Object.keys(d).forEach(function(a){if(d[a]&&!c(a))throw Error("(regl): error restoring extension "+a);})}}}function ff(a,f){for(var c=Array(a),d=0;d<a;++d)c[d]=f(d);return c}function oh(a){var f,c;f=(65535<a)<<4;a>>>=f;c=(255<a)<<3;a>>>=c;f|=c;c=(15<a)<<2;a>>>=c;f|=c;c=(3<a)<<1;return f|c|a>>>c>>1}function ph(){function a(a){a:{for(var f=16;268435456>=f;f*=16)if(a<=f){a=f;break a}a=0}f=c[oh(a)>>2];return 0<f.length?f.pop():
new ArrayBuffer(a)}function f(a){c[oh(a.byteLength)>>2].push(a)}var c=ff(8,function(){return[]});return{alloc:a,free:f,allocType:function(c,f){var b=null;switch(c){case 5120:b=new Int8Array(a(f),0,f);break;case 5121:b=new Uint8Array(a(f),0,f);break;case 5122:b=new Int16Array(a(2*f),0,f);break;case 5123:b=new Uint16Array(a(2*f),0,f);break;case 5124:b=new Int32Array(a(4*f),0,f);break;case 5125:b=new Uint32Array(a(4*f),0,f);break;case 5126:b=new Float32Array(a(4*f),0,f);break;default:return null}return b.length!==
f?b.subarray(0,f):b},freeType:function(a){f(a.buffer)}}}function Sf(a){return!!a&&"object"===typeof a&&Array.isArray(a.shape)&&Array.isArray(a.stride)&&"number"===typeof a.offset&&a.shape.length===a.stride.length&&(Array.isArray(a.data)||sf(a.data))}function qh(a,f,c,d,b,J){for(var A=0;A<f;++A)for(var k=a[A],n=0;n<c;++n)for(var t=k[n],h=0;h<d;++h)b[J++]=t[h]}function rh(a,f,c,d,b){for(var J=1,A=c+1;A<f.length;++A)J*=f[A];var k=f[c];if(4===f.length-c){var n=f[c+1],t=f[c+2];f=f[c+3];for(A=0;A<k;++A)qh(a[A],
n,t,f,d,b),b+=J}else for(A=0;A<k;++A)rh(a[A],f,c+1,d,b),b+=J}function Sg(a){return Tg[Object.prototype.toString.call(a)]|0}function sh(a,f){for(var c=0;c<f.length;++c)a[c]=f[c]}function th(a,f,c,d,b,J,A){for(var k=0,n=0;n<c;++n)for(var t=0;t<d;++t)a[k++]=f[b*n+J*t+A]}function oi(a,f,c,d){function b(d){this.id=n++;this.buffer=a.createBuffer();this.type=d;this.usage=35044;this.byteLength=0;this.dimension=1;this.dtype=5121;this.persistentData=null;c.profile&&(this.stats={size:0})}function J(c,d,f){c.byteLength=
d.byteLength;a.bufferData(c.type,d,f)}function A(a,c,d,f,b,h){a.usage=d;if(Array.isArray(c)){if(a.dtype=f||5126,0<c.length)if(Array.isArray(c[0])){b=uh(c);for(var k=f=1;k<b.length;++k)f*=b[k];a.dimension=f;c=eh(c,b,a.dtype);J(a,c,d);h?a.persistentData=c:oc.freeType(c)}else"number"===typeof c[0]?(a.dimension=b,b=oc.allocType(a.dtype,c.length),sh(b,c),J(a,b,d),h?a.persistentData=b:oc.freeType(b)):sf(c[0])&&(a.dimension=c[0].length,a.dtype=f||Sg(c[0])||5126,c=eh(c,[c.length,c[0].length],a.dtype),J(a,
c,d),h?a.persistentData=c:oc.freeType(c))}else if(sf(c))a.dtype=f||Sg(c),a.dimension=b,J(a,c,d),h&&(a.persistentData=new Uint8Array(new Uint8Array(c.buffer)));else if(Sf(c)){b=c.shape;var n=c.stride,k=c.offset,t=0,A=0,Ud=0,v=0;1===b.length?(t=b[0],A=1,Ud=n[0],v=0):2===b.length&&(t=b[0],A=b[1],Ud=n[0],v=n[1]);a.dtype=f||Sg(c.data)||5126;a.dimension=A;b=oc.allocType(a.dtype,t*A);th(b,c.data,t,A,Ud,v,k);J(a,b,d);h?a.persistentData=b:oc.freeType(b)}else c instanceof ArrayBuffer&&(a.dtype=5121,a.dimension=
b,J(a,c,d),h&&(a.persistentData=new Uint8Array(new Uint8Array(c))))}function k(c){f.bufferCount--;d(c);a.deleteBuffer(c.buffer);c.buffer=null;delete t[c.id]}var n=0,t={};b.prototype.bind=function(){a.bindBuffer(this.type,this.buffer)};b.prototype.destroy=function(){k(this)};var h=[];c.profile&&(f.getTotalBufferSize=function(){var a=0;Object.keys(t).forEach(function(c){a+=t[c].stats.size});return a});return{create:function(d,h,n,J){function jb(d){var f=35044,b=null,h=0,k=0,C=1;Array.isArray(d)||sf(d)||
Sf(d)||d instanceof ArrayBuffer?b=d:"number"===typeof d?h=d|0:d&&("data"in d&&(b=d.data),"usage"in d&&(f=vh[d.usage]),"type"in d&&(k=Ug[d.type]),"dimension"in d&&(C=d.dimension|0),"length"in d&&(h=d.length|0));ia.bind();b?A(ia,b,f,k,C,J):(h&&a.bufferData(ia.type,h,f),ia.dtype=k||5121,ia.usage=f,ia.dimension=C,ia.byteLength=h);c.profile&&(ia.stats.size=ia.byteLength*Tf[ia.dtype]);return jb}f.bufferCount++;var ia=new b(h);t[ia.id]=ia;n||jb(d);jb._reglType="buffer";jb._buffer=ia;jb.subdata=function(c,
d){var f=(d||0)|0,b;ia.bind();if(sf(c)||c instanceof ArrayBuffer)a.bufferSubData(ia.type,f,c);else if(Array.isArray(c)){if(0<c.length)if("number"===typeof c[0]){var h=oc.allocType(ia.dtype,c.length);sh(h,c);a.bufferSubData(ia.type,f,h);oc.freeType(h)}else if(Array.isArray(c[0])||sf(c[0]))b=uh(c),h=eh(c,b,ia.dtype),a.bufferSubData(ia.type,f,h),oc.freeType(h)}else if(Sf(c)){b=c.shape;var k=c.stride,C=h=0,n=0,t=0;1===b.length?(h=b[0],C=1,n=k[0],t=0):2===b.length&&(h=b[0],C=b[1],n=k[0],t=k[1]);b=Array.isArray(c.data)?
ia.dtype:Sg(c.data);b=oc.allocType(b,h*C);th(b,c.data,h,C,n,t,c.offset);a.bufferSubData(ia.type,f,b);oc.freeType(b)}return jb};c.profile&&(jb.stats=ia.stats);jb.destroy=function(){k(ia)};return jb},createStream:function(a,c){var d=h.pop();d||(d=new b(a));d.bind();A(d,c,35040,0,1,!1);return d},destroyStream:function(a){h.push(a)},clear:function(){qf(t).forEach(k);h.forEach(k)},getBuffer:function(a){return a&&a._buffer instanceof b?a._buffer:null},restore:function(){qf(t).forEach(function(c){c.buffer=
a.createBuffer();a.bindBuffer(c.type,c.buffer);a.bufferData(c.type,c.persistentData||c.byteLength,c.usage)})},_initBuffer:A}}function pi(a,b,c,d){function Ud(a){this.id=n++;k[this.id]=this;this.buffer=a;this.primType=4;this.type=this.vertCount=0}function J(d,h,k,n,t,A,J){d.buffer.bind();var Ka;h?((Ka=J)||sf(h)&&(!Sf(h)||sf(h.data))||(Ka=b.oes_element_index_uint?5125:5123),c._initBuffer(d.buffer,h,k,Ka,3)):(a.bufferData(34963,A,k),d.buffer.dtype=Ka||5121,d.buffer.usage=k,d.buffer.dimension=3,d.buffer.byteLength=
A);Ka=J;if(!J){switch(d.buffer.dtype){case 5121:case 5120:Ka=5121;break;case 5123:case 5122:Ka=5123;break;case 5125:case 5124:Ka=5125}d.buffer.dtype=Ka}d.type=Ka;h=t;0>h&&(h=d.buffer.byteLength,5123===Ka?h>>=1:5125===Ka&&(h>>=2));d.vertCount=h;h=n;0>n&&(h=4,n=d.buffer.dimension,1===n&&(h=0),2===n&&(h=1),3===n&&(h=4));d.primType=h}function A(a){d.elementsCount--;delete k[a.id];a.buffer.destroy();a.buffer=null}var k={},n=0,t={uint8:5121,uint16:5123};b.oes_element_index_uint&&(t.uint32=5125);Ud.prototype.bind=
function(){this.buffer.bind()};var h=[];return{create:function(a,b){function f(a){if(a)if("number"===typeof a)h(a),k.primType=4,k.vertCount=a|0,k.type=5121;else{var c=null,d=35044,b=-1,n=-1,C=0,A=0;if(Array.isArray(a)||sf(a)||Sf(a))c=a;else if("data"in a&&(c=a.data),"usage"in a&&(d=vh[a.usage]),"primitive"in a&&(b=Vg[a.primitive]),"count"in a&&(n=a.count|0),"type"in a&&(A=t[a.type]),"length"in a)C=a.length|0;else if(C=n,5123===A||5122===A)C*=2;else if(5125===A||5124===A)C*=4;J(k,c,d,b,n,C,A)}else h(),
k.primType=4,k.vertCount=0,k.type=5121;return f}var h=c.create(null,34963,!0),k=new Ud(h._buffer);d.elementsCount++;f(a);f._reglType="elements";f._elements=k;f.subdata=function(a,c){h.subdata(a,c);return f};f.destroy=function(){A(k)};return f},createStream:function(a){var d=h.pop();d||(d=new Ud(c.create(null,34963,!0,!1)._buffer));J(d,a,35040,-1,-1,0,0);return d},destroyStream:function(a){h.push(a)},getElements:function(a){return"function"===typeof a&&a._elements instanceof Ud?a._elements:null},clear:function(){qf(k).forEach(A)}}}
function wh(a){for(var b=oc.allocType(5123,a.length),c=0;c<a.length;++c)if(isNaN(a[c]))b[c]=65535;else if(Infinity===a[c])b[c]=31744;else if(-Infinity===a[c])b[c]=64512;else{xh[0]=a[c];var d=qi[0],Ud=d>>>31<<15,J=(d<<1>>>24)-127,d=d>>13&1023;b[c]=-24>J?Ud:-14>J?Ud+(d+1024>>-14-J):15<J?Ud+31744:Ud+(J+15<<10)+d}return b}function Uf(a){return Array.isArray(a)||sf(a)}function Xf(a){return"[object "+a+"]"}function yh(a){return Array.isArray(a)&&(0===a.length||"number"===typeof a[0])}function zh(a){return Array.isArray(a)&&
0!==a.length&&Uf(a[0])?!0:!1}function Ff(a){return Object.prototype.toString.call(a)}function fh(a){if(!a)return!1;var b=Ff(a);return 0<=ri.indexOf(b)?!0:yh(a)||zh(a)||Sf(a)}function Ah(a,b){36193===a.type?(a.data=wh(b),oc.freeType(b)):a.data=b}function Wg(a,b,c,d,Ud,J){a="undefined"!==typeof he[a]?he[a]:Hf[a]*$f[b];J&&(a*=6);if(Ud){for(d=0;1<=c;)d+=a*c*c,c/=2;return d}return a*c*d}function si(a,b,c,d,Ud,J,A){function k(){this.format=this.internalformat=6408;this.type=5121;this.flipY=this.premultiplyAlpha=
this.compressed=!1;this.unpackAlignment=1;this.colorSpace=37444;this.channels=this.height=this.width=0}function n(a,c){a.internalformat=c.internalformat;a.format=c.format;a.type=c.type;a.compressed=c.compressed;a.premultiplyAlpha=c.premultiplyAlpha;a.flipY=c.flipY;a.unpackAlignment=c.unpackAlignment;a.colorSpace=c.colorSpace;a.width=c.width;a.height=c.height;a.channels=c.channels}function t(a,c){if("object"===typeof c&&c){"premultiplyAlpha"in c&&(a.premultiplyAlpha=c.premultiplyAlpha);"flipY"in c&&
(a.flipY=c.flipY);"alignment"in c&&(a.unpackAlignment=c.alignment);"colorSpace"in c&&(a.colorSpace=qa[c.colorSpace]);"type"in c&&(a.type=Z[c.type]);var e=a.width,d=a.height,l=a.channels,b=!1;"shape"in c?(e=c.shape[0],d=c.shape[1],3===c.shape.length&&(l=c.shape[2],b=!0)):("radius"in c&&(e=d=c.radius),"width"in c&&(e=c.width),"height"in c&&(d=c.height),"channels"in c&&(l=c.channels,b=!0));a.width=e|0;a.height=d|0;a.channels=l|0;e=!1;"format"in c&&(e=c.format,d=a.internalformat=X[e],a.format=sd[d],e in
Z&&!("type"in c)&&(a.type=Z[e]),e in Vb&&(a.compressed=!0),e=!0);!b&&e?a.channels=Hf[a.format]:b&&!e&&a.channels!==Xg[a.format]&&(a.format=a.internalformat=Xg[a.channels])}}function h(c){a.pixelStorei(37440,c.flipY);a.pixelStorei(37441,c.premultiplyAlpha);a.pixelStorei(37443,c.colorSpace);a.pixelStorei(3317,c.unpackAlignment)}function C(){k.call(this);this.yOffset=this.xOffset=0;this.data=null;this.needsFree=!1;this.element=null;this.needsCopy=!1}function v(a,c){var e=null;fh(c)?e=c:c&&(t(a,c),"x"in
c&&(a.xOffset=c.x|0),"y"in c&&(a.yOffset=c.y|0),fh(c.data)&&(e=c.data));if(c.copy){var d=Ud.viewportWidth,l=Ud.viewportHeight;a.width=a.width||d-a.xOffset;a.height=a.height||l-a.yOffset;a.needsCopy=!0}else if(!e)a.width=a.width||1,a.height=a.height||1,a.channels=a.channels||4;else if(sf(e))a.channels=a.channels||4,a.data=e,"type"in c||5121!==a.type||(a.type=Tg[Object.prototype.toString.call(e)]|0);else if(yh(e)){a.channels=a.channels||4;d=e;l=d.length;switch(a.type){case 5121:case 5123:case 5125:case 5126:l=
oc.allocType(a.type,l);l.set(d);a.data=l;break;case 36193:a.data=wh(d)}a.alignment=1;a.needsFree=!0}else if(Sf(e)){d=e.data;Array.isArray(d)||5121!==a.type||(a.type=Tg[Object.prototype.toString.call(d)]|0);var l=e.shape,b=e.stride,h,p,f,q;3===l.length?(f=l[2],q=b[2]):q=f=1;h=l[0];p=l[1];l=b[0];b=b[1];a.alignment=1;a.width=h;a.height=p;a.channels=f;a.format=a.internalformat=Xg[f];a.needsFree=!0;h=q;e=e.offset;f=a.width;q=a.height;p=a.channels;for(var I=oc.allocType(36193===a.type?5126:a.type,f*q*p),
G=0,k=0;k<q;++k)for(var ta=0;ta<f;++ta)for(var H=0;H<p;++H)I[G++]=d[l*ta+b*k+h*H+e];Ah(a,I)}else if(Ff(e)===gh||Ff(e)===hh||Ff(e)===Bh)Ff(e)===gh||Ff(e)===hh?a.element=e:a.element=e.canvas,a.width=a.element.width,a.height=a.element.height,a.channels=4;else if(Ff(e)===Ch)a.element=e,a.width=e.width,a.height=e.height,a.channels=4;else if(Ff(e)===Dh)a.element=e,a.width=e.naturalWidth,a.height=e.naturalHeight,a.channels=4;else if(Ff(e)===Eh)a.element=e,a.width=e.videoWidth,a.height=e.videoHeight,a.channels=
4;else if(zh(e)){d=a.width||e[0].length;l=a.height||e.length;b=a.channels;b=Uf(e[0][0])?b||e[0][0].length:b||1;h=Yg.shape(e);f=1;for(q=0;q<h.length;++q)f*=h[q];f=oc.allocType(36193===a.type?5126:a.type,f);Yg.flatten(e,h,"",f);Ah(a,f);a.alignment=1;a.width=d;a.height=l;a.channels=b;a.format=a.internalformat=Xg[b];a.needsFree=!0}}function Le(c,e,b,f,l){var q=c.element,k=c.data,p=c.internalformat,ta=c.format,n=c.type,I=c.width,G=c.height;h(c);q?a.texSubImage2D(e,l,b,f,ta,n,q):c.compressed?a.compressedTexSubImage2D(e,
l,b,f,p,I,G,k):c.needsCopy?(d(),a.copyTexSubImage2D(e,l,b,f,c.xOffset,c.yOffset,I,G)):a.texSubImage2D(e,l,b,f,I,G,ta,n,k)}function Ab(){return q.pop()||new C}function jb(a){a.needsFree&&oc.freeType(a.data);C.call(a);q.push(a)}function ia(){k.call(this);this.genMipmaps=!1;this.mipmapHint=4352;this.mipmask=0;this.images=Array(16)}function gf(a,c,e){var d=a.images[0]=Ab();a.mipmask=1;d.width=a.width=c;d.height=a.height=e;d.channels=a.channels=4}function Ka(a,c){var e=null;if(fh(c))e=a.images[0]=Ab(),
n(e,a),v(e,c),a.mipmask=1;else if(t(a,c),Array.isArray(c.mipmap))for(var d=c.mipmap,l=0;l<d.length;++l)e=a.images[l]=Ab(),n(e,a),e.width>>=l,e.height>>=l,v(e,d[l]),a.mipmask|=1<<l;else e=a.images[0]=Ab(),n(e,a),v(e,c),a.mipmask=1;n(a,a.images[0])}function Ba(c,e){for(var b=c.images,f=0;f<b.length&&b[f];++f){var l=b[f],q=e,k=f,p=l.element,ta=l.data,n=l.internalformat,I=l.format,G=l.type,t=l.width,C=l.height;h(l);p?a.texImage2D(q,k,I,I,G,p):l.compressed?a.compressedTexImage2D(q,k,n,t,C,0,ta):l.needsCopy?
(d(),a.copyTexImage2D(q,k,I,l.xOffset,l.yOffset,t,C,0)):a.texImage2D(q,k,I,t,C,0,I,G,ta||null)}}function Ea(){var a=Y.pop()||new ia;k.call(a);for(var c=a.mipmask=0;16>c;++c)a.images[c]=null;return a}function N(a){for(var c=a.images,e=0;e<c.length;++e)c[e]&&jb(c[e]),c[e]=null;Y.push(a)}function U(){this.magFilter=this.minFilter=9728;this.wrapT=this.wrapS=33071;this.anisotropic=1;this.genMipmaps=!1;this.mipmapHint=4352}function Nb(a,c){"min"in c&&(a.minFilter=O[c.min],0<=ti.indexOf(a.minFilter)&&!("faces"in
c)&&(a.genMipmaps=!0));"mag"in c&&(a.magFilter=da[c.mag]);var e=a.wrapS,d=a.wrapT;if("wrap"in c){var l=c.wrap;"string"===typeof l?e=d=aa[l]:Array.isArray(l)&&(e=aa[l[0]],d=aa[l[1]])}else"wrapS"in c&&(e=aa[c.wrapS]),"wrapT"in c&&(d=aa[c.wrapT]);a.wrapS=e;a.wrapT=d;"anisotropic"in c&&(a.anisotropic=c.anisotropic);if("mipmap"in c){e=!1;switch(typeof c.mipmap){case "string":a.mipmapHint=ib[c.mipmap];e=a.genMipmaps=!0;break;case "boolean":e=a.genMipmaps=c.mipmap;break;case "object":a.genMipmaps=!1,e=!0}!e||
"min"in c||(a.minFilter=9984)}}function kb(c,e){a.texParameteri(e,10241,c.minFilter);a.texParameteri(e,10240,c.magFilter);a.texParameteri(e,10242,c.wrapS);a.texParameteri(e,10243,c.wrapT);b.ext_texture_filter_anisotropic&&a.texParameteri(e,34046,c.anisotropic);c.genMipmaps&&(a.hint(33170,c.mipmapHint),a.generateMipmap(e))}function fc(c){k.call(this);this.mipmask=0;this.internalformat=6408;this.id=K++;this.refCount=1;this.target=c;this.texture=a.createTexture();this.unit=-1;this.bindCount=0;this.texInfo=
new U;A.profile&&(this.stats={size:0})}function Yb(c){a.activeTexture(33984);a.bindTexture(c.target,c.texture)}function Ob(){var c=S[0];c?a.bindTexture(c.target,c.texture):a.bindTexture(3553,null)}function ob(c){var e=c.texture,d=c.unit,b=c.target;0<=d&&(a.activeTexture(33984+d),a.bindTexture(b,null),S[d]=null);a.deleteTexture(e);c.texture=null;c.params=null;c.pixels=null;c.refCount=0;delete B[c.id];J.textureCount--}var ib={"don't care":4352,"dont care":4352,nice:4354,fast:4353},aa={repeat:10497,
clamp:33071,mirror:33648},da={nearest:9728,linear:9729},O=pd({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},da),qa={none:0,browser:37444},Z={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},X={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Vb={};b.ext_srgb&&(X.srgb=35904,X.srgba=35906);b.oes_texture_float&&(Z.float32=Z["float"]=5126);b.oes_texture_half_float&&
(Z.float16=Z["half float"]=36193);b.webgl_depth_texture&&(pd(X,{depth:6402,"depth stencil":34041}),pd(Z,{uint16:5123,uint32:5125,"depth stencil":34042}));b.webgl_compressed_texture_s3tc&&pd(Vb,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779});b.webgl_compressed_texture_atc&&pd(Vb,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798});b.webgl_compressed_texture_pvrtc&&pd(Vb,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,
"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843});b.webgl_compressed_texture_etc1&&(Vb["rgb etc1"]=36196);var Kb=Array.prototype.slice.call(a.getParameter(34467));Object.keys(Vb).forEach(function(a){var c=Vb[a];0<=Kb.indexOf(c)&&(X[a]=c)});var $b=Object.keys(X);c.textureFormats=$b;var ca=[];Object.keys(X).forEach(function(a){ca[X[a]]=a});var me=[];Object.keys(Z).forEach(function(a){me[Z[a]]=a});var Id=[];Object.keys(da).forEach(function(a){Id[da[a]]=a});var ta=[];Object.keys(O).forEach(function(a){ta[O[a]]=
a});var e=[];Object.keys(aa).forEach(function(a){e[aa[a]]=a});var sd=$b.reduce(function(a,c){var e=X[c];6409===e||6406===e||6409===e||6410===e||6402===e||34041===e||b.ext_srgb&&(35904===e||35906===e)?a[e]=e:32855===e||0<=c.indexOf("rgba")?a[e]=6408:a[e]=6407;return a},{}),q=[],Y=[],K=0,B={},Q=c.maxTextureUnits,S=Array(Q).map(function(){return null});pd(fc.prototype,{bind:function(){this.bindCount+=1;var c=this.unit;if(0>c){for(var e=0;e<Q;++e){var d=S[e];if(d){if(0<d.bindCount)continue;d.unit=-1}S[e]=
this;c=e;break}A.profile&&J.maxTextureUnits<c+1&&(J.maxTextureUnits=c+1);this.unit=c;a.activeTexture(33984+c);a.bindTexture(this.target,this.texture)}return c},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&ob(this)}});A.profile&&(J.getTotalTextureSize=function(){var a=0;Object.keys(B).forEach(function(c){a+=B[c].stats.size});return a});return{create2D:function(c,d){function b(a,c){var d=h.texInfo;U.call(d);var g=Ea();"number"===typeof a?"number"===typeof c?gf(g,a|0,c|0):
gf(g,a|0,a|0):a?(Nb(d,a),Ka(g,a)):gf(g,1,1);d.genMipmaps&&(g.mipmask=(g.width<<1)-1);h.mipmask=g.mipmask;n(h,g);h.internalformat=g.internalformat;b.width=g.width;b.height=g.height;Yb(h);Ba(g,3553);kb(d,3553);Ob();N(g);A.profile&&(h.stats.size=Wg(h.internalformat,h.type,g.width,g.height,d.genMipmaps,!1));b.format=ca[h.internalformat];b.type=me[h.type];b.mag=Id[d.magFilter];b.min=ta[d.minFilter];b.wrapS=e[d.wrapS];b.wrapT=e[d.wrapT];return b}var h=new fc(3553);B[h.id]=h;J.textureCount++;b(c,d);b.subimage=
function(a,c,e,d){c|=0;e|=0;d|=0;var g=Ab();n(g,h);g.width=0;g.height=0;v(g,a);g.width=g.width||(h.width>>d)-c;g.height=g.height||(h.height>>d)-e;Yb(h);Le(g,3553,c,e,d);Ob();jb(g);return b};b.resize=function(c,e){var d=c|0,g=e|0||d;if(d===h.width&&g===h.height)return b;b.width=h.width=d;b.height=h.height=g;Yb(h);for(var f=0;h.mipmask>>f;++f){var q=d>>f,I=g>>f;if(!q||!I)break;a.texImage2D(3553,f,h.format,q,I,0,h.format,h.type,null)}Ob();A.profile&&(h.stats.size=Wg(h.internalformat,h.type,d,g,!1,!1));
return b};b._reglType="texture2d";b._texture=h;A.profile&&(b.stats=h.stats);b.destroy=function(){h.decRef()};return b},createCube:function(c,d,b,h,l,f){function q(a,c,d,g,b,l){var h,f=p.texInfo;U.call(f);for(h=0;6>h;++h)k[h]=Ea();if("number"===typeof a||!a)for(a=a|0||1,h=0;6>h;++h)gf(k[h],a,a);else if("object"===typeof a)if(c)Ka(k[0],a),Ka(k[1],c),Ka(k[2],d),Ka(k[3],g),Ka(k[4],b),Ka(k[5],l);else if(Nb(f,a),t(p,a),"faces"in a)for(a=a.faces,h=0;6>h;++h)n(k[h],p),Ka(k[h],a[h]);else for(h=0;6>h;++h)Ka(k[h],
a);n(p,k[0]);p.mipmask=f.genMipmaps?(k[0].width<<1)-1:k[0].mipmask;p.internalformat=k[0].internalformat;q.width=k[0].width;q.height=k[0].height;Yb(p);for(h=0;6>h;++h)Ba(k[h],34069+h);kb(f,34067);Ob();A.profile&&(p.stats.size=Wg(p.internalformat,p.type,q.width,q.height,f.genMipmaps,!0));q.format=ca[p.internalformat];q.type=me[p.type];q.mag=Id[f.magFilter];q.min=ta[f.minFilter];q.wrapS=e[f.wrapS];q.wrapT=e[f.wrapT];for(h=0;6>h;++h)N(k[h]);return q}var p=new fc(34067);B[p.id]=p;J.cubeCount++;var k=Array(6);
q(c,d,b,h,l,f);q.subimage=function(a,c,e,d,g){e|=0;d|=0;g|=0;var b=Ab();n(b,p);b.width=0;b.height=0;v(b,c);b.width=b.width||(p.width>>g)-e;b.height=b.height||(p.height>>g)-d;Yb(p);Le(b,34069+a,e,d,g);Ob();jb(b);return q};q.resize=function(c){c|=0;if(c!==p.width){q.width=p.width=c;q.height=p.height=c;Yb(p);for(var e=0;6>e;++e)for(var d=0;p.mipmask>>d;++d)a.texImage2D(34069+e,d,p.format,c>>d,c>>d,0,p.format,p.type,null);Ob();A.profile&&(p.stats.size=Wg(p.internalformat,p.type,q.width,q.height,!1,!0));
return q}};q._reglType="textureCube";q._texture=p;A.profile&&(q.stats=p.stats);q.destroy=function(){p.decRef()};return q},clear:function(){for(var c=0;c<Q;++c)a.activeTexture(33984+c),a.bindTexture(3553,null),S[c]=null;qf(B).forEach(ob);J.cubeCount=0;J.textureCount=0},getTexture:function(a){return null},restore:function(){for(var c=0;c<Q;++c){var e=S[c];e&&(e.bindCount=0,e.unit=-1,S[c]=null)}qf(B).forEach(function(c){c.texture=a.createTexture();a.bindTexture(c.target,c.texture);for(var e=0;32>e;++e)if(0!==
(c.mipmask&1<<e))if(3553===c.target)a.texImage2D(3553,e,c.internalformat,c.width>>e,c.height>>e,0,c.internalformat,c.type,null);else for(var d=0;6>d;++d)a.texImage2D(34069+d,e,c.internalformat,c.width>>e,c.height>>e,0,c.internalformat,c.type,null);kb(c.texInfo,c.target)})},refresh:function(){for(var c=0;c<Q;++c){var e=S[c];e&&(e.bindCount=0,e.unit=-1,S[c]=null);a.activeTexture(33984+c);a.bindTexture(3553,null);a.bindTexture(34067,null)}}}}function ui(a,b,c,d,v,J){function A(a,c,d){this.target=a;this.texture=
c;this.renderbuffer=d;var b=a=0;c?(a=c.width,b=c.height):d&&(a=d.width,b=d.height);this.width=a;this.height=b}function k(a){a&&(a.texture&&a.texture._texture.decRef(),a.renderbuffer&&a.renderbuffer._renderbuffer.decRef())}function n(a,c,d){a&&(a.texture?a.texture._texture.refCount+=1:a.renderbuffer._renderbuffer.refCount+=1)}function t(c,d){d&&(d.texture?a.framebufferTexture2D(36160,c,d.target,d.texture._texture.texture,0):a.framebufferRenderbuffer(36160,c,36161,d.renderbuffer._renderbuffer.renderbuffer))}
function h(a){var c=3553,d=null,b=null,h=a;"object"===typeof a&&(h=a.data,"target"in a&&(c=a.target|0));a=h._reglType;"texture2d"===a?d=h:"textureCube"===a?d=h:"renderbuffer"===a&&(b=h,c=36161);return new A(c,d,b)}function C(a,c,b,h,f){if(b)return a=d.create2D({width:a,height:c,format:h,type:f}),a._texture.refCount=0,new A(3553,a,null);a=v.create({width:a,height:c,format:h});a._renderbuffer.refCount=0;return new A(36161,null,a)}function je(a){return a&&(a.texture||a.renderbuffer)}function Le(a,c,
d){a&&(a.texture?a.texture.resize(c,d):a.renderbuffer&&a.renderbuffer.resize(c,d),a.width=c,a.height=d)}function Ab(){this.id=Nb++;kb[this.id]=this;this.framebuffer=a.createFramebuffer();this.height=this.width=0;this.colorAttachments=[];this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function jb(a){a.colorAttachments.forEach(k);k(a.depthAttachment);k(a.stencilAttachment);k(a.depthStencilAttachment)}function ia(c){a.deleteFramebuffer(c.framebuffer);c.framebuffer=null;J.framebufferCount--;
delete kb[c.id]}function gf(d){var b;a.bindFramebuffer(36160,d.framebuffer);var h=d.colorAttachments;for(b=0;b<h.length;++b)t(36064+b,h[b]);for(b=h.length;b<c.maxColorAttachments;++b)a.framebufferTexture2D(36160,36064+b,3553,null,0);a.framebufferTexture2D(36160,33306,3553,null,0);a.framebufferTexture2D(36160,36096,3553,null,0);a.framebufferTexture2D(36160,36128,3553,null,0);t(36096,d.depthAttachment);t(36128,d.stencilAttachment);t(33306,d.depthStencilAttachment);a.checkFramebufferStatus(36160);a.isContextLost();
a.bindFramebuffer(36160,Ba.next?Ba.next.framebuffer:null);Ba.cur=Ba.next;a.getError()}function Ka(a,c){function d(a,c){var f,k=0,t=0,A=!0,J=!0;f=null;var Ab=!0,Ba="rgba",ia="uint8",v=1,Ka=null,Id=null,ta=null,e=!1;if("number"===typeof a)k=a|0,t=c|0||k;else if(a){"shape"in a?(t=a.shape,k=t[0],t=t[1]):("radius"in a&&(k=t=a.radius),"width"in a&&(k=a.width),"height"in a&&(t=a.height));if("color"in a||"colors"in a)f=a.color||a.colors,Array.isArray(f);if(!f){"colorCount"in a&&(v=a.colorCount|0);"colorTexture"in
a&&(Ab=!!a.colorTexture,Ba="rgba4");if("colorType"in a&&(ia=a.colorType,!Ab))if("half float"===ia||"float16"===ia)Ba="rgba16f";else if("float"===ia||"float32"===ia)Ba="rgba32f";"colorFormat"in a&&(Ba=a.colorFormat,0<=Ea.indexOf(Ba)?Ab=!0:0<=N.indexOf(Ba)&&(Ab=!1))}if("depthTexture"in a||"depthStencilTexture"in a)e=!(!a.depthTexture&&!a.depthStencilTexture);"depth"in a&&("boolean"===typeof a.depth?A=a.depth:(Ka=a.depth,J=!1));"stencil"in a&&("boolean"===typeof a.stencil?J=a.stencil:(Id=a.stencil,A=
!1));"depthStencil"in a&&("boolean"===typeof a.depthStencil?A=J=a.depthStencil:(ta=a.depthStencil,J=A=!1))}else k=t=1;var sd=null,q=null,Y=null,K=null;if(Array.isArray(f))sd=f.map(h);else if(f)sd=[h(f)];else for(sd=Array(v),f=0;f<v;++f)sd[f]=C(k,t,Ab,Ba,ia);k=k||sd[0].width;t=t||sd[0].height;Ka?q=h(Ka):A&&!J&&(q=C(k,t,e,"depth","uint32"));Id?Y=h(Id):J&&!A&&(Y=C(k,t,!1,"stencil","uint8"));ta?K=h(ta):!Ka&&!Id&&J&&A&&(K=C(k,t,e,"depth stencil","depth stencil"));A=null;for(f=0;f<sd.length;++f)n(sd[f],
k,t),sd[f]&&sd[f].texture&&(J=ih[sd[f].texture._texture.format]*Zg[sd[f].texture._texture.type],null===A&&(A=J));n(q,k,t);n(Y,k,t);n(K,k,t);jb(b);b.width=k;b.height=t;b.colorAttachments=sd;b.depthAttachment=q;b.stencilAttachment=Y;b.depthStencilAttachment=K;d.color=sd.map(je);d.depth=je(q);d.stencil=je(Y);d.depthStencil=je(K);d.width=b.width;d.height=b.height;gf(b);return d}var b=new Ab;J.framebufferCount++;d(a,c);return pd(d,{resize:function(a,c){var h=Math.max(a|0,1),f=Math.max(c|0||h,1);if(h===
b.width&&f===b.height)return d;for(var k=b.colorAttachments,n=0;n<k.length;++n)Le(k[n],h,f);Le(b.depthAttachment,h,f);Le(b.stencilAttachment,h,f);Le(b.depthStencilAttachment,h,f);b.width=d.width=h;b.height=d.height=f;gf(b);return d},_reglType:"framebuffer",_framebuffer:b,destroy:function(){ia(b);jb(b)},use:function(a){Ba.setFBO({framebuffer:d},a)}})}var Ba={cur:null,next:null,dirty:!1,setFBO:null},Ea=["rgba"],N=["rgba4","rgb565","rgb5 a1"];b.ext_srgb&&N.push("srgba");b.ext_color_buffer_half_float&&
N.push("rgba16f","rgb16f");b.webgl_color_buffer_float&&N.push("rgba32f");var U=["uint8"];b.oes_texture_half_float&&U.push("half float","float16");b.oes_texture_float&&U.push("float","float32");var Nb=0,kb={};return pd(Ba,{getFramebuffer:function(a){return"function"===typeof a&&"framebuffer"===a._reglType&&(a=a._framebuffer,a instanceof Ab)?a:null},create:Ka,createCube:function(a){function c(a){var h,f={color:null},k=0,n=null;h="rgba";var t="uint8",C=1;if("number"===typeof a)k=a|0;else if(a){"shape"in
a?k=a.shape[0]:("radius"in a&&(k=a.radius|0),"width"in a?k=a.width|0:"height"in a&&(k=a.height|0));if("color"in a||"colors"in a)n=a.color||a.colors,Array.isArray(n);n||("colorCount"in a&&(C=a.colorCount|0),"colorType"in a&&(t=a.colorType),"colorFormat"in a&&(h=a.colorFormat));"depth"in a&&(f.depth=a.depth);"stencil"in a&&(f.stencil=a.stencil);"depthStencil"in a&&(f.depthStencil=a.depthStencil)}else k=1;if(n)if(Array.isArray(n))for(a=[],h=0;h<n.length;++h)a[h]=n[h];else a=[n];else for(a=Array(C),n=
{radius:k,format:h,type:t},h=0;h<C;++h)a[h]=d.createCube(n);f.color=Array(a.length);for(h=0;h<a.length;++h)C=a[h],k=k||C.width,f.color[h]={target:34069,data:a[h]};for(h=0;6>h;++h){for(C=0;C<a.length;++C)f.color[C].target=34069+h;0<h&&(f.depth=b[0].depth,f.stencil=b[0].stencil,f.depthStencil=b[0].depthStencil);if(b[h])b[h](f);else b[h]=Ka(f)}return pd(c,{width:k,height:k,color:a})}var b=Array(6);c(a);return pd(c,{faces:b,resize:function(a){var d=a|0;if(d===c.width)return c;var h=c.color;for(a=0;a<
h.length;++a)h[a].resize(d);for(a=0;6>a;++a)b[a].resize(d);c.width=c.height=d;return c},_reglType:"framebufferCube",destroy:function(){b.forEach(function(a){a.destroy()})}})},clear:function(){qf(kb).forEach(ia)},restore:function(){Ba.cur=null;Ba.next=null;Ba.dirty=!0;qf(kb).forEach(function(c){c.framebuffer=a.createFramebuffer();gf(c)})}})}function jh(){this.w=this.z=this.y=this.x=this.state=0;this.buffer=null;this.size=0;this.normalized=!1;this.type=5126;this.divisor=this.stride=this.offset=0}function vi(a,
b,c,d,v,J,A){function k(a){if(a!==ia.currentVAO){var c=b.oes_vertex_array_object;a?c.bindVertexArrayOES(a.vao):c.bindVertexArrayOES(null);ia.currentVAO=a}}function n(c){if(c!==ia.currentVAO){if(c)c.bindAttrs();else{for(var d=b.angle_instanced_arrays,h=0;h<Le.length;++h){var k=Le[h];k.buffer?(a.enableVertexAttribArray(h),k.buffer.bind(),a.vertexAttribPointer(h,k.size,k.type,k.normalized,k.stride,k.offfset),d&&k.divisor&&d.vertexAttribDivisorANGLE(h,k.divisor)):(a.disableVertexAttribArray(h),a.vertexAttrib4f(h,
k.x,k.y,k.z,k.w))}A.elements?a.bindBuffer(34963,A.elements.buffer.buffer):a.bindBuffer(34963,null)}ia.currentVAO=c}}function t(){qf(jb).forEach(function(a){a.destroy()})}function h(){this.id=++Ab;this.attributes=[];this.elements=null;this.ownsElements=!1;this.offset=this.count=0;this.instances=-1;this.primitive=4;var a=b.oes_vertex_array_object;this.vao=a?a.createVertexArrayOES():null;jb[this.id]=this;this.buffers=[]}function C(){b.oes_vertex_array_object&&qf(jb).forEach(function(a){a.refresh()})}
var je=c.maxAttributes,Le=Array(je);for(c=0;c<je;++c)Le[c]=new jh;var Ab=0,jb={},ia={Record:jh,scope:{},state:Le,currentVAO:null,targetVAO:null,restore:b.oes_vertex_array_object?C:function(){},createVAO:function(a){function c(a){var d;Array.isArray(a)?(d=a,b.elements&&b.ownsElements&&b.elements.destroy(),b.elements=null,b.ownsElements=!1,b.offset=0,b.count=0,b.instances=-1,b.primitive=4):(a.elements?(d=a.elements,b.ownsElements?("function"===typeof d&&"elements"===d._reglType?b.elements.destroy():
b.elements(d),b.ownsElements=!1):J.getElements(a.elements)?(b.elements=a.elements,b.ownsElements=!1):(b.elements=J.create(a.elements),b.ownsElements=!0)):(b.elements=null,b.ownsElements=!1),d=a.attributes,b.offset=0,b.count=-1,b.instances=-1,b.primitive=4,b.elements&&(b.count=b.elements._elements.vertCount,b.primitive=b.elements._elements.primType),"offset"in a&&(b.offset=a.offset|0),"count"in a&&(b.count=a.count|0),"instances"in a&&(b.instances=a.instances|0),"primitive"in a&&(b.primitive=Vg[a.primitive]));
a={};var h=b.attributes;h.length=d.length;for(var f=0;f<d.length;++f){var k=d[f],n=h[f]=new jh,t=k.data||k;if(Array.isArray(t)||sf(t)||Sf(t)){var C;b.buffers[f]&&(C=b.buffers[f],sf(t)&&C._buffer.byteLength>=t.byteLength?C.subdata(t):(C.destroy(),b.buffers[f]=null));b.buffers[f]||(C=b.buffers[f]=v.create(k,34962,!1,!0));n.buffer=v.getBuffer(C);n.size=n.buffer.dimension|0;n.normalized=!1;n.type=n.buffer.dtype;n.offset=0;n.stride=0;n.divisor=0;n.state=1;a[f]=1}else v.getBuffer(k)?(n.buffer=v.getBuffer(k),
n.size=n.buffer.dimension|0,n.normalized=!1,n.type=n.buffer.dtype,n.offset=0,n.stride=0,n.divisor=0,n.state=1):v.getBuffer(k.buffer)?(n.buffer=v.getBuffer(k.buffer),n.size=(+k.size||n.buffer.dimension)|0,n.normalized=!!k.normalized||!1,n.type="type"in k?Ug[k.type]:n.buffer.dtype,n.offset=(k.offset||0)|0,n.stride=(k.stride||0)|0,n.divisor=(k.divisor||0)|0,n.state=1):"x"in k&&(n.x=+k.x||0,n.y=+k.y||0,n.z=+k.z||0,n.w=+k.w||0,n.state=2)}for(C=0;C<b.buffers.length;++C)!a[C]&&b.buffers[C]&&(b.buffers[C].destroy(),
b.buffers[C]=null);b.refresh();return c}var b=new h;d.vaoCount+=1;c.destroy=function(){for(var a=0;a<b.buffers.length;++a)b.buffers[a]&&b.buffers[a].destroy();b.buffers.length=0;b.ownsElements&&(b.elements.destroy(),b.elements=null,b.ownsElements=!1);b.destroy()};c._vao=b;c._reglType="vao";return c(a)},getVAO:function(a){return"function"===typeof a&&a._vao?a._vao:null},destroyBuffer:function(c){for(var d=0;d<Le.length;++d){var b=Le[d];b.buffer===c&&(a.disableVertexAttribArray(d),b.buffer=null)}},
setVAO:b.oes_vertex_array_object?k:n,clear:b.oes_vertex_array_object?t:function(){}};h.prototype.bindAttrs=function(){for(var c=b.angle_instanced_arrays,d=this.attributes,h=0;h<d.length;++h){var k=d[h];k.buffer?(a.enableVertexAttribArray(h),a.bindBuffer(34962,k.buffer.buffer),a.vertexAttribPointer(h,k.size,k.type,k.normalized,k.stride,k.offset),c&&k.divisor&&c.vertexAttribDivisorANGLE(h,k.divisor)):(a.disableVertexAttribArray(h),a.vertexAttrib4f(h,k.x,k.y,k.z,k.w))}for(c=d.length;c<je;++c)a.disableVertexAttribArray(c);
(c=J.getElements(this.elements))?a.bindBuffer(34963,c.buffer.buffer):a.bindBuffer(34963,null)};h.prototype.refresh=function(){var a=b.oes_vertex_array_object;a&&(a.bindVertexArrayOES(this.vao),this.bindAttrs(),ia.currentVAO=null,a.bindVertexArrayOES(null))};h.prototype.destroy=function(){if(this.vao){var a=b.oes_vertex_array_object;this===ia.currentVAO&&(ia.currentVAO=null,a.bindVertexArrayOES(null));a.deleteVertexArrayOES(this.vao);this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=
null,this.ownsElements=!1);jb[this.id]&&(delete jb[this.id],--d.vaoCount)};return ia}function wi(a,b,c,d){function v(a,c,d,b){this.name=a;this.id=c;this.location=d;this.info=b}function J(a,c){for(var d=0;d<a.length;++d)if(a[d].id===c.id){a[d].location=c.location;return}a.push(c)}function A(c,d,k){k=35632===c?t:h;var n=k[d];if(!n){var C=b.str(d),n=a.createShader(c);a.shaderSource(n,C);a.compileShader(n);k[d]=n}return n}function k(a,c){this.id=Le++;this.fragId=a;this.vertId=c;this.program=null;this.uniforms=
[];this.attributes=[];this.refCount=1;d.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function n(c,h,k){var n;n=A(35632,c.fragId);var t=A(35633,c.vertId);h=c.program=a.createProgram();a.attachShader(h,n);a.attachShader(h,t);if(k)for(n=0;n<k.length;++n)t=k[n],a.bindAttribLocation(h,t[0],t[1]);a.linkProgram(h);t=a.getProgramParameter(h,35718);d.profile&&(c.stats.uniformsCount=t);var C=c.uniforms;for(n=0;n<t;++n)if(k=a.getActiveUniform(h,n))if(1<k.size)for(var je=0;je<k.size;++je){var Le=
k.name.replace("[0]","["+je+"]");J(C,new v(Le,b.id(Le),a.getUniformLocation(h,Le),k))}else J(C,new v(k.name,b.id(k.name),a.getUniformLocation(h,k.name),k));t=a.getProgramParameter(h,35721);d.profile&&(c.stats.attributesCount=t);c=c.attributes;for(n=0;n<t;++n)(k=a.getActiveAttrib(h,n))&&J(c,new v(k.name,b.id(k.name),a.getAttribLocation(h,k.name),k))}var t={},h={},C={},je=[],Le=0;d.profile&&(c.getMaxUniformsCount=function(){var a=0;je.forEach(function(c){c.stats.uniformsCount>a&&(a=c.stats.uniformsCount)});
return a},c.getMaxAttributesCount=function(){var a=0;je.forEach(function(c){c.stats.attributesCount>a&&(a=c.stats.attributesCount)});return a});return{clear:function(){var d=a.deleteShader.bind(a);qf(t).forEach(d);t={};qf(h).forEach(d);h={};je.forEach(function(c){a.deleteProgram(c.program)});je.length=0;C={};c.shaderCount=0},program:function(d,b,f,A){var J=C[b];J||(J=C[b]={});var v=J[d];if(v&&(v.refCount++,!A))return v;var Ud=new k(b,d);c.shaderCount++;n(Ud,f,A);v||(J[d]=Ud);je.push(Ud);return pd(Ud,
{destroy:function(){Ud.refCount--;if(0>=Ud.refCount){a.deleteProgram(Ud.program);var d=je.indexOf(Ud);je.splice(d,1);c.shaderCount--}0>=J[Ud.vertId].refCount&&(a.deleteShader(h[Ud.vertId]),delete h[Ud.vertId],delete C[Ud.fragId][Ud.vertId]);Object.keys(C[Ud.fragId]).length||(a.deleteShader(t[Ud.fragId]),delete t[Ud.fragId],delete C[Ud.fragId])}})},restore:function(){t={};h={};for(var a=0;a<je.length;++a)n(je[a],null,je[a].attributes.map(function(a){return[a.location,a.name]}))},shader:A,frag:-1,vert:-1}}
function xi(a,b,c,d,v,J,A){function k(k){var h;h=null===b.next?5121:b.next.colorAttachments[0].texture._texture.type;var n=0,A=0,J=d.framebufferWidth,v=d.framebufferHeight,Ud=null;sf(k)?Ud=k:k&&(n=k.x|0,A=k.y|0,J=(k.width||d.framebufferWidth-n)|0,v=(k.height||d.framebufferHeight-A)|0,Ud=k.data||null);c();k=J*v*4;Ud||(5121===h?Ud=new Uint8Array(k):5126===h&&(Ud=Ud||new Float32Array(k)));a.pixelStorei(3333,4);a.readPixels(n,A,J,v,6408,h,Ud);return Ud}function n(a){var c;b.setFBO({framebuffer:a.framebuffer},
function(){c=k(a)});return c}return function(a){return a&&"framebuffer"in a?n(a):k(a)}}function eg(a){return Array.prototype.slice.call(a)}function gg(a){return eg(a).join("")}function yi(a){function b(){var a=[],c=[];return pd(function(){a.push.apply(a,eg(arguments))},{def:function(){var b="v"+d++;c.push(b);0<arguments.length&&(a.push(b,"="),a.push.apply(a,eg(arguments)),a.push(";"));return b},toString:function(){return gg([0<c.length?"var "+c.join(",")+";":"",gg(a)])}})}function c(){function a(b,
k){d(b,k,"=",c.def(b,k),";")}var c=b(),d=b(),k=c.toString,A=d.toString;return pd(function(){c.apply(c,eg(arguments))},{def:c.def,entry:c,exit:d,save:a,set:function(d,b,h){a(d,b);c(d,b,"=",h,";")},toString:function(){return k()+A()}})}var d=0,v=[],J=[],A=b(),k={};JSON.stringify(a,zi(),2);return{global:A,link:function(a){for(var c=0;c<J.length;++c)if(J[c]===a)return v[c];c="g"+d++;v.push(c);J.push(a);return c},block:b,proc:function(a,d){function b(){var a="a"+f.length;f.push(a);return a}var f=[];d=
d||0;for(var A=0;A<d;++A)b();var A=c(),J=A.toString;return k[a]=pd(A,{arg:b,toString:function(){return gg(["function(",f.join(),"){",J(),"}"])}})},scope:c,cond:function(){var a=gg(arguments),d=c(),b=c(),k=d.toString,f=b.toString;return pd(d,{then:function(){d.apply(d,eg(arguments));return this},"else":function(){b.apply(b,eg(arguments));return this},toString:function(){var c=f();c&&(c="else{"+c+"}");return gg(["if(",a,"){",k(),"}",c])}})},compile:function(a){var c=['"use strict";',A,"return {"];Object.keys(k).forEach(function(a){c.push('"',
a,'":',k[a].toString(),",")});c.push("}");var d=gg(c).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n").length+"."+v.join(",").length;if(!Fh[d])throw Error("Could not find precompiled shader for hash "+d);return Fh[d].apply(null,[].concat([a],$jscomp.arrayFromIterable(J)))}}}function $g(a){return Array.isArray(a)||sf(a)||Sf(a)}function Gh(a){return a.sort(function(a,c){return"viewport"===a?-1:"viewport"===c?1:a<c?-1:1})}function Jd(a,b,c,d){this.thisDep=a;this.contextDep=b;this.propDep=
c;this.append=d}function Vf(a){return a&&!(a.thisDep||a.contextDep||a.propDep)}function ad(a){return new Jd(!1,!1,!1,a)}function Ae(a,b){var c=a.type;if(0===c)return c=a.data.length,new Jd(!0,1<=c,2<=c,b);if(4===c)return c=a.data,new Jd(c.thisDep,c.contextDep,c.propDep,b);if(5===c)return new Jd(!1,!1,!1,b);if(6===c){for(var d=c=!1,v=!1,J=0;J<a.data.length;++J){var A=a.data[J];1===A.type?v=!0:2===A.type?d=!0:3===A.type?c=!0:0===A.type?(c=!0,A=A.data,1<=A&&(d=!0),2<=A&&(v=!0)):4===A.type&&(c=c||A.data.thisDep,
d=d||A.data.contextDep,v=v||A.data.propDep)}return new Jd(c,d,v,b)}return new Jd(3===c,2===c,1===c,b)}function Ai(a,b,c,d,v,J,A,k,n,t,h,C,je,N,Ab){function jb(a){return a.replace(".","_")}function ia(a,c,d){var e=jb(a);l.push(a);V[e]=W[e]=!!d;lb[e]=c}function gf(a,c,d){var e=jb(a);l.push(a);Array.isArray(d)?(W[e]=d.slice(),V[e]=d.slice()):W[e]=V[e]=d;Wa[e]=c}function Ka(a){var c=yi(a),d=c.link,e=c.global;c.id=za++;c.batchId="0";var g=d(p),h=c.shared={props:"a0"};Object.keys(p).forEach(function(a){h[a]=
e.def(g,".",a)});var k=c.next={},z=c.current={};Object.keys(Wa).forEach(function(a){Array.isArray(W[a])&&(k[a]=e.def(h.next,".",a),z[a]=e.def(h.current,".",a))});var l=c.constants={};Object.keys(fa).forEach(function(a){l[a]=e.def(JSON.stringify(fa[a]))});c.invoke=function(a,e){switch(e.type){case 0:var b=["this",h.context,h.props,c.batchId];return a.def(d(e.data),".call(",b.slice(0,Math.max(e.data.length+1,4)),")");case 1:return a.def(h.props,e.data);case 2:return a.def(h.context,e.data);case 3:return a.def("this",
e.data);case 4:return e.data.append(c,a),e.data.ref;case 5:return e.data.toString();case 6:return e.data.map(function(e){return c.invoke(a,e)})}};c.attribCache={};var q={};c.scopeAttrib=function(a){a=b.id(a);if(a in q)return q[a];var c=t.scope[a];c||(c=t.scope[a]=new B);return q[a]=d(c)};return c}function Ba(a){var c=a["static"];a=a.dynamic;var e;if("profile"in c){var d=!!c.profile;e=ad(function(a,c){return d});e.enable=d}else if("profile"in a){var b=a.profile;e=Ae(b,function(a,c){return a.invoke(c,
b)})}return e}function Ea(a,c){var e=a["static"],d=a.dynamic;if("framebuffer"in e){var b=e.framebuffer;return b?(b=k.getFramebuffer(b),ad(function(a,c){var e=a.link(b),d=a.shared;c.set(d.framebuffer,".next",e);d=d.context;c.set(d,".framebufferWidth",e+".width");c.set(d,".framebufferHeight",e+".height");return e})):ad(function(a,c){var e=a.shared;c.set(e.framebuffer,".next","null");e=e.context;c.set(e,".framebufferWidth",e+".drawingBufferWidth");c.set(e,".framebufferHeight",e+".drawingBufferHeight");
return"null"})}if("framebuffer"in d){var g=d.framebuffer;return Ae(g,function(a,c){var e=a.invoke(c,g),d=a.shared,b=d.framebuffer,e=c.def(b,".getFramebuffer(",e,")");c.set(b,".next",e);d=d.context;c.set(d,".framebufferWidth",e+"?"+e+".width:"+d+".drawingBufferWidth");c.set(d,".framebufferHeight",e+"?"+e+".height:"+d+".drawingBufferHeight");return e})}return null}function U(a,c,e){function d(a){if(a in b){var e=b[a];a=!0;var h=e.x|0,k=e.y|0,l,I;"width"in e?l=e.width|0:a=!1;"height"in e?I=e.height|
0:a=!1;return new Jd(!a&&c&&c.thisDep,!a&&c&&c.contextDep,!a&&c&&c.propDep,function(a,c){var d=a.shared.context,b=l;"width"in e||(b=c.def(d,".","framebufferWidth","-",h));var g=I;"height"in e||(g=c.def(d,".","framebufferHeight","-",k));return[h,k,b,g]})}if(a in g){var f=g[a];a=Ae(f,function(a,c){var e=a.invoke(c,f),d=a.shared.context,b=c.def(e,".x|0"),g=c.def(e,".y|0"),h=c.def('"width" in ',e,"?",e,".width|0:","(",d,".","framebufferWidth","-",b,")"),e=c.def('"height" in ',e,"?",e,".height|0:","(",
d,".","framebufferHeight","-",g,")");return[b,g,h,e]});c&&(a.thisDep=a.thisDep||c.thisDep,a.contextDep=a.contextDep||c.contextDep,a.propDep=a.propDep||c.propDep);return a}return c?new Jd(c.thisDep,c.contextDep,c.propDep,function(a,c){var e=a.shared.context;return[0,0,c.def(e,".","framebufferWidth"),c.def(e,".","framebufferHeight")]}):null}var b=a["static"],g=a.dynamic;if(a=d("viewport")){var h=a;a=new Jd(a.thisDep,a.contextDep,a.propDep,function(a,c){var e=h.append(a,c),d=a.shared.context;c.set(d,
".viewportWidth",e[2]);c.set(d,".viewportHeight",e[3]);return e})}return{viewport:a,scissor_box:d("scissor.box")}}function Ub(a,c){var e=a["static"];if("string"===typeof e.frag&&"string"===typeof e.vert){if(0<Object.keys(c.dynamic).length)return null;var e=c["static"],d=Object.keys(e);if(0<d.length&&"number"===typeof e[d[0]]){for(var b=[],g=0;g<d.length;++g)b.push([e[d[g]]|0,d[g]]);return b}}return null}function Nb(a,c,e){function d(a){if(a in g){var c=b.id(g[a]);a=ad(function(){return c});a.id=c;
return a}if(a in k){var e=k[a];return Ae(e,function(a,c){var d=a.invoke(c,e);return c.def(a.shared.strings,".id(",d,")")})}return null}var g=a["static"],k=a.dynamic,l=d("frag"),z=d("vert"),q=null;Vf(l)&&Vf(z)?(q=h.program(z.id,l.id,null,e),a=ad(function(a,c){return a.link(q)})):a=new Jd(l&&l.thisDep||z&&z.thisDep,l&&l.contextDep||z&&z.contextDep,l&&l.propDep||z&&z.propDep,function(a,c){var e=a.shared.shader,d;d=l?l.append(a,c):c.def(e,".","frag");var b;b=z?z.append(a,c):c.def(e,".","vert");return c.def(e+
".program("+b+","+d+")")});return{frag:l,vert:z,progVar:a,program:q}}function kb(a,c){function e(a,c){if(a in d){var f=d[a]|0;c?g.offset=f:g.instances=f;return ad(function(a,e){c&&(a.OFFSET=f);return f})}if(a in b){var I=b[a];return Ae(I,function(a,e){var d=a.invoke(e,I);c&&(a.OFFSET=d);return d})}if(c){if(l)return ad(function(a,c){return a.OFFSET=0});if(h)return new Jd(k.thisDep,k.contextDep,k.propDep,function(a,c){return c.def(a.shared.vao+".currentVAO?"+a.shared.vao+".currentVAO.offset:0")})}else if(h)return new Jd(k.thisDep,
k.contextDep,k.propDep,function(a,c){return c.def(a.shared.vao+".currentVAO?"+a.shared.vao+".currentVAO.instances:-1")});return null}var d=a["static"],b=a.dynamic,g={},h=!1,k=function(){if("vao"in d){var a=d.vao;null!==a&&null===t.getVAO(a)&&(a=t.createVAO(a));h=!0;g.vao=a;return ad(function(c){var e=t.getVAO(a);return e?c.link(e):"null"})}if("vao"in b){h=!0;var c=b.vao;return Ae(c,function(a,e){var d=a.invoke(e,c);return e.def(a.shared.vao+".getVAO("+d+")")})}return null}(),l=!1,f=function(){if("elements"in
d){var a=d.elements;g.elements=a;if($g(a)){var c=g.elements=J.create(a,!0),a=J.getElements(c);l=!0}else a&&(a=J.getElements(a),l=!0);c=ad(function(c,e){if(a){var d=c.link(a);return c.ELEMENTS=d}return c.ELEMENTS=null});c.value=a;return c}if("elements"in b){l=!0;var e=b.elements;return Ae(e,function(a,c){var d=a.shared,b=d.isBufferArgs,d=d.elements,g=a.invoke(c,e),h=c.def("null"),b=c.def(b,"(",g,")"),g=a.cond(b).then(h,"=",d,".createStream(",g,");")["else"](h,"=",d,".getElements(",g,");");c.entry(g);
c.exit(a.cond(b).then(d,".destroyStream(",h,");"));return a.ELEMENTS=h})}return h?new Jd(k.thisDep,k.contextDep,k.propDep,function(a,c){return c.def(a.shared.vao+".currentVAO?"+a.shared.elements+".getElements("+a.shared.vao+".currentVAO.elements):null")}):null}(),q=e("offset",!0),x=function(){if("primitive"in d){var a=d.primitive;g.primitive=a;return ad(function(c,e){return Vg[a]})}if("primitive"in b){var c=b.primitive;return Ae(c,function(a,e){var d=a.constants.primTypes,b=a.invoke(e,c);return e.def(d,
"[",b,"]")})}return l?Vf(f)?f.value?ad(function(a,c){return c.def(a.ELEMENTS,".primType")}):ad(function(){return 4}):new Jd(f.thisDep,f.contextDep,f.propDep,function(a,c){var e=a.ELEMENTS;return c.def(e,"?",e,".primType:",4)}):h?new Jd(k.thisDep,k.contextDep,k.propDep,function(a,c){return c.def(a.shared.vao+".currentVAO?"+a.shared.vao+".currentVAO.primitive:4")}):null}(),p=function(){if("count"in d){var a=d.count|0;g.count=a;return ad(function(){return a})}if("count"in b){var c=b.count;return Ae(c,
function(a,e){return a.invoke(e,c)})}return l?Vf(f)?f?q?new Jd(q.thisDep,q.contextDep,q.propDep,function(a,c){return c.def(a.ELEMENTS,".vertCount-",a.OFFSET)}):ad(function(a,c){return c.def(a.ELEMENTS,".vertCount")}):ad(function(){return-1}):new Jd(f.thisDep||q.thisDep,f.contextDep||q.contextDep,f.propDep||q.propDep,function(a,c){var e=a.ELEMENTS;return a.OFFSET?c.def(e,"?",e,".vertCount-",a.OFFSET,":-1"):c.def(e,"?",e,".vertCount:-1")}):h?new Jd(k.thisDep,k.contextDep,k.propDep,function(a,c){return c.def(a.shared.vao,
".currentVAO?",a.shared.vao,".currentVAO.count:-1")}):null}(),n=e("instances",!1);return{elements:f,primitive:x,count:p,instances:n,offset:q,vao:k,vaoActive:h,elementsActive:l,"static":g}}function fc(a,c){var e=a["static"],d=a.dynamic,b={};l.forEach(function(a){function c(h,k){if(a in e){var l=h(e[a]);b[g]=ad(function(){return l})}else if(a in d){var f=d[a];b[g]=Ae(f,function(a,c){return k(a,c,a.invoke(c,f))})}}var g=jb(a);switch(a){case "cull.enable":case "blend.enable":case "dither":case "stencil.enable":case "depth.enable":case "scissor.enable":case "polygonOffset.enable":case "sample.alpha":case "sample.enable":case "depth.mask":return c(function(a){return a},
function(a,c,e){return e});case "depth.func":return c(function(a){return kh[a]},function(a,c,e){return c.def(a.constants.compareFuncs,"[",e,"]")});case "depth.range":return c(function(a){return a},function(a,c,e){a=c.def("+",e,"[0]");c=c.def("+",e,"[1]");return[a,c]});case "blend.func":return c(function(a){return[og["srcRGB"in a?a.srcRGB:a.src],og["dstRGB"in a?a.dstRGB:a.dst],og["srcAlpha"in a?a.srcAlpha:a.src],og["dstAlpha"in a?a.dstAlpha:a.dst]]},function(a,c,e){function d(a,b){return c.def('"',
a,b,'" in ',e,"?",e,".",a,b,":",e,".",a)}a=a.constants.blendFuncs;var b=d("src","RGB"),g=d("dst","RGB"),b=c.def(a,"[",b,"]"),h=c.def(a,"[",d("src","Alpha"),"]"),g=c.def(a,"[",g,"]");a=c.def(a,"[",d("dst","Alpha"),"]");return[b,g,h,a]});case "blend.equation":return c(function(a){if("string"===typeof a)return[Q[a],Q[a]];if("object"===typeof a)return[Q[a.rgb],Q[a.alpha]]},function(a,c,e){var d=a.constants.blendEquations,b=c.def(),g=c.def();a=a.cond("typeof ",e,'==="string"');a.then(b,"=",g,"=",d,"[",
e,"];");a["else"](b,"=",d,"[",e,".rgb];",g,"=",d,"[",e,".alpha];");c(a);return[b,g]});case "blend.color":return c(function(a){return ff(4,function(c){return+a[c]})},function(a,c,e){return ff(4,function(a){return c.def("+",e,"[",a,"]")})});case "stencil.mask":return c(function(a){return a|0},function(a,c,e){return c.def(e,"|0")});case "stencil.func":return c(function(a){return[kh[a.cmp||"keep"],a.ref||0,"mask"in a?a.mask:-1]},function(a,c,e){a=c.def('"cmp" in ',e,"?",a.constants.compareFuncs,"[",e,
".cmp]",":",7680);var d=c.def(e,".ref|0");c=c.def('"mask" in ',e,"?",e,".mask|0:-1");return[a,d,c]});case "stencil.opFront":case "stencil.opBack":return c(function(c){return["stencil.opBack"===a?1029:1028,ah[c.fail||"keep"],ah[c.zfail||"keep"],ah[c.zpass||"keep"]]},function(c,e,d){function b(a){return e.def('"',a,'" in ',d,"?",g,"[",d,".",a,"]:",7680)}var g=c.constants.stencilOps;return["stencil.opBack"===a?1029:1028,b("fail"),b("zfail"),b("zpass")]});case "polygonOffset.offset":return c(function(a){return[a.factor|
0,a.units|0]},function(a,c,e){a=c.def(e,".factor|0");c=c.def(e,".units|0");return[a,c]});case "cull.face":return c(function(a){var c=0;"front"===a?c=1028:"back"===a&&(c=1029);return c},function(a,c,e){return c.def(e,'==="front"?',1028,":",1029)});case "lineWidth":return c(function(a){return a},function(a,c,e){return e});case "frontFace":return c(function(a){return Hh[a]},function(a,c,e){return c.def(e+'==="cw"?2304:2305')});case "colorMask":return c(function(a){return a.map(function(a){return!!a})},
function(a,c,e){return ff(4,function(a){return"!!"+e+"["+a+"]"})});case "sample.coverage":return c(function(a){return["value"in a?a.value:1,!!a.invert]},function(a,c,e){a=c.def('"value" in ',e,"?+",e,".value:1");c=c.def("!!",e,".invert");return[a,c]})}});return b}function Yb(a,c){var e=a["static"],d=a.dynamic,b={};Object.keys(e).forEach(function(a){var c=e[a],d;if("number"===typeof c||"boolean"===typeof c)d=ad(function(){return c});else if("function"===typeof c){var g=c._reglType;if("texture2d"===
g||"textureCube"===g)d=ad(function(a){return a.link(c)});else if("framebuffer"===g||"framebufferCube"===g)d=ad(function(a){return a.link(c.color[0])})}else Uf(c)&&(d=ad(function(a){return a.global.def("[",ff(c.length,function(a){return c[a]}),"]")}));d.value=c;b[a]=d});Object.keys(d).forEach(function(a){var c=d[a];b[a]=Ae(c,function(a,e){return a.invoke(e,c)})});return b}function Ob(a,c){var e=a["static"],d=a.dynamic,g={};Object.keys(e).forEach(function(a){var c=e[a],d=b.id(a),h=new B;if($g(c))h.state=
1,h.buffer=v.getBuffer(v.create(c,34962,!1,!0)),h.type=0;else{var k=v.getBuffer(c);if(k)h.state=1,h.buffer=k,h.type=0;else if("constant"in c){var l=c.constant;h.buffer="null";h.state=2;"number"===typeof l?h.x=l:hg.forEach(function(a,c){c<l.length&&(h[a]=l[c])})}else{var k=$g(c.buffer)?v.getBuffer(v.create(c.buffer,34962,!1,!0)):v.getBuffer(c.buffer),I=c.offset|0,q=c.stride|0,p=c.size|0,n=!!c.normalized,G=0;"type"in c&&(G=Ug[c.type]);c=c.divisor|0;h.buffer=k;h.state=1;h.size=p;h.normalized=n;h.type=
G||k.dtype;h.offset=I;h.stride=q;h.divisor=c}}g[a]=ad(function(a,c){var e=a.attribCache;if(d in e)return e[d];var b={isStream:!1};Object.keys(h).forEach(function(a){b[a]=h[a]});h.buffer&&(b.buffer=a.link(h.buffer),b.type=b.type||b.buffer+".dtype");return e[d]=b})});Object.keys(d).forEach(function(a){var c=d[a];g[a]=Ae(c,function(a,e){function d(a){e(l[a],"=",b,".",a,"|0;")}var b=a.invoke(e,c),g=a.shared,h=a.constants,k=g.isBufferArgs,g=g.buffer,l={isStream:e.def(!1)},f=new B;f.state=1;Object.keys(f).forEach(function(a){l[a]=
e.def(""+f[a])});var I=l.buffer,q=l.type;e("if(",k,"(",b,")){",l.isStream,"=true;",I,"=",g,".createStream(",34962,",",b,");",q,"=",I,".dtype;","}else{",I,"=",g,".getBuffer(",b,");","if(",I,"){",q,"=",I,".dtype;",'}else if("constant" in ',b,"){",l.state,"=",2,";","if(typeof "+b+'.constant === "number"){',l[hg[0]],"=",b,".constant;",hg.slice(1).map(function(a){return l[a]}).join("="),"=0;","}else{",hg.map(function(a,c){return l[a]+"="+b+".constant.length>"+c+"?"+b+".constant["+c+"]:0;"}).join(""),"}}else{",
"if(",k,"(",b,".buffer)){",I,"=",g,".createStream(",34962,",",b,".buffer);","}else{",I,"=",g,".getBuffer(",b,".buffer);","}",q,'="type" in ',b,"?",h.glTypes,"[",b,".type]:",I,".dtype;",l.normalized,"=!!",b,".normalized;");d("size");d("offset");d("stride");d("divisor");e("}}");e.exit("if(",l.isStream,"){",g,".destroyStream(",I,");","}");return l})});return g}function ob(a){var c=a["static"],e=a.dynamic,d={};Object.keys(c).forEach(function(a){var e=c[a];d[a]=ad(function(a,c){return"number"===typeof e||
"boolean"===typeof e?""+e:a.link(e)})});Object.keys(e).forEach(function(a){var c=e[a];d[a]=Ae(c,function(a,e){return a.invoke(e,c)})});return d}function ib(a,e,d,b,g){function h(a){var c=f[a];c&&(p[a]=c)}var k=Ub(a,e),l=Ea(a,g),f=U(a,l,g),q=kb(a,g),p=fc(a,g),x=Nb(a,g,k);h("viewport");h(jb("scissor.box"));var n=0<Object.keys(p).length,l={framebuffer:l,draw:q,shader:x,state:p,dirty:n,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};l.profile=Ba(a,g);l.uniforms=Yb(d,g);l.drawVAO=l.scopeVAO=q.vao;
if(!l.drawVAO&&x.program&&!k&&c.angle_instanced_arrays&&q["static"].elements){var ta=!0;a=x.program.attributes.map(function(a){a=e["static"][a];ta=ta&&!!a;return a});if(ta&&0<a.length){var C=t.getVAO(t.createVAO({attributes:a,elements:q["static"].elements}));l.drawVAO=new Jd(null,null,null,function(a,c){return a.link(C)});l.useVAO=!0}}k?l.useVAO=!0:l.attributes=Ob(e,g);l.context=ob(b,g);return l}function aa(a,c,e){var d=a.shared.context,b=a.scope();Object.keys(e).forEach(function(g){c.save(d,"."+
g);var h=e[g].append(a,c);Array.isArray(h)?b(d,".",g,"=[",h.join(),"];"):b(d,".",g,"=",h,";")});c(b)}function da(a,c,e,d){var b=a.shared,g=b.gl,h=b.framebuffer,k;P&&(k=c.def(b.extensions,".webgl_draw_buffers"));var l=a.constants,b=l.drawBuffer,l=l.backBuffer;a=e?e.append(a,c):c.def(h,".next");d||c("if(",a,"!==",h,".cur){");c("if(",a,"){",g,".bindFramebuffer(",36160,",",a,".framebuffer);");P&&c(k,".drawBuffersWEBGL(",b,"[",a,".colorAttachments.length]);");c("}else{",g,".bindFramebuffer(",36160,",null);");
P&&c(k,".drawBuffersWEBGL(",l,");");c("}",h,".cur=",a,";");d||c("}")}function O(a,c,e){var d=a.shared,b=d.gl,g=a.current,h=a.next,k=d.current,f=d.next,q=a.cond(k,".dirty");l.forEach(function(c){c=jb(c);if(!(c in e.state)){var d,l;if(c in h){d=h[c];l=g[c];var p=ff(W[c].length,function(a){return q.def(d,"[",a,"]")});q(a.cond(p.map(function(a,c){return a+"!=="+l+"["+c+"]"}).join("||")).then(b,".",Wa[c],"(",p,");",p.map(function(a,c){return l+"["+c+"]="+a}).join(";"),";"))}else d=q.def(f,".",c),p=a.cond(d,
"!==",k,".",c),q(p),c in lb?p(a.cond(d).then(b,".enable(",lb[c],");")["else"](b,".disable(",lb[c],");"),k,".",c,"=",d,";"):p(b,".",Wa[c],"(",d,");",k,".",c,"=",d,";")}});0===Object.keys(e.state).length&&q(k,".dirty=false;");c(q)}function qa(a,c,e,d){var b=a.shared,g=a.current,h=b.current,k=b.gl;Gh(Object.keys(e)).forEach(function(b){var l=e[b];if(!d||d(l)){var f=l.append(a,c);if(lb[b]){var q=lb[b];Vf(l)?(c(a.cond(a.stableRef(f)).then(k,".enable(",q,");")["else"](k,".disable(",q,");")),c(h,".",b,"=",
a.stableRef(f),";")):(c(a.cond(f).then(k,".enable(",q,");")["else"](k,".disable(",q,");")),c(h,".",b,"=",f,";"))}else if(Uf(f)){var p=g[b];c(k,".",Wa[b],"(",f,");",f.map(function(a,c){return p+"["+c+"]="+a}).join(";"),";")}else c(k,".",Wa[b],"(",a.stableRef(f),");",h,".",b,"=",a.stableRef(f),";")}})}function Z(a,c){S&&(a.instancing=c.def(a.shared.extensions,".angle_instanced_arrays"))}function X(a,c,e,d,b){function g(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function h(a){ta=
c.def();a(ta,"=",g(),";");"string"===typeof b?a(q,".count+=",b,";"):a(q,".count++;");N&&(d?(C=c.def(),a(C,"=",n,".getNumPendingQueries();")):a(n,".beginQuery(",q,");"))}function k(a){a(q,".cpuTime+=",g(),"-",ta,";");N&&(d?a(n,".pushScopeStats(",C,",",n,".getNumPendingQueries(),",q,");"):a(n,".endQuery();"))}function l(a){var e=c.def(p,".profile");c(p,".profile=",a,";");c.exit(p,".profile=",e,";")}var f=a.shared,q=a.stats,p=f.current,n=f.timer;e=e.profile;var ta,C;if(e){if(Vf(e)){e.enable?(h(c),k(c.exit),
l("true")):l("false");return}e=e.append(a,c);l(e)}else e=c.def(p,".profile");f=a.block();h(f);c("if(",e,"){",f,"}");a=a.block();k(a);c.exit("if(",e,"){",a,"}")}function Vb(a,c,e,d,b){function g(a){switch(a){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function h(e,d,b){function g(){c("if(!",p,".buffer){",f,".enableVertexAttribArray(",q,");}");var e=b.type,h;h=b.size?c.def(b.size,"||",d):d;c("if(",p,
".type!==",e,"||",p,".size!==",h,"||",D.map(function(a){return p+"."+a+"!=="+b[a]}).join("||"),"){",f,".bindBuffer(",34962,",",n,".buffer);",f,".vertexAttribPointer(",[q,h,e,b.normalized,b.stride,b.offset],");",p,".type=",e,";",p,".size=",h,";",D.map(function(a){return p+"."+a+"="+b[a]+";"}).join(""),"}");S&&(e=b.divisor,c("if(",p,".divisor!==",e,"){",a.instancing,".vertexAttribDivisorANGLE(",[q,e],");",p,".divisor=",e,";}"))}function l(){c("if(",p,".buffer){",f,".disableVertexAttribArray(",q,");",
p,".buffer=null;","}if(",hg.map(function(a,c){return p+"."+a+"!=="+ta[c]}).join("||"),"){",f,".vertexAttrib4f(",q,",",ta,");",hg.map(function(a,c){return p+"."+a+"="+ta[c]+";"}).join(""),"}")}var f=k.gl,q=c.def(e,".location"),p=c.def(k.attributes,"[",q,"]");e=b.state;var n=b.buffer,ta=[b.x,b.y,b.z,b.w],D=["buffer","normalized","offset","stride"];1===e?g():2===e?l():(c("if(",e,"===",1,"){"),g(),c("}else{"),l(),c("}"))}var k=a.shared;d.forEach(function(d){var k=d.name,l=e.attributes[k],f;if(l){if(!b(l))return;
f=l.append(a,c)}else{if(!b(Ih))return;var q=a.scopeAttrib(k);f={};Object.keys(new B).forEach(function(a){f[a]=c.def(q,".",a)})}h(a.link(d),g(d.info.type),f)})}function Kb(a,c,e,d,g,h){for(var k=a.shared,l=k.gl,q,p=0;p<d.length;++p){var n=d[p],x=n.name,ta=n.info.type,C=e.uniforms[x],n=a.link(n)+".location",t;if(C){if(!g(C))continue;if(Vf(C)){x=C.value;if(35678===ta||35680===ta)ta=a.link(x._texture||x.color[0]._texture),c(l,".uniform1i(",n,",",ta+".bind());"),c.exit(ta,".unbind();");else if(35674===
ta||35675===ta||35676===ta)x=a.global.def("new Float32Array(["+Array.prototype.slice.call(x)+"])"),C=2,35675===ta?C=3:35676===ta&&(C=4),c(l,".uniformMatrix",C,"fv(",n,",false,",x,");");else{switch(ta){case 5126:q="1f";break;case 35664:q="2f";break;case 35665:q="3f";break;case 35666:q="4f";break;case 35670:q="1i";break;case 5124:q="1i";break;case 35671:q="2i";break;case 35667:q="2i";break;case 35672:q="3i";break;case 35668:q="3i";break;case 35673:q="4i";break;case 35669:q="4i"}c(l,".uniform",q,"(",
n,",",Uf(x)?Array.prototype.slice.call(x):x,");")}continue}else t=C.append(a,c)}else{if(!g(Ih))continue;t=c.def(k.uniforms,"[",b.id(x),"]")}35678===ta?c("if(",t,"&&",t,'._reglType==="framebuffer"){',t,"=",t,".color[0];","}"):35680===ta&&c("if(",t,"&&",t,'._reglType==="framebufferCube"){',t,"=",t,".color[0];","}");x=1;switch(ta){case 35678:case 35680:ta=c.def(t,"._texture");c(l,".uniform1i(",n,",",ta,".bind());");c.exit(ta,".unbind();");continue;case 5124:case 35670:q="1i";break;case 35667:case 35671:q=
"2i";x=2;break;case 35668:case 35672:q="3i";x=3;break;case 35669:case 35673:q="4i";x=4;break;case 5126:q="1f";break;case 35664:q="2f";x=2;break;case 35665:q="3f";x=3;break;case 35666:q="4f";x=4;break;case 35674:q="Matrix2fv";break;case 35675:q="Matrix3fv";break;case 35676:q="Matrix4fv"}if("M"===q.charAt(0)){c(l,".uniform",q,"(",n,",");var n=Math.pow(ta-35674+2,2),Y=a.global.def("new Float32Array(",n,")");Array.isArray(t)?c("false,(",ff(n,function(a){return Y+"["+a+"]="+t[a]}),",",Y,")"):c("false,(Array.isArray(",
t,")||",t," instanceof Float32Array)?",t,":(",ff(n,function(a){return Y+"["+a+"]="+t+"["+a+"]"}),",",Y,")");c(");")}else{if(1<x){for(var ta=[],Id=[],C=0;C<x;++C)Array.isArray(t)?Id.push(t[C]):Id.push(c.def(t+"["+C+"]")),h&&ta.push(c.def());h&&c("if(!",a.batchId,"||",ta.map(function(a,c){return a+"!=="+Id[c]}).join("||"),"){",ta.map(function(a,c){return a+"="+Id[c]+";"}).join(""));c(l,".uniform",q,"(",n,",",Id.join(","),");")}else h&&(ta=c.def(),c("if(!",a.batchId,"||",ta,"!==",t,"){",ta,"=",t,";")),
c(l,".uniform",q,"(",n,",",t,");");h&&c("}")}}}function $b(a,c,e,d){function b(g){var h=p[g];return h?h.contextDep&&d.contextDynamic||h.propDep?h.append(a,e):h.append(a,c):c.def(q,".",g)}function h(){function a(){e(Id,".drawElementsInstancedANGLE(",[ta,t,A,C+"<<(("+A+"-5121)>>1)",Y],");")}function c(){e(Id,".drawArraysInstancedANGLE(",[ta,C,t,Y],");")}n&&"null"!==n?B?a():(e("if(",n,"){"),a(),e("}else{"),c(),e("}")):c()}function l(){function a(){e(f+".drawElements("+[ta,t,A,C+"<<(("+A+"-5121)>>1)"]+
");")}function c(){e(f+".drawArrays("+[ta,C,t]+");")}n&&"null"!==n?B?a():(e("if(",n,"){"),a(),e("}else{"),c(),e("}")):c()}var k=a.shared,f=k.gl,q=k.draw,p=d.draw,n=function(){var b=p.elements,h=c;if(b){if(b.contextDep&&d.contextDynamic||b.propDep)h=e;b=b.append(a,h);p.elementsActive&&h("if("+b+")"+f+".bindBuffer(34963,"+b+".buffer.buffer);")}else b=h.def(),h(b,"=",q,".","elements",";","if(",b,"){",f,".bindBuffer(",34963,",",b,".buffer.buffer);}","else if(",k.vao,".currentVAO){",b,"=",a.shared.elements+
".getElements("+k.vao,".currentVAO.elements);",g?"":"if("+b+")"+f+".bindBuffer(34963,"+b+".buffer.buffer);","}");return b}(),ta=b("primitive"),C=b("offset"),t=function(){var b=p.count,g=c;if(b){if(b.contextDep&&d.contextDynamic||b.propDep)g=e;b=b.append(a,g)}else b=g.def(q,".","count");return b}();if("number"===typeof t){if(0===t)return}else e("if(",t,"){"),e.exit("}");var Y,Id;S&&(Y=b("instances"),Id=a.instancing);var A=n+".type",B=p.elements&&Vf(p.elements)&&!p.vaoActive;S&&("number"!==typeof Y||
0<=Y)?"string"===typeof Y?(e("if(",Y,">0){"),h(),e("}else if(",Y,"<0){"),l(),e("}")):h():l()}function ca(a,c,e,d,b){c=Ka({args:e,config:Ab,type:"createBody"});b=c.proc("body",b);S&&(c.instancing=b.def(c.shared.extensions,".angle_instanced_arrays"));a(c,b,e,d);return c.compile().body}function me(a,c,e,d){Z(a,c);e.useVAO?e.drawVAO?c(a.shared.vao,".setVAO(",e.drawVAO.append(a,c),");"):c(a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"):(c(a.shared.vao,".setVAO(null);"),Vb(a,c,e,d.attributes,function(){return!0}));
Kb(a,c,e,d.uniforms,function(){return!0},!1);$b(a,c,c,e)}function Id(a,c){var e=a.proc("draw",1);Z(a,e);aa(a,e,c.context);da(a,e,c.framebuffer);O(a,e,c);qa(a,e,c.state);X(a,e,c,!1,!0);var d=c.shader.progVar.append(a,e);e(a.shared.gl,".useProgram(",d,".program);");if(c.shader.program)me(a,e,c,c.shader.program);else{e(a.shared.vao,".setVAO(null);");var b=a.global.def("{}"),g=e.def(d,".id"),h=e.def(b,"[",g,"]");e(a.cond(h).then(h,".call(this,a0);")["else"](h,"=",b,"[",g,"]=",a.link(function(e){return ca(me,
a,c,e,1)}),"(",d,");",h,".call(this,a0);"))}0<Object.keys(c.state).length&&e(a.shared.current,".dirty=true;");a.shared.vao&&e(a.shared.vao,".setVAO(null);")}function ta(a,c,e,d){function b(){return!0}a.batchId="a1";Z(a,c);Vb(a,c,e,d.attributes,b);Kb(a,c,e,d.uniforms,b,!1);$b(a,c,c,e)}function e(a,c,e,d){function b(a){return a.contextDep&&h||a.propDep}function g(a){return!b(a)}Z(a,c);var h=e.contextDep,l=c.def(),k=c.def();a.shared.props=k;a.batchId=l;var f=a.scope(),q=a.scope();c(f.entry,"for(",l,
"=0;",l,"<","a1",";++",l,"){",k,"=","a0","[",l,"];",q,"}",f.exit);e.needsContext&&aa(a,q,e.context);e.needsFramebuffer&&da(a,q,e.framebuffer);qa(a,q,e.state,b);e.profile&&b(e.profile)&&X(a,q,e,!1,!0);d?(e.useVAO?e.drawVAO?b(e.drawVAO)?q(a.shared.vao,".setVAO(",e.drawVAO.append(a,q),");"):f(a.shared.vao,".setVAO(",e.drawVAO.append(a,f),");"):f(a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"):(f(a.shared.vao,".setVAO(null);"),Vb(a,f,e,d.attributes,g),Vb(a,q,e,d.attributes,b)),Kb(a,f,e,d.uniforms,
g,!1),Kb(a,q,e,d.uniforms,b,!0),$b(a,f,q,e)):(c=a.global.def("{}"),d=e.shader.progVar.append(a,q),k=q.def(d,".id"),f=q.def(c,"[",k,"]"),q(a.shared.gl,".useProgram(",d,".program);","if(!",f,"){",f,"=",c,"[",k,"]=",a.link(function(c){return ca(ta,a,e,c,2)}),"(",d,");}",f,".call(this,a0[",l,"],",l,");"))}function sd(a,c){function d(a){return a.contextDep&&g||a.propDep}var b=a.proc("batch",2);a.batchId="0";Z(a,b);var g=!1,h=!0;Object.keys(c.context).forEach(function(a){g=g||c.context[a].propDep});g||
(aa(a,b,c.context),h=!1);var l=c.framebuffer,k=!1;l?(l.propDep?g=k=!0:l.contextDep&&g&&(k=!0),k||da(a,b,l)):da(a,b,null);c.state.viewport&&c.state.viewport.propDep&&(g=!0);O(a,b,c);qa(a,b,c.state,function(a){return!d(a)});c.profile&&d(c.profile)||X(a,b,c,!1,"a1");c.contextDep=g;c.needsContext=h;c.needsFramebuffer=k;h=c.shader.progVar;if(h.contextDep&&g||h.propDep)e(a,b,c,null);else if(h=h.append(a,b),b(a.shared.gl,".useProgram(",h,".program);"),c.shader.program)e(a,b,c,c.shader.program);else{b(a.shared.vao,
".setVAO(null);");var l=a.global.def("{}"),k=b.def(h,".id"),f=b.def(l,"[",k,"]");b(a.cond(f).then(f,".call(this,a0,a1);")["else"](f,"=",l,"[",k,"]=",a.link(function(d){return ca(e,a,c,d,2)}),"(",h,");",f,".call(this,a0,a1);"))}0<Object.keys(c.state).length&&b(a.shared.current,".dirty=true;");a.shared.vao&&b(a.shared.vao,".setVAO(null);")}function q(a,c){function e(b){var h=c.shader[b];h&&d.set(g.shader,"."+b,a.stableRef(h.append(a,d)))}var d=a.proc("scope",3);a.batchId="a2";var g=a.shared,h=g.current;
aa(a,d,c.context);c.framebuffer&&c.framebuffer.append(a,d);Gh(Object.keys(c.state)).forEach(function(e){var b=c.state[e].append(a,d);Uf(b)?b.forEach(function(c,b){d.set(a.next[e],"["+b+"]",a.stableRef(c))}):d.set(g.next,"."+e,a.stableRef(b))});X(a,d,c,!0,!0);["elements","offset","count","instances","primitive"].forEach(function(e){var b=c.draw[e];b&&d.set(g.draw,"."+e,a.stableRef(""+b.append(a,d)))});Object.keys(c.uniforms).forEach(function(e){var h=c.uniforms[e].append(a,d);Array.isArray(h)&&(h=
"["+a.stableRef(h.join())+"]");d.set(g.uniforms,"["+a.stableRef(b.id(e))+"]",h)});Object.keys(c.attributes).forEach(function(e){var b=c.attributes[e].append(a,d),g=a.scopeAttrib(e);Object.keys(new B).forEach(function(a){d.set(g,"."+a,b[a])})});c.scopeVAO&&d.set(g.vao,".targetVAO",a.stableRef(c.scopeVAO.append(a,d)));e("vert");e("frag");0<Object.keys(c.state).length&&(d(h,".dirty=true;"),d.exit(h,".dirty=true;"));d("a1(",a.shared.context,",a0,",a.batchId,");")}function Y(a){if("object"===typeof a&&
!Uf(a)){for(var c=Object.keys(a),e=0;e<c.length;++e)if(Re.isDynamic(a[c[e]]))return!0;return!1}}function K(a,c,e){function d(a,c){h.forEach(function(e){var d=b[e];Re.isDynamic(d)&&(d=a.invoke(c,d),c(q,".",e,"=",d,";"))})}var b=c["static"][e];if(b&&Y(b)){var g=a.global,h=Object.keys(b),l=!1,k=!1,f=!1,q=a.global.def("{}");h.forEach(function(c){var e=b[c];if(Re.isDynamic(e))"function"===typeof e&&(e=b[c]=Re.unbox(e)),c=Ae(e,null),l=l||c.thisDep,f=f||c.propDep,k=k||c.contextDep;else{g(q,".",c,"=");switch(typeof e){case "number":g(e);
break;case "string":g('"',e,'"');break;case "object":Array.isArray(e)&&g("[",e.join(),"]");break;default:g(a.link(e))}g(";")}});c.dynamic[e]=new Re.DynamicVariable(4,{thisDep:l,contextDep:k,propDep:f,ref:q,append:d});delete c["static"][e]}}var B=t.Record,Q={add:32774,subtract:32778,"reverse subtract":32779};c.ext_blend_minmax&&(Q.min=32775,Q.max=32776);var S=c.angle_instanced_arrays,P=c.webgl_draw_buffers,g=c.oes_vertex_array_object,W={dirty:!0,profile:Ab.profile},V={},l=[],lb={},Wa={};ia("dither",
3024);ia("blend.enable",3042);gf("blend.color","blendColor",[0,0,0,0]);gf("blend.equation","blendEquationSeparate",[32774,32774]);gf("blend.func","blendFuncSeparate",[1,0,1,0]);ia("depth.enable",2929,!0);gf("depth.func","depthFunc",513);gf("depth.range","depthRange",[0,1]);gf("depth.mask","depthMask",!0);gf("colorMask","colorMask",[!0,!0,!0,!0]);ia("cull.enable",2884);gf("cull.face","cullFace",1029);gf("frontFace","frontFace",2305);gf("lineWidth","lineWidth",1);ia("polygonOffset.enable",32823);gf("polygonOffset.offset",
"polygonOffset",[0,0]);ia("sample.alpha",32926);ia("sample.enable",32928);gf("sample.coverage","sampleCoverage",[1,!1]);ia("stencil.enable",2960);gf("stencil.mask","stencilMask",-1);gf("stencil.func","stencilFunc",[519,0,-1]);gf("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]);gf("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]);ia("scissor.enable",3089);gf("scissor.box","scissor",[0,0,a.drawingBufferWidth,a.drawingBufferHeight]);gf("viewport","viewport",[0,0,a.drawingBufferWidth,
a.drawingBufferHeight]);var p={gl:a,context:je,strings:b,next:V,current:W,draw:C,elements:J,buffer:v,shader:h,attributes:t.state,vao:t,uniforms:n,framebuffer:k,extensions:c,timer:N,isBufferArgs:$g},fa={primTypes:Vg,compareFuncs:kh,blendFuncs:og,blendEquations:Q,stencilOps:ah,glTypes:Ug,orientationType:Hh};P&&(fa.backBuffer=[1029],fa.drawBuffer=ff(d.maxDrawbuffers,function(a){return 0===a?[0]:ff(a,function(a){return 36064+a})}));var za=0;return{next:V,current:W,procs:function(){var a=Ka({config:Ab,
type:"poll/refresh"}),e=a.proc("poll"),b=a.proc("refresh"),g=a.block();e(g);b(g);var h=a.shared,l=h.gl,k=h.next,f=h.current;g(f,".dirty=false;");da(a,e);da(a,b,null,!0);var q;S&&(q=a.link(S));c.oes_vertex_array_object&&b(a.link(c.oes_vertex_array_object),".bindVertexArrayOES(null);");var p=a.link(d.maxAttributes),h=b.def(h.attributes),n=a.cond(h,"[i].buffer");n.then(l,".enableVertexAttribArray(i);",l,".bindBuffer(",34962,",",h,"[i].buffer.buffer);",l,".vertexAttribPointer(i,",h,"[i].size,",h,"[i].type,",
h,"[i].normalized,",h,"[i].stride,",h,"[i].offset);")["else"](l,".disableVertexAttribArray(i);",l,".vertexAttrib4f(i,",h,"[i].x,",h,"[i].y,",h,"[i].z,",h,"[i].w);",h,"[i].buffer=null;");b("for(var i=0;i<",p,";++i){",n,"}");S&&b("for(var i=0;i<",p,";++i){",q,".vertexAttribDivisorANGLE(i,",h,"[i].divisor);","}");b(a.shared.vao,".currentVAO=null;",a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);");Object.keys(lb).forEach(function(c){var d=lb[c],h=g.def(k,".",c),q=a.block();q("if(",h,"){",l,".enable(",
d,")}else{",l,".disable(",d,")}",f,".",c,"=",h,";");b(q);e("if(",h,"!==",f,".",c,"){",q,"}")});Object.keys(Wa).forEach(function(c){var d=Wa[c],h=W[c],q,p,n=a.block();n(l,".",d,"(");Uf(h)?(d=h.length,q=a.global.def(k,".",c),p=a.global.def(f,".",c),n(ff(d,function(a){return q+"["+a+"]"}),");",ff(d,function(a){return p+"["+a+"]="+q+"["+a+"];"}).join("")),e("if(",ff(d,function(a){return q+"["+a+"]!=="+p+"["+a+"]"}).join("||"),"){",n,"}")):(q=g.def(k,".",c),p=g.def(f,".",c),n(q,");",f,".",c,"=",q,";"),
e("if(",q,"!==",p,"){",n,"}"));b(n)});return a.compile()}(),compile:function(a,c,e,d,b,h){var g=Ka(h);g.stats=g.link(b);Object.keys(c["static"]).forEach(function(a){K(g,c,a)});Bi.forEach(function(c){K(g,a,c)});var l=ib(a,c,e,d,g);l.shader.program&&(l.shader.program.attributes.sort(function(a,c){return a.name<c.name?-1:1}),l.shader.program.uniforms.sort(function(a,c){return a.name<c.name?-1:1}));g.globalScope={};g.globalScopeCounter=0;g.stableRef=function(a){this.globalScope[this.globalScopeCounter]=
a;return"_gs["+this.globalScopeCounter++ +"]"};Id(g,l);q(g,l);sd(g,l);return pd(g.compile(g.globalScope),{destroy:function(){l.shader.program.destroy()}})}}}function Jh(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}var pd=function(a,b){for(var c=Object.keys(b),d=0;d<c.length;++d)a[c[d]]=b[c[d]];return a},li=0,Re={DynamicVariable:b,define:function(a,f){return new b(a,N(f+""))},isDynamic:function(a){return"function"===typeof a&&!a._reglType||a instanceof b},unbox:U,accessor:N},lh={next:"function"===
typeof requestAnimationFrame?function(a){return requestAnimationFrame(a)}:function(a){return setTimeout(a,16)},cancel:"function"===typeof cancelAnimationFrame?function(a){return cancelAnimationFrame(a)}:clearTimeout},Kh="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},oc=ph();oc.zero=ph();var Ci=function(a,b){var c=1;b.ext_texture_filter_anisotropic&&(c=a.getParameter(34047));var d=1,v=1;b.webgl_draw_buffers&&(d=a.getParameter(34852),
v=a.getParameter(36063));var J=!!b.oes_texture_float;if(J){J=a.createTexture();a.bindTexture(3553,J);a.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var A=a.createFramebuffer();a.bindFramebuffer(36160,A);a.framebufferTexture2D(36160,36064,3553,J,0);a.bindTexture(3553,null);if(36053!==a.checkFramebufferStatus(36160))J=!1;else{a.viewport(0,0,1,1);a.clearColor(1,0,0,1);a.clear(16384);var k=oc.allocType(5126,4);a.readPixels(0,0,1,1,6408,5126,k);a.getError()?J=!1:(a.deleteFramebuffer(A),a.deleteTexture(J),
J=1===k[0]);oc.freeType(k)}}k=!0;"undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(k=a.createTexture(),A=oc.allocType(5121,36),a.activeTexture(33984),a.bindTexture(34067,k),a.texImage2D(34069,0,6408,3,3,0,6408,5121,A),oc.freeType(A),a.bindTexture(34067,null),a.deleteTexture(k),k=!a.getError());return{colorBits:[a.getParameter(3410),a.getParameter(3411),a.getParameter(3412),a.getParameter(3413)],depthBits:a.getParameter(3414),
stencilBits:a.getParameter(3415),subpixelBits:a.getParameter(3408),extensions:Object.keys(b).filter(function(a){return!!b[a]}),maxAnisotropic:c,maxDrawbuffers:d,maxColorAttachments:v,pointSizeDims:a.getParameter(33901),lineWidthDims:a.getParameter(33902),maxViewportDims:a.getParameter(3386),maxCombinedTextureUnits:a.getParameter(35661),maxCubeMapSize:a.getParameter(34076),maxRenderbufferSize:a.getParameter(34024),maxTextureUnits:a.getParameter(34930),maxTextureSize:a.getParameter(3379),maxAttributes:a.getParameter(34921),
maxVertexUniforms:a.getParameter(36347),maxVertexTextureUnits:a.getParameter(35660),maxVaryingVectors:a.getParameter(36348),maxFragmentUniforms:a.getParameter(36349),glsl:a.getParameter(35724),renderer:a.getParameter(7937),vendor:a.getParameter(7936),version:a.getParameter(7938),readFloat:J,npotTextureCube:k}},sf=function(a){return a instanceof Uint8Array||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Float32Array||
a instanceof Float64Array||a instanceof Uint8ClampedArray},qf=function(a){return Object.keys(a).map(function(b){return a[b]})},Yg={shape:function(a){for(var b=[];a.length;a=a[0])b.push(a.length);return b},flatten:function(a,b,c,d){var v=1;if(b.length)for(var J=0;J<b.length;++J)v*=b[J];else v=0;c=d||oc.allocType(c,v);switch(b.length){case 0:break;case 1:d=b[0];for(b=0;b<d;++b)c[b]=a[b];break;case 2:d=b[0];b=b[1];for(J=v=0;J<d;++J)for(var A=a[J],k=0;k<b;++k)c[v++]=A[k];break;case 3:qh(a,b[0],b[1],b[2],
c,0);break;default:rh(a,b,0,c,0)}return c}},Tg={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ug={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126},vh={dynamic:35048,stream:35040,"static":35044},eh=Yg.flatten,uh=Yg.shape,
Tf=[];Tf[5120]=1;Tf[5122]=2;Tf[5124]=4;Tf[5121]=1;Tf[5123]=2;Tf[5125]=4;Tf[5126]=4;var Vg={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},xh=new Float32Array(1),qi=new Uint32Array(xh.buffer),ti=[9984,9986,9985,9987],Xg=[0,6409,6410,6407,6408],Hf={};Hf[6409]=Hf[6406]=Hf[6402]=1;Hf[34041]=Hf[6410]=2;Hf[6407]=Hf[35904]=3;Hf[6408]=Hf[35906]=4;var gh=Xf("HTMLCanvasElement"),hh=Xf("OffscreenCanvas"),Bh=Xf("CanvasRenderingContext2D"),
Ch=Xf("ImageBitmap"),Dh=Xf("HTMLImageElement"),Eh=Xf("HTMLVideoElement"),ri=Object.keys(Tg).concat([gh,hh,Bh,Ch,Dh,Eh]),$f=[];$f[5121]=1;$f[5126]=4;$f[36193]=2;$f[5123]=2;$f[5125]=4;var he=[];he[32854]=2;he[32855]=2;he[36194]=2;he[34041]=4;he[33776]=.5;he[33777]=.5;he[33778]=1;he[33779]=1;he[35986]=.5;he[35987]=1;he[34798]=1;he[35840]=.5;he[35841]=.25;he[35842]=.5;he[35843]=.25;he[36196]=.5;var uf=[];uf[32854]=2;uf[32855]=2;uf[36194]=2;uf[33189]=2;uf[36168]=1;uf[34041]=4;uf[35907]=4;uf[34836]=16;
uf[34842]=8;uf[34843]=6;var Di=function(a,b,c,d,v){function J(a){this.id=t++;this.refCount=1;this.renderbuffer=a;this.format=32854;this.height=this.width=0;v.profile&&(this.stats={size:0})}function A(c){var b=c.renderbuffer;a.bindRenderbuffer(36161,null);a.deleteRenderbuffer(b);c.renderbuffer=null;c.refCount=0;delete h[c.id];d.renderbufferCount--}var k={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};b.ext_srgb&&(k.srgba=35907);b.ext_color_buffer_half_float&&
(k.rgba16f=34842,k.rgb16f=34843);b.webgl_color_buffer_float&&(k.rgba32f=34836);var n=[];Object.keys(k).forEach(function(a){n[k[a]]=a});var t=0,h={};J.prototype.decRef=function(){0>=--this.refCount&&A(this)};v.profile&&(d.getTotalRenderbufferSize=function(){var a=0;Object.keys(h).forEach(function(c){a+=h[c].stats.size});return a});return{create:function(c,b){function f(c,d){var b=0,h=0,C=32854;"object"===typeof c&&c?("shape"in c?(h=c.shape,b=h[0]|0,h=h[1]|0):("radius"in c&&(b=h=c.radius|0),"width"in
c&&(b=c.width|0),"height"in c&&(h=c.height|0)),"format"in c&&(C=k[c.format])):"number"===typeof c?(b=c|0,h="number"===typeof d?d|0:b):c||(b=h=1);if(b!==t.width||h!==t.height||C!==t.format)return f.width=t.width=b,f.height=t.height=h,t.format=C,a.bindRenderbuffer(36161,t.renderbuffer),a.renderbufferStorage(36161,C,b,h),v.profile&&(t.stats.size=uf[t.format]*t.width*t.height),f.format=n[t.format],f}var t=new J(a.createRenderbuffer());h[t.id]=t;d.renderbufferCount++;f(c,b);f.resize=function(c,d){var b=
c|0,h=d|0||b;if(b===t.width&&h===t.height)return f;f.width=t.width=b;f.height=t.height=h;a.bindRenderbuffer(36161,t.renderbuffer);a.renderbufferStorage(36161,t.format,b,h);v.profile&&(t.stats.size=uf[t.format]*t.width*t.height);return f};f._reglType="renderbuffer";f._renderbuffer=t;v.profile&&(f.stats=t.stats);f.destroy=function(){t.decRef()};return f},clear:function(){qf(h).forEach(A)},restore:function(){qf(h).forEach(function(c){c.renderbuffer=a.createRenderbuffer();a.bindRenderbuffer(36161,c.renderbuffer);
a.renderbufferStorage(36161,c.format,c.width,c.height)});a.bindRenderbuffer(36161,null)}}},ih=[];ih[6408]=4;ih[6407]=3;var Zg=[];Zg[5121]=1;Zg[5126]=4;Zg[36193]=2;var Fh={"12642.28":function(a,b,c,d,v,J,A,k){var n,t,h,C,je,N,Ab,jb,ia,U,Ka,Ba,Ea,ca,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De,me;n=b.gl;t=b.context;h=b.next;C=b.current;je=b.shader;N=b.vao;Ab=b.framebuffer;jb=h.blend_color;ia=C.blend_color;U=h.blend_equation;Ka=C.blend_equation;Ba=h.blend_func;Ea=C.blend_func;ca=h.depth_range;
Ub=C.depth_range;Nb=h.colorMask;kb=C.colorMask;fc=h.polygonOffset_offset;Yb=C.polygonOffset_offset;Ob=h.sample_coverage;ob=C.sample_coverage;ib=h.stencil_func;aa=C.stencil_func;da=h.stencil_opFront;O=C.stencil_opFront;qa=h.stencil_opBack;Z=C.stencil_opBack;X=h.scissor_box;Vb=C.scissor_box;Kb=h.viewport;$b=C.viewport;De={};me={};return{draw:function(a){var b,e,k,q,f,K,B,X,S,P;b=a.framebuffer;e=Ab.getFramebuffer(b);b&&!e&&c.commandRaise(J,d);b=Ab.next;Ab.next=e;k=t.framebufferWidth;t.framebufferWidth=
e?e.width:t.drawingBufferWidth;q=t.framebufferHeight;t.framebufferHeight=e?e.height:t.drawingBufferHeight;e!==Ab.cur&&(e?n.bindFramebuffer(36160,e.framebuffer):n.bindFramebuffer(36160,null),Ab.cur=e);if(C.dirty){e=h.dither;e!==C.dither&&(e?n.enable(3024):n.disable(3024),C.dither=e);e=h.blend_enable;e!==C.blend_enable&&(e?n.enable(3042):n.disable(3042),C.blend_enable=e);e=jb[0];B=jb[1];f=jb[2];K=jb[3];if(e!==ia[0]||B!==ia[1]||f!==ia[2]||K!==ia[3])n.blendColor(e,B,f,K),ia[0]=e,ia[1]=B,ia[2]=f,ia[3]=
K;e=U[0];B=U[1];if(e!==Ka[0]||B!==Ka[1])n.blendEquationSeparate(e,B),Ka[0]=e,Ka[1]=B;e=Ba[0];B=Ba[1];f=Ba[2];K=Ba[3];if(e!==Ea[0]||B!==Ea[1]||f!==Ea[2]||K!==Ea[3])n.blendFuncSeparate(e,B,f,K),Ea[0]=e,Ea[1]=B,Ea[2]=f,Ea[3]=K;e=h.depth_enable;e!==C.depth_enable&&(e?n.enable(2929):n.disable(2929),C.depth_enable=e);e=h.depth_func;e!==C.depth_func&&(n.depthFunc(e),C.depth_func=e);e=ca[0];B=ca[1];if(e!==Ub[0]||B!==Ub[1])n.depthRange(e,B),Ub[0]=e,Ub[1]=B;e=h.depth_mask;e!==C.depth_mask&&(n.depthMask(e),
C.depth_mask=e);e=Nb[0];B=Nb[1];f=Nb[2];K=Nb[3];if(e!==kb[0]||B!==kb[1]||f!==kb[2]||K!==kb[3])n.colorMask(e,B,f,K),kb[0]=e,kb[1]=B,kb[2]=f,kb[3]=K;e=h.cull_enable;e!==C.cull_enable&&(e?n.enable(2884):n.disable(2884),C.cull_enable=e);e=h.cull_face;e!==C.cull_face&&(n.cullFace(e),C.cull_face=e);e=h.frontFace;e!==C.frontFace&&(n.frontFace(e),C.frontFace=e);e=h.lineWidth;e!==C.lineWidth&&(n.lineWidth(e),C.lineWidth=e);e=h.polygonOffset_enable;e!==C.polygonOffset_enable&&(e?n.enable(32823):n.disable(32823),
C.polygonOffset_enable=e);e=fc[0];B=fc[1];if(e!==Yb[0]||B!==Yb[1])n.polygonOffset(e,B),Yb[0]=e,Yb[1]=B;e=h.sample_alpha;e!==C.sample_alpha&&(e?n.enable(32926):n.disable(32926),C.sample_alpha=e);e=h.sample_enable;e!==C.sample_enable&&(e?n.enable(32928):n.disable(32928),C.sample_enable=e);e=Ob[0];B=Ob[1];if(e!==ob[0]||B!==ob[1])n.sampleCoverage(e,B),ob[0]=e,ob[1]=B;e=h.stencil_enable;e!==C.stencil_enable&&(e?n.enable(2960):n.disable(2960),C.stencil_enable=e);e=h.stencil_mask;e!==C.stencil_mask&&(n.stencilMask(e),
C.stencil_mask=e);e=ib[0];B=ib[1];f=ib[2];if(e!==aa[0]||B!==aa[1]||f!==aa[2])n.stencilFunc(e,B,f),aa[0]=e,aa[1]=B,aa[2]=f;e=da[0];B=da[1];f=da[2];K=da[3];if(e!==O[0]||B!==O[1]||f!==O[2]||K!==O[3])n.stencilOpSeparate(e,B,f,K),O[0]=e,O[1]=B,O[2]=f,O[3]=K;e=qa[0];B=qa[1];f=qa[2];K=qa[3];if(e!==Z[0]||B!==Z[1]||f!==Z[2]||K!==Z[3])n.stencilOpSeparate(e,B,f,K),Z[0]=e,Z[1]=B,Z[2]=f,Z[3]=K;e=h.scissor_enable;e!==C.scissor_enable&&(e?n.enable(3089):n.disable(3089),C.scissor_enable=e)}f=t.framebufferWidth;K=
t.framebufferHeight;e=t.viewportWidth;t.viewportWidth=f;B=t.viewportHeight;t.viewportHeight=K;n.viewport(0,0,f,K);$b[0]=0;$b[1]=0;$b[2]=f;$b[3]=K;f=t.framebufferWidth;K=t.framebufferHeight;n.scissor(0,0,f,K);Vb[0]=0;Vb[1]=0;Vb[2]=f;Vb[3]=K;if(f=C.profile)X=performance.now(),v.count++;K=je.program(je.vert,je.frag,d);n.useProgram(K.program);N.setVAO(null);S=K.id;(P=De[S])||(P=De[S]=A(K));P.call(this,a);C.dirty=!0;N.setVAO(null);Ab.next=b;t.framebufferWidth=k;t.framebufferHeight=q;t.viewportWidth=e;
t.viewportHeight=B;f&&(v.cpuTime+=performance.now()-X)},scope:function(b,h,e){var k,f,n,A,B,O,S,P,g,W,V,l,Z,ia,p;k=b.framebuffer;f=Ab.getFramebuffer(k);k&&!f&&c.commandRaise(J,d);k=Ab.next;Ab.next=f;n=t.framebufferWidth;t.framebufferWidth=f?f.width:t.drawingBufferWidth;A=t.framebufferHeight;t.framebufferHeight=f?f.height:t.drawingBufferHeight;B=t.framebufferWidth;O=t.framebufferHeight;f=t.viewportWidth;t.viewportWidth=B;B=t.viewportHeight;t.viewportHeight=O;O=Kb[0];Kb[0]=a[0];S=Kb[1];Kb[1]=a[1];P=
Kb[2];Kb[2]=a[2];g=Kb[3];Kb[3]=a[3];W=X[0];X[0]=a[4];V=X[1];X[1]=a[5];l=X[2];X[2]=a[6];Z=X[3];X[3]=a[7];if(ia=C.profile)p=performance.now(),v.count++;C.dirty=!0;h(t,b,e);Ab.next=k;t.framebufferWidth=n;t.framebufferHeight=A;t.viewportWidth=f;t.viewportHeight=B;Kb[0]=O;Kb[1]=S;Kb[2]=P;Kb[3]=g;X[0]=W;X[1]=V;X[2]=l;X[3]=Z;ia&&(v.cpuTime+=performance.now()-p);C.dirty=!0},batch:function(a,c){var e,b,f,t,A;if(C.dirty){e=h.dither;e!==C.dither&&(e?n.enable(3024):n.disable(3024),C.dither=e);e=h.blend_enable;
e!==C.blend_enable&&(e?n.enable(3042):n.disable(3042),C.blend_enable=e);e=jb[0];f=jb[1];t=jb[2];A=jb[3];if(e!==ia[0]||f!==ia[1]||t!==ia[2]||A!==ia[3])n.blendColor(e,f,t,A),ia[0]=e,ia[1]=f,ia[2]=t,ia[3]=A;e=U[0];f=U[1];if(e!==Ka[0]||f!==Ka[1])n.blendEquationSeparate(e,f),Ka[0]=e,Ka[1]=f;e=Ba[0];f=Ba[1];t=Ba[2];A=Ba[3];if(e!==Ea[0]||f!==Ea[1]||t!==Ea[2]||A!==Ea[3])n.blendFuncSeparate(e,f,t,A),Ea[0]=e,Ea[1]=f,Ea[2]=t,Ea[3]=A;e=h.depth_enable;e!==C.depth_enable&&(e?n.enable(2929):n.disable(2929),C.depth_enable=
e);e=h.depth_func;e!==C.depth_func&&(n.depthFunc(e),C.depth_func=e);e=ca[0];f=ca[1];if(e!==Ub[0]||f!==Ub[1])n.depthRange(e,f),Ub[0]=e,Ub[1]=f;e=h.depth_mask;e!==C.depth_mask&&(n.depthMask(e),C.depth_mask=e);e=Nb[0];f=Nb[1];t=Nb[2];A=Nb[3];if(e!==kb[0]||f!==kb[1]||t!==kb[2]||A!==kb[3])n.colorMask(e,f,t,A),kb[0]=e,kb[1]=f,kb[2]=t,kb[3]=A;e=h.cull_enable;e!==C.cull_enable&&(e?n.enable(2884):n.disable(2884),C.cull_enable=e);e=h.cull_face;e!==C.cull_face&&(n.cullFace(e),C.cull_face=e);e=h.frontFace;e!==
C.frontFace&&(n.frontFace(e),C.frontFace=e);e=h.lineWidth;e!==C.lineWidth&&(n.lineWidth(e),C.lineWidth=e);e=h.polygonOffset_enable;e!==C.polygonOffset_enable&&(e?n.enable(32823):n.disable(32823),C.polygonOffset_enable=e);e=fc[0];f=fc[1];if(e!==Yb[0]||f!==Yb[1])n.polygonOffset(e,f),Yb[0]=e,Yb[1]=f;e=h.sample_alpha;e!==C.sample_alpha&&(e?n.enable(32926):n.disable(32926),C.sample_alpha=e);e=h.sample_enable;e!==C.sample_enable&&(e?n.enable(32928):n.disable(32928),C.sample_enable=e);e=Ob[0];f=Ob[1];if(e!==
ob[0]||f!==ob[1])n.sampleCoverage(e,f),ob[0]=e,ob[1]=f;e=h.stencil_enable;e!==C.stencil_enable&&(e?n.enable(2960):n.disable(2960),C.stencil_enable=e);e=h.stencil_mask;e!==C.stencil_mask&&(n.stencilMask(e),C.stencil_mask=e);e=ib[0];f=ib[1];t=ib[2];if(e!==aa[0]||f!==aa[1]||t!==aa[2])n.stencilFunc(e,f,t),aa[0]=e,aa[1]=f,aa[2]=t;e=da[0];f=da[1];t=da[2];A=da[3];if(e!==O[0]||f!==O[1]||t!==O[2]||A!==O[3])n.stencilOpSeparate(e,f,t,A),O[0]=e,O[1]=f,O[2]=t,O[3]=A;e=qa[0];f=qa[1];t=qa[2];A=qa[3];if(e!==Z[0]||
f!==Z[1]||t!==Z[2]||A!==Z[3])n.stencilOpSeparate(e,f,t,A),Z[0]=e,Z[1]=f,Z[2]=t,Z[3]=A;e=h.scissor_enable;e!==C.scissor_enable&&(e?n.enable(3089):n.disable(3089),C.scissor_enable=e)}if(e=C.profile)b=performance.now(),v.count+=c;f=je.program(je.vert,je.frag,d);n.useProgram(f.program);N.setVAO(null);t=f.id;(A=me[t])||(A=me[t]=k(f));A.call(this,a,c);C.dirty=!0;N.setVAO(null);e&&(v.cpuTime+=performance.now()-b)}}},"9912.18":function(a,b,c,d,v,J){var A,k,n,t,h,C,je,N,Ab,jb,ia,U,Ka,Ba,Ea,ca,Ub,Nb,kb,fc,
Yb,Ob,ob,ib,aa,da,O,qa,Z,X;A=b.gl;k=b.next;n=b.current;t=b.attributes;h=b.vao;C=b.framebuffer;je=k.blend_color;N=n.blend_color;Ab=k.blend_equation;jb=n.blend_equation;ia=k.blend_func;U=n.blend_func;Ka=k.depth_range;Ba=n.depth_range;Ea=k.colorMask;ca=n.colorMask;Ub=k.polygonOffset_offset;Nb=n.polygonOffset_offset;kb=k.sample_coverage;fc=n.sample_coverage;Yb=k.stencil_func;Ob=n.stencil_func;ob=k.stencil_opFront;ib=n.stencil_opFront;aa=k.stencil_opBack;da=n.stencil_opBack;O=k.scissor_box;qa=n.scissor_box;
Z=k.viewport;X=n.viewport;return{poll:function(){var a,c,b,d,h,f,ta,e,t,q,J,v,B,Q,S,P,g,W,V,l,Ud,Wa;n.dirty=!1;c=k.dither;b=k.blend_enable;d=k.depth_enable;h=k.cull_enable;f=k.polygonOffset_enable;ta=k.sample_alpha;e=k.sample_enable;t=k.stencil_enable;q=k.scissor_enable;J=k.depth_func;v=n.depth_func;B=k.depth_mask;Q=n.depth_mask;S=k.cull_face;P=n.cull_face;g=k.frontFace;W=n.frontFace;V=k.lineWidth;l=n.lineWidth;Ud=k.stencil_mask;Wa=n.stencil_mask;a=C.next;a!==C.cur&&(a?A.bindFramebuffer(36160,a.framebuffer):
A.bindFramebuffer(36160,null),C.cur=a);c!==n.dither&&(c?A.enable(3024):A.disable(3024),n.dither=c);b!==n.blend_enable&&(b?A.enable(3042):A.disable(3042),n.blend_enable=b);d!==n.depth_enable&&(d?A.enable(2929):A.disable(2929),n.depth_enable=d);h!==n.cull_enable&&(h?A.enable(2884):A.disable(2884),n.cull_enable=h);f!==n.polygonOffset_enable&&(f?A.enable(32823):A.disable(32823),n.polygonOffset_enable=f);ta!==n.sample_alpha&&(ta?A.enable(32926):A.disable(32926),n.sample_alpha=ta);e!==n.sample_enable&&
(e?A.enable(32928):A.disable(32928),n.sample_enable=e);t!==n.stencil_enable&&(t?A.enable(2960):A.disable(2960),n.stencil_enable=t);q!==n.scissor_enable&&(q?A.enable(3089):A.disable(3089),n.scissor_enable=q);if(je[0]!==N[0]||je[1]!==N[1]||je[2]!==N[2]||je[3]!==N[3])A.blendColor(je[0],je[1],je[2],je[3]),N[0]=je[0],N[1]=je[1],N[2]=je[2],N[3]=je[3];if(Ab[0]!==jb[0]||Ab[1]!==jb[1])A.blendEquationSeparate(Ab[0],Ab[1]),jb[0]=Ab[0],jb[1]=Ab[1];if(ia[0]!==U[0]||ia[1]!==U[1]||ia[2]!==U[2]||ia[3]!==U[3])A.blendFuncSeparate(ia[0],
ia[1],ia[2],ia[3]),U[0]=ia[0],U[1]=ia[1],U[2]=ia[2],U[3]=ia[3];J!==v&&(A.depthFunc(J),n.depth_func=J);if(Ka[0]!==Ba[0]||Ka[1]!==Ba[1])A.depthRange(Ka[0],Ka[1]),Ba[0]=Ka[0],Ba[1]=Ka[1];B!==Q&&(A.depthMask(B),n.depth_mask=B);if(Ea[0]!==ca[0]||Ea[1]!==ca[1]||Ea[2]!==ca[2]||Ea[3]!==ca[3])A.colorMask(Ea[0],Ea[1],Ea[2],Ea[3]),ca[0]=Ea[0],ca[1]=Ea[1],ca[2]=Ea[2],ca[3]=Ea[3];S!==P&&(A.cullFace(S),n.cull_face=S);g!==W&&(A.frontFace(g),n.frontFace=g);V!==l&&(A.lineWidth(V),n.lineWidth=V);if(Ub[0]!==Nb[0]||
Ub[1]!==Nb[1])A.polygonOffset(Ub[0],Ub[1]),Nb[0]=Ub[0],Nb[1]=Ub[1];if(kb[0]!==fc[0]||kb[1]!==fc[1])A.sampleCoverage(kb[0],kb[1]),fc[0]=kb[0],fc[1]=kb[1];Ud!==Wa&&(A.stencilMask(Ud),n.stencil_mask=Ud);if(Yb[0]!==Ob[0]||Yb[1]!==Ob[1]||Yb[2]!==Ob[2])A.stencilFunc(Yb[0],Yb[1],Yb[2]),Ob[0]=Yb[0],Ob[1]=Yb[1],Ob[2]=Yb[2];if(ob[0]!==ib[0]||ob[1]!==ib[1]||ob[2]!==ib[2]||ob[3]!==ib[3])A.stencilOpSeparate(ob[0],ob[1],ob[2],ob[3]),ib[0]=ob[0],ib[1]=ob[1],ib[2]=ob[2],ib[3]=ob[3];if(aa[0]!==da[0]||aa[1]!==da[1]||
aa[2]!==da[2]||aa[3]!==da[3])A.stencilOpSeparate(aa[0],aa[1],aa[2],aa[3]),da[0]=aa[0],da[1]=aa[1],da[2]=aa[2],da[3]=aa[3];if(O[0]!==qa[0]||O[1]!==qa[1]||O[2]!==qa[2]||O[3]!==qa[3])A.scissor(O[0],O[1],O[2],O[3]),qa[0]=O[0],qa[1]=O[1],qa[2]=O[2],qa[3]=O[3];if(Z[0]!==X[0]||Z[1]!==X[1]||Z[2]!==X[2]||Z[3]!==X[3])A.viewport(Z[0],Z[1],Z[2],Z[3]),X[0]=Z[0],X[1]=Z[1],X[2]=Z[2],X[3]=Z[3]},refresh:function(){var a,c,b,d,f,Id,ta,e,sd,q,Y,K,B,Q,S,P;n.dirty=!1;c=k.dither;b=k.blend_enable;d=k.depth_enable;f=k.cull_enable;
Id=k.polygonOffset_enable;ta=k.sample_alpha;e=k.sample_enable;sd=k.stencil_enable;q=k.scissor_enable;Y=k.depth_func;K=k.depth_mask;B=k.cull_face;Q=k.frontFace;S=k.lineWidth;P=k.stencil_mask;(a=C.next)?A.bindFramebuffer(36160,a.framebuffer):A.bindFramebuffer(36160,null);C.cur=a;for(a=0;a<J;++a)t[a].buffer?(A.enableVertexAttribArray(a),A.bindBuffer(34962,t[a].buffer.buffer),A.vertexAttribPointer(a,t[a].size,t[a].type,t[a].normalized,t[a].stride,t[a].offset)):(A.disableVertexAttribArray(a),A.vertexAttrib4f(a,
t[a].x,t[a].y,t[a].z,t[a].w),t[a].buffer=null);for(a=0;a<J;++a)v.vertexAttribDivisorANGLE(a,t[a].divisor);h.currentVAO=null;h.setVAO(h.targetVAO);c?A.enable(3024):A.disable(3024);n.dither=c;b?A.enable(3042):A.disable(3042);n.blend_enable=b;d?A.enable(2929):A.disable(2929);n.depth_enable=d;f?A.enable(2884):A.disable(2884);n.cull_enable=f;Id?A.enable(32823):A.disable(32823);n.polygonOffset_enable=Id;ta?A.enable(32926):A.disable(32926);n.sample_alpha=ta;e?A.enable(32928):A.disable(32928);n.sample_enable=
e;sd?A.enable(2960):A.disable(2960);n.stencil_enable=sd;q?A.enable(3089):A.disable(3089);n.scissor_enable=q;A.blendColor(je[0],je[1],je[2],je[3]);N[0]=je[0];N[1]=je[1];N[2]=je[2];N[3]=je[3];A.blendEquationSeparate(Ab[0],Ab[1]);jb[0]=Ab[0];jb[1]=Ab[1];A.blendFuncSeparate(ia[0],ia[1],ia[2],ia[3]);U[0]=ia[0];U[1]=ia[1];U[2]=ia[2];U[3]=ia[3];A.depthFunc(Y);n.depth_func=Y;A.depthRange(Ka[0],Ka[1]);Ba[0]=Ka[0];Ba[1]=Ka[1];A.depthMask(K);n.depth_mask=K;A.colorMask(Ea[0],Ea[1],Ea[2],Ea[3]);ca[0]=Ea[0];ca[1]=
Ea[1];ca[2]=Ea[2];ca[3]=Ea[3];A.cullFace(B);n.cull_face=B;A.frontFace(Q);n.frontFace=Q;A.lineWidth(S);n.lineWidth=S;A.polygonOffset(Ub[0],Ub[1]);Nb[0]=Ub[0];Nb[1]=Ub[1];A.sampleCoverage(kb[0],kb[1]);fc[0]=kb[0];fc[1]=kb[1];A.stencilMask(P);n.stencil_mask=P;A.stencilFunc(Yb[0],Yb[1],Yb[2]);Ob[0]=Yb[0];Ob[1]=Yb[1];Ob[2]=Yb[2];A.stencilOpSeparate(ob[0],ob[1],ob[2],ob[3]);ib[0]=ob[0];ib[1]=ob[1];ib[2]=ob[2];ib[3]=ob[3];A.stencilOpSeparate(aa[0],aa[1],aa[2],aa[3]);da[0]=aa[0];da[1]=aa[1];da[2]=aa[2];da[3]=
aa[3];A.scissor(O[0],O[1],O[2],O[3]);qa[0]=O[0];qa[1]=O[1];qa[2]=O[2];qa[3]=O[3];A.viewport(Z[0],Z[1],Z[2],Z[3]);X[0]=Z[0];X[1]=Z[1];X[2]=Z[2];X[3]=Z[3]}}},"52671.248":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P){var g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R,z,T,yb,ma,x,wa,L,ed,vb,Je,Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u,F,y,M;g=b.gl;W=b.context;V=b.next;l=b.current;lb=b.draw;Wa=b.elements;p=b.buffer;
fa=b.shader;za=b.attributes;I=b.vao;G=b.uniforms;Fa=b.framebuffer;Sa=b.extensions;H=b.isBufferArgs;D=b.isArrayLike;R=V.blend_color;z=l.blend_color;T=V.blend_equation;yb=l.blend_equation;ma=V.blend_func;x=l.blend_func;wa=V.depth_range;L=l.depth_range;ed=V.colorMask;vb=l.colorMask;Je=V.polygonOffset_offset;Ac=l.polygonOffset_offset;sa=V.sample_coverage;Nc=l.sample_coverage;ba=V.stencil_func;hc=l.stencil_func;id=V.stencil_opFront;Hc=l.stencil_opFront;Tc=V.stencil_opBack;Eb=l.stencil_opBack;pb=V.scissor_box;
Kc=l.scissor_box;tb=V.viewport;Xa=l.viewport;Ta={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};r={stride:8,offset:8,divisor:1};u={stride:8,offset:16,divisor:1};F={stride:8,offset:8,divisor:1};y={stride:8,offset:16,divisor:1};M={stride:4,offset:0,divisor:1};return{draw:function(b){var f,q,B,sd,Y,K,G,S,Q,E,T,P,nd,R,ma,fa,ee,Qf,Lc,tb,Qc,af,qe,jd,be,nc,ne,zb,pb,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,
qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc;f=Fa.next;f!==Fa.cur&&(f?g.bindFramebuffer(36160,f.framebuffer):g.bindFramebuffer(36160,null),Fa.cur=f);if(l.dirty){var Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce;Da=V.dither;Da!==l.dither&&(Da?g.enable(3024):g.disable(3024),l.dither=Da);Pd=V.depth_func;Pd!==l.depth_func&&(g.depthFunc(Pd),
l.depth_func=Pd);cc=wa[0];pc=wa[1];if(cc!==L[0]||pc!==L[1])g.depthRange(cc,pc),L[0]=cc,L[1]=pc;$d=V.depth_mask;$d!==l.depth_mask&&(g.depthMask($d),l.depth_mask=$d);Na=ed[0];Cd=ed[1];Mb=ed[2];ie=ed[3];if(Na!==vb[0]||Cd!==vb[1]||Mb!==vb[2]||ie!==vb[3])g.colorMask(Na,Cd,Mb,ie),vb[0]=Na,vb[1]=Cd,vb[2]=Mb,vb[3]=ie;sb=V.cull_enable;sb!==l.cull_enable&&(sb?g.enable(2884):g.disable(2884),l.cull_enable=sb);Dd=V.cull_face;Dd!==l.cull_face&&(g.cullFace(Dd),l.cull_face=Dd);na=V.frontFace;na!==l.frontFace&&(g.frontFace(na),
l.frontFace=na);Vc=V.lineWidth;Vc!==l.lineWidth&&(g.lineWidth(Vc),l.lineWidth=Vc);Ia=V.polygonOffset_enable;Ia!==l.polygonOffset_enable&&(Ia?g.enable(32823):g.disable(32823),l.polygonOffset_enable=Ia);fe=Je[0];Ja=Je[1];if(fe!==Ac[0]||Ja!==Ac[1])g.polygonOffset(fe,Ja),Ac[0]=fe,Ac[1]=Ja;Rc=V.sample_alpha;Rc!==l.sample_alpha&&(Rc?g.enable(32926):g.disable(32926),l.sample_alpha=Rc);Ma=V.sample_enable;Ma!==l.sample_enable&&(Ma?g.enable(32928):g.disable(32928),l.sample_enable=Ma);kd=sa[0];Xb=sa[1];if(kd!==
Nc[0]||Xb!==Nc[1])g.sampleCoverage(kd,Xb),Nc[0]=kd,Nc[1]=Xb;Qd=V.stencil_mask;Qd!==l.stencil_mask&&(g.stencilMask(Qd),l.stencil_mask=Qd);rc=ba[0];fd=ba[1];sc=ba[2];if(rc!==hc[0]||fd!==hc[1]||sc!==hc[2])g.stencilFunc(rc,fd,sc),hc[0]=rc,hc[1]=fd,hc[2]=sc;Qe=id[0];gd=id[1];ye=id[2];rd=id[3];if(Qe!==Hc[0]||gd!==Hc[1]||ye!==Hc[2]||rd!==Hc[3])g.stencilOpSeparate(Qe,gd,ye,rd),Hc[0]=Qe,Hc[1]=gd,Hc[2]=ye,Hc[3]=rd;Wc=Tc[0];ae=Tc[1];Sb=Tc[2];ce=Tc[3];if(Wc!==Eb[0]||ae!==Eb[1]||Sb!==Eb[2]||ce!==Eb[3])g.stencilOpSeparate(Wc,
ae,Sb,ce),Eb[0]=Wc,Eb[1]=ae,Eb[2]=Sb,Eb[3]=ce}(q=b.viewport)&&"object"===typeof q||c.commandRaise(J,d);B=q.x|0;sd=q.y|0;Y="width"in q?q.width|0:W.framebufferWidth-B;K="height"in q?q.height|0:W.framebufferHeight-sd;0<=Y&&0<=K||c.commandRaise(J,d);G=W.viewportWidth;W.viewportWidth=Y;S=W.viewportHeight;W.viewportHeight=K;g.viewport(B,sd,Y,K);Xa[0]=B;Xa[1]=sd;Xa[2]=Y;Xa[3]=K;g.blendColor(0,0,0,0);z[0]=0;z[1]=0;z[2]=0;z[3]=0;a[0]?g.enable(3042):g.disable(3042);l.blend_enable=a[1];g.blendEquationSeparate(32774,
32774);yb[0]=32774;yb[1]=32774;g.blendFuncSeparate(770,771,773,1);x[0]=770;x[1]=771;x[2]=773;x[3]=1;Q=A.call(this,W,b,0);"boolean"!==typeof Q&&c.commandRaise(k,d);Q?g.enable(2929):g.disable(2929);l.depth_enable=Q;(E=b.viewport)&&"object"===typeof E||c.commandRaise(n,d);T=E.x|0;P=E.y|0;nd="width"in E?E.width|0:W.framebufferWidth-T;R="height"in E?E.height|0:W.framebufferHeight-P;0<=nd&&0<=R||c.commandRaise(n,d);g.scissor(T,P,nd,R);Kc[0]=T;Kc[1]=P;Kc[2]=nd;Kc[3]=R;a[2]?g.enable(3089):g.disable(3089);
l.scissor_enable=a[3];a[4]?g.enable(2960):g.disable(2960);l.stencil_enable=a[5];if(ma=l.profile)fa=performance.now(),v.count++;g.useProgram(t.program);ee=Sa.angle_instanced_arrays;I.setVAO(null);r.buffer=b.positionBuffer;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(h,d);Qf=!1;Lc=1;qe=af=Qc=tb=0;jd=null;be=0;nc=!1;ne=5126;Bd=pb=zb=0;H(r)?(Qf=!0,jd=p.createStream(34962,
r),ne=jd.dtype):(jd=p.getBuffer(r))?ne=jd.dtype:"constant"in r?(Lc=2,"number"===typeof r.constant?(tb=r.constant,Qc=af=qe=0):(tb=0<r.constant.length?r.constant[0]:0,Qc=1<r.constant.length?r.constant[1]:0,af=2<r.constant.length?r.constant[2]:0,qe=3<r.constant.length?r.constant[3]:0)):(jd=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),ne="type"in r?Ta[r.type]:jd.dtype,nc=!!r.normalized,be=r.size|0,zb=r.offset|0,pb=r.stride|0,Bd=r.divisor|0);Sc=C.location;ic=za[Sc];if(1===Lc){ic.buffer||
g.enableVertexAttribArray(Sc);jc=be||2;if(ic.type!==ne||ic.size!==jc||ic.buffer!==jd||ic.normalized!==nc||ic.offset!==zb||ic.stride!==pb)g.bindBuffer(34962,jd.buffer),g.vertexAttribPointer(Sc,jc,ne,nc,pb,zb),ic.type=ne,ic.size=jc,ic.buffer=jd,ic.normalized=nc,ic.offset=zb,ic.stride=pb;ic.divisor!==Bd&&(ee.vertexAttribDivisorANGLE(Sc,Bd),ic.divisor=Bd)}else if(ic.buffer&&(g.disableVertexAttribArray(Sc),ic.buffer=null),ic.x!==tb||ic.y!==Qc||ic.z!==af||ic.w!==qe)g.vertexAttrib4f(Sc,tb,Qc,af,qe),ic.x=
tb,ic.y=Qc,ic.z=af,ic.w=qe;F.buffer=b.positionFractBuffer;F&&("object"===typeof F||"function"===typeof F)&&(H(F)||p.getBuffer(F)||p.getBuffer(F.buffer)||H(F.buffer)||"constant"in F&&("number"===typeof F.constant||D(F.constant)))||c.commandRaise(N,d);Nd=!1;bd=1;cd=ud=td=Cb=0;Hb=null;Ya=0;ub=!1;ja=5126;qb=Qa=eb=0;H(F)?(Nd=!0,Hb=p.createStream(34962,F),ja=Hb.dtype):(Hb=p.getBuffer(F))?ja=Hb.dtype:"constant"in F?(bd=2,"number"===typeof F.constant?(Cb=F.constant,td=ud=cd=0):(Cb=0<F.constant.length?F.constant[0]:
0,td=1<F.constant.length?F.constant[1]:0,ud=2<F.constant.length?F.constant[2]:0,cd=3<F.constant.length?F.constant[3]:0)):(Hb=H(F.buffer)?p.createStream(34962,F.buffer):p.getBuffer(F.buffer),ja="type"in F?Ta[F.type]:Hb.dtype,ub=!!F.normalized,Ya=F.size|0,eb=F.offset|0,Qa=F.stride|0,qb=F.divisor|0);ab=U.location;Va=za[ab];if(1===bd){Va.buffer||g.enableVertexAttribArray(ab);Pb=Ya||2;if(Va.type!==ja||Va.size!==Pb||Va.buffer!==Hb||Va.normalized!==ub||Va.offset!==eb||Va.stride!==Qa)g.bindBuffer(34962,Hb.buffer),
g.vertexAttribPointer(ab,Pb,ja,ub,Qa,eb),Va.type=ja,Va.size=Pb,Va.buffer=Hb,Va.normalized=ub,Va.offset=eb,Va.stride=Qa;Va.divisor!==qb&&(ee.vertexAttribDivisorANGLE(ab,qb),Va.divisor=qb)}else if(Va.buffer&&(g.disableVertexAttribArray(ab),Va.buffer=null),Va.x!==Cb||Va.y!==td||Va.z!==ud||Va.w!==cd)g.vertexAttrib4f(ab,Cb,td,ud,cd),Va.x=Cb,Va.y=td,Va.z=ud,Va.w=cd;u.buffer=b.positionBuffer;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in
u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(Ab,d);Cc=!1;Oa=1;gb=Ua=Uc=ua=0;kc=null;rb=0;hb=!1;wc=5126;Ra=qc=ka=0;H(u)?(Cc=!0,kc=p.createStream(34962,u),wc=kc.dtype):(kc=p.getBuffer(u))?wc=kc.dtype:"constant"in u?(Oa=2,"number"===typeof u.constant?(ua=u.constant,Uc=Ua=gb=0):(ua=0<u.constant.length?u.constant[0]:0,Uc=1<u.constant.length?u.constant[1]:0,Ua=2<u.constant.length?u.constant[2]:0,gb=3<u.constant.length?u.constant[3]:0)):(kc=H(u.buffer)?p.createStream(34962,u.buffer):
p.getBuffer(u.buffer),wc="type"in u?Ta[u.type]:kc.dtype,hb=!!u.normalized,rb=u.size|0,ka=u.offset|0,qc=u.stride|0,Ra=u.divisor|0);fb=jb.location;ya=za[fb];if(1===Oa){ya.buffer||g.enableVertexAttribArray(fb);Wb=rb||2;if(ya.type!==wc||ya.size!==Wb||ya.buffer!==kc||ya.normalized!==hb||ya.offset!==ka||ya.stride!==qc)g.bindBuffer(34962,kc.buffer),g.vertexAttribPointer(fb,Wb,wc,hb,qc,ka),ya.type=wc,ya.size=Wb,ya.buffer=kc,ya.normalized=hb,ya.offset=ka,ya.stride=qc;ya.divisor!==Ra&&(ee.vertexAttribDivisorANGLE(fb,
Ra),ya.divisor=Ra)}else if(ya.buffer&&(g.disableVertexAttribArray(fb),ya.buffer=null),ya.x!==ua||ya.y!==Uc||ya.z!==Ua||ya.w!==gb)g.vertexAttrib4f(fb,ua,Uc,Ua,gb),ya.x=ua,ya.y=Uc,ya.z=Ua,ya.w=gb;y.buffer=b.positionFractBuffer;y&&("object"===typeof y||"function"===typeof y)&&(H(y)||p.getBuffer(y)||p.getBuffer(y.buffer)||H(y.buffer)||"constant"in y&&("number"===typeof y.constant||D(y.constant)))||c.commandRaise(ia,d);Aa=!1;Fb=1;Za=Zb=Ib=wb=0;pa=null;cb=0;ra=!1;Ha=5126;gc=Ca=Db=0;H(y)?(Aa=!0,pa=p.createStream(34962,
y),Ha=pa.dtype):(pa=p.getBuffer(y))?Ha=pa.dtype:"constant"in y?(Fb=2,"number"===typeof y.constant?(wb=y.constant,Ib=Zb=Za=0):(wb=0<y.constant.length?y.constant[0]:0,Ib=1<y.constant.length?y.constant[1]:0,Zb=2<y.constant.length?y.constant[2]:0,Za=3<y.constant.length?y.constant[3]:0)):(pa=H(y.buffer)?p.createStream(34962,y.buffer):p.getBuffer(y.buffer),Ha="type"in y?Ta[y.type]:pa.dtype,ra=!!y.normalized,cb=y.size|0,Db=y.offset|0,Ca=y.stride|0,gc=y.divisor|0);va=ca.location;Ga=za[va];if(1===Fb){Ga.buffer||
g.enableVertexAttribArray(va);$a=cb||2;if(Ga.type!==Ha||Ga.size!==$a||Ga.buffer!==pa||Ga.normalized!==ra||Ga.offset!==Db||Ga.stride!==Ca)g.bindBuffer(34962,pa.buffer),g.vertexAttribPointer(va,$a,Ha,ra,Ca,Db),Ga.type=Ha,Ga.size=$a,Ga.buffer=pa,Ga.normalized=ra,Ga.offset=Db,Ga.stride=Ca;Ga.divisor!==gc&&(ee.vertexAttribDivisorANGLE(va,gc),Ga.divisor=gc)}else if(Ga.buffer&&(g.disableVertexAttribArray(va),Ga.buffer=null),Ga.x!==wb||Ga.y!==Ib||Ga.z!==Zb||Ga.w!==Za)g.vertexAttrib4f(va,wb,Ib,Zb,Za),Ga.x=
wb,Ga.y=Ib,Ga.z=Zb,Ga.w=Za;M.buffer=b.colorBuffer;M&&("object"===typeof M||"function"===typeof M)&&(H(M)||p.getBuffer(M)||p.getBuffer(M.buffer)||H(M.buffer)||"constant"in M&&("number"===typeof M.constant||D(M.constant)))||c.commandRaise(Ka,d);Qb=!1;m=1;ac=Gc=Xc=w=0;Pa=null;Ic=0;bc=!1;od=5126;mb=Od=Bb=0;H(M)?(Qb=!0,Pa=p.createStream(34962,M),od=Pa.dtype):(Pa=p.getBuffer(M))?od=Pa.dtype:"constant"in M?(m=2,"number"===typeof M.constant?(w=M.constant,Xc=Gc=ac=0):(w=0<M.constant.length?M.constant[0]:0,
Xc=1<M.constant.length?M.constant[1]:0,Gc=2<M.constant.length?M.constant[2]:0,ac=3<M.constant.length?M.constant[3]:0)):(Pa=H(M.buffer)?p.createStream(34962,M.buffer):p.getBuffer(M.buffer),od="type"in M?Ta[M.type]:Pa.dtype,bc=!!M.normalized,Ic=M.size|0,Bb=M.offset|0,Od=M.stride|0,mb=M.divisor|0);Ld=Ba.location;la=za[Ld];if(1===m){la.buffer||g.enableVertexAttribArray(Ld);Xd=Ic||4;if(la.type!==od||la.size!==Xd||la.buffer!==Pa||la.normalized!==bc||la.offset!==Bb||la.stride!==Od)g.bindBuffer(34962,Pa.buffer),
g.vertexAttribPointer(Ld,Xd,od,bc,Od,Bb),la.type=od,la.size=Xd,la.buffer=Pa,la.normalized=bc,la.offset=Bb,la.stride=Od;la.divisor!==mb&&(ee.vertexAttribDivisorANGLE(Ld,mb),la.divisor=mb)}else if(la.buffer&&(g.disableVertexAttribArray(Ld),la.buffer=null),la.x!==w||la.y!==Xc||la.z!==Gc||la.w!==ac)g.vertexAttrib4f(Ld,w,Xc,Gc,ac),la.x=w,la.y=Xc,la.z=Gc,la.w=ac;ha=Oe.location;Rb=za[ha];Rb.buffer||g.enableVertexAttribArray(ha);if(5126!==Rb.type||1!==Rb.size||Rb.buffer!==Ea||!1!==Rb.normalized||0!==Rb.offset||
8!==Rb.stride)g.bindBuffer(34962,Ea.buffer),g.vertexAttribPointer(ha,1,5126,!1,8,0),Rb.type=5126,Rb.size=1,Rb.buffer=Ea,Rb.normalized=!1,Rb.offset=0,Rb.stride=8;0!==Rb.divisor&&(ee.vertexAttribDivisorANGLE(ha,0),Rb.divisor=0);La=Ub.location;Lb=za[La];Lb.buffer||g.enableVertexAttribArray(La);if(5126!==Lb.type||1!==Lb.size||Lb.buffer!==Ea||!1!==Lb.normalized||4!==Lb.offset||8!==Lb.stride)g.bindBuffer(34962,Ea.buffer),g.vertexAttribPointer(La,1,5126,!1,8,4),Lb.type=5126,Lb.size=1,Lb.buffer=Ea,Lb.normalized=
!1,Lb.offset=4,Lb.stride=8;0!==Lb.divisor&&(ee.vertexAttribDivisorANGLE(La,0),Lb.divisor=0);re=b.dashLength;"number"!==typeof re&&c.commandRaise(kb,d);g.uniform1f(Nb.location,re);(Dc=b.dashTexture)&&"framebuffer"===Dc._reglType&&(Dc=Dc.color[0]);"function"===typeof Dc&&"texture2d"===Dc._reglType||c.commandRaise(Yb,d);bb=Dc._texture;g.uniform1i(fc.location,bb.bind());Jc=b.depth;"number"!==typeof Jc&&c.commandRaise(ob,d);g.uniform1f(Ob.location,Jc);xc=b.opacity;"number"!==typeof xc&&c.commandRaise(aa,
d);g.uniform1f(ib.location,xc);yc=b.scale;D(yc)&&2===yc.length||c.commandRaise(O,d);g.uniform2f(da.location,yc[0],yc[1]);Yd=b.scaleFract;D(Yd)&&2===Yd.length||c.commandRaise(Z,d);g.uniform2f(qa.location,Yd[0],Yd[1]);xb=b.thickness;"number"!==typeof xb&&c.commandRaise(Vb,d);g.uniform1f(X.location,xb);hd=b.translate;D(hd)&&2===hd.length||c.commandRaise($b,d);g.uniform2f(Kb.location,hd[0],hd[1]);db=b.translateFract;D(db)&&2===db.length||c.commandRaise(me,d);g.uniform2f(De.location,db[0],db[1]);Fc=ta.call(this,
W,b,0);D(Fc)&&4===Fc.length||c.commandRaise(e,d);g.uniform4f(Id.location,Fc[0],Fc[1],Fc[2],Fc[3]);(nb=lb.elements)?g.bindBuffer(34963,nb.buffer.buffer):I.currentVAO&&(nb=Wa.getElements(I.currentVAO.elements))&&g.bindBuffer(34963,nb.buffer.buffer);Zc=b.count;0<Zc?nb?ee.drawElementsInstancedANGLE(5,4,nb.type,0<<(nb.type-5121>>1),Zc):ee.drawArraysInstancedANGLE(5,0,4,Zc):0>Zc&&(nb?g.drawElements(5,4,nb.type,0<<(nb.type-5121>>1)):g.drawArrays(5,0,4));l.dirty=!0;I.setVAO(null);W.viewportWidth=G;W.viewportHeight=
S;ma&&(v.cpuTime+=performance.now()-fa);Qf&&p.destroyStream(jd);Nd&&p.destroyStream(Hb);Cc&&p.destroyStream(kc);Aa&&p.destroyStream(pa);Qb&&p.destroyStream(Pa);bb.unbind()},scope:function(e,b,g){var f,t,x,z,C,Id,L,E,I,O,X,Z,sa,ba,aa,qa,da,Wa,wa,vb,U,ed,jb,za,Ba,zb,kb,Nc,Fa,ic,jc,Xa,hc,Cb,ob,Vb,Sa,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Yb,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,$b,mb,Nb,la,Kb,ha,Rb,La,Lb,ib,Dc,bb,Jc,xc,yc,yb,
xb,ca,db,Fc,nb,Zc,Da,Eb,cc,pc,Hc,Na,Le,Mb,Ub,sb,Ob,na,Vc,Ia,id,Ja,Rc,Ma,kd,Xb,Ac,rc,fd,sc,fc,gd,gf,rd,Wc,Kc,Sb,Tc,ec,Je,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,me,Mc,Sd,ge,Oe,De,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,bg,Wd,Xe,Ye,Ce,vf,Ke,hf,We,df,lf,jf,se,Nf,ve,Lh,mf,fg,nf;(f=e.viewport)&&"object"===typeof f||c.commandRaise(J,d);t=f.x|0;x=f.y|0;z="width"in f?f.width|0:W.framebufferWidth-t;C="height"in f?f.height|0:W.framebufferHeight-
x;0<=z&&0<=C||c.commandRaise(J,d);Id=W.viewportWidth;W.viewportWidth=z;L=W.viewportHeight;W.viewportHeight=C;E=tb[0];tb[0]=a[6];I=tb[1];tb[1]=a[7];O=tb[2];tb[2]=a[8];X=tb[3];tb[3]=a[9];Z=R[0];R[0]=a[10];sa=R[1];R[1]=a[11];ba=R[2];R[2]=a[12];aa=R[3];R[3]=a[13];qa=V.blend_enable;V.blend_enable=a[14];da=T[0];T[0]=a[15];Wa=T[1];T[1]=a[16];wa=ma[0];ma[0]=a[17];vb=ma[1];ma[1]=a[18];U=ma[2];ma[2]=a[19];ed=ma[3];ma[3]=a[20];"boolean"!==typeof A.call(this,W,e,g)&&c.commandRaise(k,d);jb=V.depth_enable;V.depth_enable=
a[21];(za=e.viewport)&&"object"===typeof za||c.commandRaise(n,d);Ba=za.x|0;zb=za.y|0;kb="width"in za?za.width|0:W.framebufferWidth-Ba;Nc="height"in za?za.height|0:W.framebufferHeight-zb;0<=kb&&0<=Nc||c.commandRaise(n,d);Fa=pb[0];pb[0]=a[22];ic=pb[1];pb[1]=a[23];jc=pb[2];pb[2]=a[24];Xa=pb[3];pb[3]=a[25];hc=V.scissor_enable;V.scissor_enable=a[26];Cb=V.stencil_enable;V.stencil_enable=a[27];if(ob=l.profile)Vb=performance.now(),v.count++;Sa=lb.offset;lb.offset=a[28];Hb=lb.count;lb.count=a[29];Ya=lb.instances;
lb.instances=a[30];ub=lb.primitive;lb.primitive=a[31];ja=sd.call(this,W,e,g);eb=G[a[32]];G[a[32]]=ja;Qa=e.miterLimit;qb=G[a[33]];G[a[33]]=Qa;ab=e.scale;Va=G[a[34]];G[a[34]]=ab;Pb=e.scaleFract;Cc=G[a[35]];G[a[35]]=Pb;Oa=e.translateFract;ua=G[a[36]];G[a[36]]=Oa;Yb=e.translate;Ua=G[a[37]];G[a[37]]=Yb;gb=e.thickness;kc=G[a[38]];G[a[38]]=gb;rb=e.dashTexture;hb=G[a[39]];G[a[39]]=rb;wc=e.opacity;ka=G[a[40]];G[a[40]]=wc;qc=W.pixelRatio;Ra=G[a[41]];G[a[41]]=qc;fb=e.id;ya=G[a[42]];G[a[42]]=fb;Wb=e.dashLength;
Aa=G[a[43]];G[a[43]]=Wb;Fb=ta.call(this,W,e,g);wb=G[a[44]];G[a[44]]=Fb;Ib=e.depth;Zb=G[a[45]];G[a[45]]=Ib;Za=q.state;q.state=1;pa=q.x;q.x=0;cb=q.y;q.y=0;ra=q.z;q.z=0;Ha=q.w;q.w=0;Db=q.buffer;q.buffer=Ea;Ca=q.size;q.size=0;gc=q.normalized;q.normalized=!1;va=q.type;q.type=5126;Ga=q.offset;q.offset=0;$a=q.stride;q.stride=8;Qb=q.divisor;q.divisor=0;m=Y.state;Y.state=1;w=Y.x;Y.x=0;Xc=Y.y;Y.y=0;Gc=Y.z;Y.z=0;ac=Y.w;Y.w=0;Pa=Y.buffer;Y.buffer=Ea;Ic=Y.size;Y.size=0;bc=Y.normalized;Y.normalized=!1;od=Y.type;
Y.type=5126;Bb=Y.offset;Y.offset=4;$b=Y.stride;Y.stride=8;mb=Y.divisor;Y.divisor=0;r.buffer=e.positionBuffer;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(h,d);Nb=!1;la=1;La=Rb=ha=Kb=0;Lb=null;ib=0;Dc=!1;bb=5126;yc=xc=Jc=0;H(r)?(Nb=!0,Lb=p.createStream(34962,r),bb=Lb.dtype):(Lb=p.getBuffer(r))?bb=Lb.dtype:"constant"in r?(la=2,"number"===typeof r.constant?(Kb=
r.constant,ha=Rb=La=0):(Kb=0<r.constant.length?r.constant[0]:0,ha=1<r.constant.length?r.constant[1]:0,Rb=2<r.constant.length?r.constant[2]:0,La=3<r.constant.length?r.constant[3]:0)):(Lb=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),bb="type"in r?Ta[r.type]:Lb.dtype,Dc=!!r.normalized,ib=r.size|0,Jc=r.offset|0,xc=r.stride|0,yc=r.divisor|0);yb=K.state;K.state=la;xb=K.x;K.x=Kb;ca=K.y;K.y=ha;db=K.z;K.z=Rb;Fc=K.w;K.w=La;nb=K.buffer;K.buffer=Lb;Zc=K.size;K.size=ib;Da=K.normalized;K.normalized=
Dc;Eb=K.type;K.type=bb;cc=K.offset;K.offset=Jc;pc=K.stride;K.stride=xc;Hc=K.divisor;K.divisor=yc;u.buffer=e.positionBuffer;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(Ab,d);Na=!1;Le=1;Ob=sb=Ub=Mb=0;na=null;Vc=0;Ia=!1;id=5126;Ma=Rc=Ja=0;H(u)?(Na=!0,na=p.createStream(34962,u),id=na.dtype):(na=p.getBuffer(u))?id=na.dtype:"constant"in u?(Le=2,"number"===typeof u.constant?
(Mb=u.constant,Ub=sb=Ob=0):(Mb=0<u.constant.length?u.constant[0]:0,Ub=1<u.constant.length?u.constant[1]:0,sb=2<u.constant.length?u.constant[2]:0,Ob=3<u.constant.length?u.constant[3]:0)):(na=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),id="type"in u?Ta[u.type]:na.dtype,Ia=!!u.normalized,Vc=u.size|0,Ja=u.offset|0,Rc=u.stride|0,Ma=u.divisor|0);kd=B.state;B.state=Le;Xb=B.x;B.x=Mb;Ac=B.y;B.y=Ub;rc=B.z;B.z=sb;fd=B.w;B.w=Ob;sc=B.buffer;B.buffer=na;fc=B.size;B.size=Vc;gd=B.normalized;
B.normalized=Ia;gf=B.type;B.type=id;rd=B.offset;B.offset=Ja;Wc=B.stride;B.stride=Rc;Kc=B.divisor;B.divisor=Ma;F.buffer=e.positionFractBuffer;F&&("object"===typeof F||"function"===typeof F)&&(H(F)||p.getBuffer(F)||p.getBuffer(F.buffer)||H(F.buffer)||"constant"in F&&("number"===typeof F.constant||D(F.constant)))||c.commandRaise(N,d);Sb=!1;Tc=1;Oc=Tb=Je=ec=0;zc=null;tc=0;Ed=!1;lc=5126;zd=vd=Rd=0;H(F)?(Sb=!0,zc=p.createStream(34962,F),lc=zc.dtype):(zc=p.getBuffer(F))?lc=zc.dtype:"constant"in F?(Tc=2,
"number"===typeof F.constant?(ec=F.constant,Je=Tb=Oc=0):(ec=0<F.constant.length?F.constant[0]:0,Je=1<F.constant.length?F.constant[1]:0,Tb=2<F.constant.length?F.constant[2]:0,Oc=3<F.constant.length?F.constant[3]:0)):(zc=H(F.buffer)?p.createStream(34962,F.buffer):p.getBuffer(F.buffer),lc="type"in F?Ta[F.type]:zc.dtype,Ed=!!F.normalized,tc=F.size|0,Rd=F.offset|0,vd=F.stride|0,zd=F.divisor|0);Hd=Q.state;Q.state=Tc;yd=Q.x;Q.x=ec;wd=Q.y;Q.y=Je;pe=Q.z;Q.z=Tb;uc=Q.w;Q.w=Oc;Ad=Q.buffer;Q.buffer=zc;Jb=Q.size;
Q.size=tc;de=Q.normalized;Q.normalized=Ed;dc=Q.type;Q.type=lc;me=Q.offset;Q.offset=Rd;Mc=Q.stride;Q.stride=vd;Sd=Q.divisor;Q.divisor=zd;y.buffer=e.positionFractBuffer;y&&("object"===typeof y||"function"===typeof y)&&(H(y)||p.getBuffer(y)||p.getBuffer(y.buffer)||H(y.buffer)||"constant"in y&&("number"===typeof y.constant||D(y.constant)))||c.commandRaise(ia,d);ge=!1;Oe=1;Gd=Zd=Fd=De=0;mc=null;dd=0;Ec=!1;Yc=5126;ue=Md=Td=0;H(y)?(ge=!0,mc=p.createStream(34962,y),Yc=mc.dtype):(mc=p.getBuffer(y))?Yc=mc.dtype:
"constant"in y?(Oe=2,"number"===typeof y.constant?(De=y.constant,Fd=Zd=Gd=0):(De=0<y.constant.length?y.constant[0]:0,Fd=1<y.constant.length?y.constant[1]:0,Zd=2<y.constant.length?y.constant[2]:0,Gd=3<y.constant.length?y.constant[3]:0)):(mc=H(y.buffer)?p.createStream(34962,y.buffer):p.getBuffer(y.buffer),Yc="type"in y?Ta[y.type]:mc.dtype,Ec=!!y.normalized,dd=y.size|0,Td=y.offset|0,Md=y.stride|0,ue=y.divisor|0);vc=S.state;S.state=Oe;Se=S.x;S.x=De;xd=S.y;S.y=Fd;Ge=S.z;S.z=Zd;xe=S.w;S.w=Gd;He=S.buffer;
S.buffer=mc;Be=S.size;S.size=dd;we=S.normalized;S.normalized=Ec;Ee=S.type;S.type=Yc;bf=S.offset;S.offset=Td;cf=S.stride;S.stride=Md;Pe=S.divisor;S.divisor=ue;M.buffer=e.colorBuffer;M&&("object"===typeof M||"function"===typeof M)&&(H(M)||p.getBuffer(M)||p.getBuffer(M.buffer)||H(M.buffer)||"constant"in M&&("number"===typeof M.constant||D(M.constant)))||c.commandRaise(Ka,d);Ne=!1;Ue=1;ld=Ve=le=Te=0;Me=null;$c=0;bg=!1;Wd=5126;Ce=Ye=Xe=0;H(M)?(Ne=!0,Me=p.createStream(34962,M),Wd=Me.dtype):(Me=p.getBuffer(M))?
Wd=Me.dtype:"constant"in M?(Ue=2,"number"===typeof M.constant?(Te=M.constant,le=Ve=ld=0):(Te=0<M.constant.length?M.constant[0]:0,le=1<M.constant.length?M.constant[1]:0,Ve=2<M.constant.length?M.constant[2]:0,ld=3<M.constant.length?M.constant[3]:0)):(Me=H(M.buffer)?p.createStream(34962,M.buffer):p.getBuffer(M.buffer),Wd="type"in M?Ta[M.type]:Me.dtype,bg=!!M.normalized,$c=M.size|0,Xe=M.offset|0,Ye=M.stride|0,Ce=M.divisor|0);vf=P.state;P.state=Ue;Ke=P.x;P.x=Te;hf=P.y;P.y=le;We=P.z;P.z=Ve;df=P.w;P.w=ld;
lf=P.buffer;P.buffer=Me;jf=P.size;P.size=$c;se=P.normalized;P.normalized=bg;Nf=P.type;P.type=Wd;ve=P.offset;P.offset=Xe;Lh=P.stride;P.stride=Ye;mf=P.divisor;P.divisor=Ce;fg=fa.vert;fa.vert=a[46];nf=fa.frag;fa.frag=a[47];l.dirty=!0;b(W,e,g);W.viewportWidth=Id;W.viewportHeight=L;tb[0]=E;tb[1]=I;tb[2]=O;tb[3]=X;R[0]=Z;R[1]=sa;R[2]=ba;R[3]=aa;V.blend_enable=qa;T[0]=da;T[1]=Wa;ma[0]=wa;ma[1]=vb;ma[2]=U;ma[3]=ed;V.depth_enable=jb;pb[0]=Fa;pb[1]=ic;pb[2]=jc;pb[3]=Xa;V.scissor_enable=hc;V.stencil_enable=
Cb;ob&&(v.cpuTime+=performance.now()-Vb);lb.offset=Sa;lb.count=Hb;lb.instances=Ya;lb.primitive=ub;G[a[32]]=eb;G[a[33]]=qb;G[a[34]]=Va;G[a[35]]=Cc;G[a[36]]=ua;G[a[37]]=Ua;G[a[38]]=kc;G[a[39]]=hb;G[a[40]]=ka;G[a[41]]=Ra;G[a[42]]=ya;G[a[43]]=Aa;G[a[44]]=wb;G[a[45]]=Zb;q.state=Za;q.x=pa;q.y=cb;q.z=ra;q.w=Ha;q.buffer=Db;q.size=Ca;q.normalized=gc;q.type=va;q.offset=Ga;q.stride=$a;q.divisor=Qb;Y.state=m;Y.x=w;Y.y=Xc;Y.z=Gc;Y.w=ac;Y.buffer=Pa;Y.size=Ic;Y.normalized=bc;Y.type=od;Y.offset=Bb;Y.stride=$b;Y.divisor=
mb;Nb&&p.destroyStream(Lb);K.state=yb;K.x=xb;K.y=ca;K.z=db;K.w=Fc;K.buffer=nb;K.size=Zc;K.normalized=Da;K.type=Eb;K.offset=cc;K.stride=pc;K.divisor=Hc;Na&&p.destroyStream(na);B.state=kd;B.x=Xb;B.y=Ac;B.z=rc;B.w=fd;B.buffer=sc;B.size=fc;B.normalized=gd;B.type=gf;B.offset=rd;B.stride=Wc;B.divisor=Kc;Sb&&p.destroyStream(zc);Q.state=Hd;Q.x=yd;Q.y=wd;Q.z=pe;Q.w=uc;Q.buffer=Ad;Q.size=Jb;Q.normalized=de;Q.type=dc;Q.offset=me;Q.stride=Mc;Q.divisor=Sd;ge&&p.destroyStream(mc);S.state=vc;S.x=Se;S.y=xd;S.z=Ge;
S.w=xe;S.buffer=He;S.size=Be;S.normalized=we;S.type=Ee;S.offset=bf;S.stride=cf;S.divisor=Pe;Ne&&p.destroyStream(Me);P.state=vf;P.x=Ke;P.y=hf;P.z=We;P.w=df;P.buffer=lf;P.size=jf;P.normalized=se;P.type=Nf;P.offset=ve;P.stride=Lh;P.divisor=mf;fa.vert=fg;fa.frag=nf;l.dirty=!0},batch:function(b,f){var q,B,sd,Y,K,G;q=Fa.next;q!==Fa.cur&&(q?g.bindFramebuffer(36160,q.framebuffer):g.bindFramebuffer(36160,null),Fa.cur=q);if(l.dirty){var S,Q,E,T,P,R,ma,fa,vg,ee,Qf,Lc,tb,Qc,pb,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,
Nd,bd,Cb,td,ud,cd;S=V.dither;S!==l.dither&&(S?g.enable(3024):g.disable(3024),l.dither=S);Q=V.depth_func;Q!==l.depth_func&&(g.depthFunc(Q),l.depth_func=Q);E=wa[0];T=wa[1];if(E!==L[0]||T!==L[1])g.depthRange(E,T),L[0]=E,L[1]=T;P=V.depth_mask;P!==l.depth_mask&&(g.depthMask(P),l.depth_mask=P);R=ed[0];ma=ed[1];fa=ed[2];vg=ed[3];if(R!==vb[0]||ma!==vb[1]||fa!==vb[2]||vg!==vb[3])g.colorMask(R,ma,fa,vg),vb[0]=R,vb[1]=ma,vb[2]=fa,vb[3]=vg;ee=V.cull_enable;ee!==l.cull_enable&&(ee?g.enable(2884):g.disable(2884),
l.cull_enable=ee);Qf=V.cull_face;Qf!==l.cull_face&&(g.cullFace(Qf),l.cull_face=Qf);Lc=V.frontFace;Lc!==l.frontFace&&(g.frontFace(Lc),l.frontFace=Lc);tb=V.lineWidth;tb!==l.lineWidth&&(g.lineWidth(tb),l.lineWidth=tb);Qc=V.polygonOffset_enable;Qc!==l.polygonOffset_enable&&(Qc?g.enable(32823):g.disable(32823),l.polygonOffset_enable=Qc);pb=Je[0];qe=Je[1];if(pb!==Ac[0]||qe!==Ac[1])g.polygonOffset(pb,qe),Ac[0]=pb,Ac[1]=qe;jd=V.sample_alpha;jd!==l.sample_alpha&&(jd?g.enable(32926):g.disable(32926),l.sample_alpha=
jd);be=V.sample_enable;be!==l.sample_enable&&(be?g.enable(32928):g.disable(32928),l.sample_enable=be);nc=sa[0];ne=sa[1];if(nc!==Nc[0]||ne!==Nc[1])g.sampleCoverage(nc,ne),Nc[0]=nc,Nc[1]=ne;zb=V.stencil_mask;zb!==l.stencil_mask&&(g.stencilMask(zb),l.stencil_mask=zb);oe=ba[0];Bd=ba[1];Sc=ba[2];if(oe!==hc[0]||Bd!==hc[1]||Sc!==hc[2])g.stencilFunc(oe,Bd,Sc),hc[0]=oe,hc[1]=Bd,hc[2]=Sc;ic=id[0];jc=id[1];Nd=id[2];bd=id[3];if(ic!==Hc[0]||jc!==Hc[1]||Nd!==Hc[2]||bd!==Hc[3])g.stencilOpSeparate(ic,jc,Nd,bd),Hc[0]=
ic,Hc[1]=jc,Hc[2]=Nd,Hc[3]=bd;Cb=Tc[0];td=Tc[1];ud=Tc[2];cd=Tc[3];if(Cb!==Eb[0]||td!==Eb[1]||ud!==Eb[2]||cd!==Eb[3])g.stencilOpSeparate(Cb,td,ud,cd),Eb[0]=Cb,Eb[1]=td,Eb[2]=ud,Eb[3]=cd}g.blendColor(0,0,0,0);z[0]=0;z[1]=0;z[2]=0;z[3]=0;a[48]?g.enable(3042):g.disable(3042);l.blend_enable=a[49];g.blendEquationSeparate(32774,32774);yb[0]=32774;yb[1]=32774;g.blendFuncSeparate(770,771,773,1);x[0]=770;x[1]=771;x[2]=773;x[3]=1;a[50]?g.enable(3089):g.disable(3089);l.scissor_enable=a[51];a[52]?g.enable(2960):
g.disable(2960);l.stencil_enable=a[53];if(B=l.profile)sd=performance.now(),v.count+=f;g.useProgram(t.program);Y=Sa.angle_instanced_arrays;var Hb,Ya,ub,ja,eb;I.setVAO(null);Hb=Oe.location;Ya=za[Hb];Ya.buffer||g.enableVertexAttribArray(Hb);if(5126!==Ya.type||1!==Ya.size||Ya.buffer!==Ea||!1!==Ya.normalized||0!==Ya.offset||8!==Ya.stride)g.bindBuffer(34962,Ea.buffer),g.vertexAttribPointer(Hb,1,5126,!1,8,0),Ya.type=5126,Ya.size=1,Ya.buffer=Ea,Ya.normalized=!1,Ya.offset=0,Ya.stride=8;0!==Ya.divisor&&(Y.vertexAttribDivisorANGLE(Hb,
0),Ya.divisor=0);ub=Ub.location;ja=za[ub];ja.buffer||g.enableVertexAttribArray(ub);if(5126!==ja.type||1!==ja.size||ja.buffer!==Ea||!1!==ja.normalized||4!==ja.offset||8!==ja.stride)g.bindBuffer(34962,Ea.buffer),g.vertexAttribPointer(ub,1,5126,!1,8,4),ja.type=5126,ja.size=1,ja.buffer=Ea,ja.normalized=!1,ja.offset=4,ja.stride=8;0!==ja.divisor&&(Y.vertexAttribDivisorANGLE(ub,0),ja.divisor=0);(eb=lb.elements)?g.bindBuffer(34963,eb.buffer.buffer):I.currentVAO&&(eb=Wa.getElements(I.currentVAO.elements))&&
g.bindBuffer(34963,eb.buffer.buffer);for(K=0;K<f;++K){G=b[K];var Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,rf,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,ag,Af,Fd,Zd,Gd,mc,dd;(Qa=G.viewport)&&"object"===typeof Qa||
c.commandRaise(J,d);qb=Qa.x|0;ab=Qa.y|0;Va="width"in Qa?Qa.width|0:W.framebufferWidth-qb;Pb="height"in Qa?Qa.height|0:W.framebufferHeight-ab;0<=Va&&0<=Pb||c.commandRaise(J,d);Cc=W.viewportWidth;W.viewportWidth=Va;Oa=W.viewportHeight;W.viewportHeight=Pb;g.viewport(qb,ab,Va,Pb);Xa[0]=qb;Xa[1]=ab;Xa[2]=Va;Xa[3]=Pb;ua=A.call(this,W,G,K);"boolean"!==typeof ua&&c.commandRaise(k,d);ua?g.enable(2929):g.disable(2929);l.depth_enable=ua;(Uc=G.viewport)&&"object"===typeof Uc||c.commandRaise(n,d);Ua=Uc.x|0;gb=
Uc.y|0;kc="width"in Uc?Uc.width|0:W.framebufferWidth-Ua;rb="height"in Uc?Uc.height|0:W.framebufferHeight-gb;0<=kc&&0<=rb||c.commandRaise(n,d);g.scissor(Ua,gb,kc,rb);Kc[0]=Ua;Kc[1]=gb;Kc[2]=kc;Kc[3]=rb;r.buffer=G.positionBuffer;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(h,d);hb=!1;wc=1;fb=Ra=qc=ka=0;ya=null;Wb=0;Aa=!1;Fb=5126;Zb=Ib=wb=0;H(r)?(hb=!0,ya=p.createStream(34962,
r),Fb=ya.dtype):(ya=p.getBuffer(r))?Fb=ya.dtype:"constant"in r?(wc=2,"number"===typeof r.constant?(ka=r.constant,qc=Ra=fb=0):(ka=0<r.constant.length?r.constant[0]:0,qc=1<r.constant.length?r.constant[1]:0,Ra=2<r.constant.length?r.constant[2]:0,fb=3<r.constant.length?r.constant[3]:0)):(ya=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),Fb="type"in r?Ta[r.type]:ya.dtype,Aa=!!r.normalized,Wb=r.size|0,wb=r.offset|0,Ib=r.stride|0,Zb=r.divisor|0);Za=C.location;pa=za[Za];if(1===wc){pa.buffer||
g.enableVertexAttribArray(Za);cb=Wb||2;if(pa.type!==Fb||pa.size!==cb||pa.buffer!==ya||pa.normalized!==Aa||pa.offset!==wb||pa.stride!==Ib)g.bindBuffer(34962,ya.buffer),g.vertexAttribPointer(Za,cb,Fb,Aa,Ib,wb),pa.type=Fb,pa.size=cb,pa.buffer=ya,pa.normalized=Aa,pa.offset=wb,pa.stride=Ib;pa.divisor!==Zb&&(Y.vertexAttribDivisorANGLE(Za,Zb),pa.divisor=Zb)}else if(pa.buffer&&(g.disableVertexAttribArray(Za),pa.buffer=null),pa.x!==ka||pa.y!==qc||pa.z!==Ra||pa.w!==fb)g.vertexAttrib4f(Za,ka,qc,Ra,fb),pa.x=
ka,pa.y=qc,pa.z=Ra,pa.w=fb;F.buffer=G.positionFractBuffer;F&&("object"===typeof F||"function"===typeof F)&&(H(F)||p.getBuffer(F)||p.getBuffer(F.buffer)||H(F.buffer)||"constant"in F&&("number"===typeof F.constant||D(F.constant)))||c.commandRaise(N,d);ra=!1;Ha=1;va=gc=Ca=Db=0;Ga=null;$a=0;Qb=!1;m=5126;Gc=Xc=w=0;H(F)?(ra=!0,Ga=p.createStream(34962,F),m=Ga.dtype):(Ga=p.getBuffer(F))?m=Ga.dtype:"constant"in F?(Ha=2,"number"===typeof F.constant?(Db=F.constant,Ca=gc=va=0):(Db=0<F.constant.length?F.constant[0]:
0,Ca=1<F.constant.length?F.constant[1]:0,gc=2<F.constant.length?F.constant[2]:0,va=3<F.constant.length?F.constant[3]:0)):(Ga=H(F.buffer)?p.createStream(34962,F.buffer):p.getBuffer(F.buffer),m="type"in F?Ta[F.type]:Ga.dtype,Qb=!!F.normalized,$a=F.size|0,w=F.offset|0,Xc=F.stride|0,Gc=F.divisor|0);ac=U.location;Pa=za[ac];if(1===Ha){Pa.buffer||g.enableVertexAttribArray(ac);Ic=$a||2;if(Pa.type!==m||Pa.size!==Ic||Pa.buffer!==Ga||Pa.normalized!==Qb||Pa.offset!==w||Pa.stride!==Xc)g.bindBuffer(34962,Ga.buffer),
g.vertexAttribPointer(ac,Ic,m,Qb,Xc,w),Pa.type=m,Pa.size=Ic,Pa.buffer=Ga,Pa.normalized=Qb,Pa.offset=w,Pa.stride=Xc;Pa.divisor!==Gc&&(Y.vertexAttribDivisorANGLE(ac,Gc),Pa.divisor=Gc)}else if(Pa.buffer&&(g.disableVertexAttribArray(ac),Pa.buffer=null),Pa.x!==Db||Pa.y!==Ca||Pa.z!==gc||Pa.w!==va)g.vertexAttrib4f(ac,Db,Ca,gc,va),Pa.x=Db,Pa.y=Ca,Pa.z=gc,Pa.w=va;u.buffer=G.positionBuffer;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in
u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(Ab,d);bc=!1;od=1;Ld=mb=Od=Bb=0;la=null;Xd=0;ha=!1;Rb=5126;re=Lb=La=0;H(u)?(bc=!0,la=p.createStream(34962,u),Rb=la.dtype):(la=p.getBuffer(u))?Rb=la.dtype:"constant"in u?(od=2,"number"===typeof u.constant?(Bb=u.constant,Od=mb=Ld=0):(Bb=0<u.constant.length?u.constant[0]:0,Od=1<u.constant.length?u.constant[1]:0,mb=2<u.constant.length?u.constant[2]:0,Ld=3<u.constant.length?u.constant[3]:0)):(la=H(u.buffer)?p.createStream(34962,u.buffer):
p.getBuffer(u.buffer),Rb="type"in u?Ta[u.type]:la.dtype,ha=!!u.normalized,Xd=u.size|0,La=u.offset|0,Lb=u.stride|0,re=u.divisor|0);Dc=jb.location;bb=za[Dc];if(1===od){bb.buffer||g.enableVertexAttribArray(Dc);Jc=Xd||2;if(bb.type!==Rb||bb.size!==Jc||bb.buffer!==la||bb.normalized!==ha||bb.offset!==La||bb.stride!==Lb)g.bindBuffer(34962,la.buffer),g.vertexAttribPointer(Dc,Jc,Rb,ha,Lb,La),bb.type=Rb,bb.size=Jc,bb.buffer=la,bb.normalized=ha,bb.offset=La,bb.stride=Lb;bb.divisor!==re&&(Y.vertexAttribDivisorANGLE(Dc,
re),bb.divisor=re)}else if(bb.buffer&&(g.disableVertexAttribArray(Dc),bb.buffer=null),bb.x!==Bb||bb.y!==Od||bb.z!==mb||bb.w!==Ld)g.vertexAttrib4f(Dc,Bb,Od,mb,Ld),bb.x=Bb,bb.y=Od,bb.z=mb,bb.w=Ld;y.buffer=G.positionFractBuffer;y&&("object"===typeof y||"function"===typeof y)&&(H(y)||p.getBuffer(y)||p.getBuffer(y.buffer)||H(y.buffer)||"constant"in y&&("number"===typeof y.constant||D(y.constant)))||c.commandRaise(ia,d);xc=!1;yc=1;db=hd=xb=Yd=0;Fc=null;nb=0;Zc=!1;Da=5126;pc=cc=Pd=0;H(y)?(xc=!0,Fc=p.createStream(34962,
y),Da=Fc.dtype):(Fc=p.getBuffer(y))?Da=Fc.dtype:"constant"in y?(yc=2,"number"===typeof y.constant?(Yd=y.constant,xb=hd=db=0):(Yd=0<y.constant.length?y.constant[0]:0,xb=1<y.constant.length?y.constant[1]:0,hd=2<y.constant.length?y.constant[2]:0,db=3<y.constant.length?y.constant[3]:0)):(Fc=H(y.buffer)?p.createStream(34962,y.buffer):p.getBuffer(y.buffer),Da="type"in y?Ta[y.type]:Fc.dtype,Zc=!!y.normalized,nb=y.size|0,Pd=y.offset|0,cc=y.stride|0,pc=y.divisor|0);$d=ca.location;Na=za[$d];if(1===yc){Na.buffer||
g.enableVertexAttribArray($d);Cd=nb||2;if(Na.type!==Da||Na.size!==Cd||Na.buffer!==Fc||Na.normalized!==Zc||Na.offset!==Pd||Na.stride!==cc)g.bindBuffer(34962,Fc.buffer),g.vertexAttribPointer($d,Cd,Da,Zc,cc,Pd),Na.type=Da,Na.size=Cd,Na.buffer=Fc,Na.normalized=Zc,Na.offset=Pd,Na.stride=cc;Na.divisor!==pc&&(Y.vertexAttribDivisorANGLE($d,pc),Na.divisor=pc)}else if(Na.buffer&&(g.disableVertexAttribArray($d),Na.buffer=null),Na.x!==Yd||Na.y!==xb||Na.z!==hd||Na.w!==db)g.vertexAttrib4f($d,Yd,xb,hd,db),Na.x=
Yd,Na.y=xb,Na.z=hd,Na.w=db;M.buffer=G.colorBuffer;M&&("object"===typeof M||"function"===typeof M)&&(H(M)||p.getBuffer(M)||p.getBuffer(M.buffer)||H(M.buffer)||"constant"in M&&("number"===typeof M.constant||D(M.constant)))||c.commandRaise(Ka,d);Mb=!1;ie=1;Vc=na=Dd=sb=0;Ia=null;fe=0;Ja=!1;Rc=5126;Xb=kd=Ma=0;H(M)?(Mb=!0,Ia=p.createStream(34962,M),Rc=Ia.dtype):(Ia=p.getBuffer(M))?Rc=Ia.dtype:"constant"in M?(ie=2,"number"===typeof M.constant?(sb=M.constant,Dd=na=Vc=0):(sb=0<M.constant.length?M.constant[0]:
0,Dd=1<M.constant.length?M.constant[1]:0,na=2<M.constant.length?M.constant[2]:0,Vc=3<M.constant.length?M.constant[3]:0)):(Ia=H(M.buffer)?p.createStream(34962,M.buffer):p.getBuffer(M.buffer),Rc="type"in M?Ta[M.type]:Ia.dtype,Ja=!!M.normalized,fe=M.size|0,Ma=M.offset|0,kd=M.stride|0,Xb=M.divisor|0);Qd=Ba.location;rc=za[Qd];if(1===ie){rc.buffer||g.enableVertexAttribArray(Qd);fd=fe||4;if(rc.type!==Rc||rc.size!==fd||rc.buffer!==Ia||rc.normalized!==Ja||rc.offset!==Ma||rc.stride!==kd)g.bindBuffer(34962,
Ia.buffer),g.vertexAttribPointer(Qd,fd,Rc,Ja,kd,Ma),rc.type=Rc,rc.size=fd,rc.buffer=Ia,rc.normalized=Ja,rc.offset=Ma,rc.stride=kd;rc.divisor!==Xb&&(Y.vertexAttribDivisorANGLE(Qd,Xb),rc.divisor=Xb)}else if(rc.buffer&&(g.disableVertexAttribArray(Qd),rc.buffer=null),rc.x!==sb||rc.y!==Dd||rc.z!==na||rc.w!==Vc)g.vertexAttrib4f(Qd,sb,Dd,na,Vc),rc.x=sb,rc.y=Dd,rc.z=na,rc.w=Vc;sc=G.dashLength;"number"!==typeof sc&&c.commandRaise(kb,d);K&&Qe===sc||(Qe=sc,g.uniform1f(Nb.location,sc));(gd=G.dashTexture)&&"framebuffer"===
gd._reglType&&(gd=gd.color[0]);"function"===typeof gd&&"texture2d"===gd._reglType||c.commandRaise(Yb,d);ye=gd._texture;g.uniform1i(fc.location,ye.bind());rd=G.depth;"number"!==typeof rd&&c.commandRaise(ob,d);K&&Wc===rd||(Wc=rd,g.uniform1f(Ob.location,rd));ae=G.opacity;"number"!==typeof ae&&c.commandRaise(aa,d);K&&Sb===ae||(Sb=ae,g.uniform1f(ib.location,ae));ce=G.scale;D(ce)&&2===ce.length||c.commandRaise(O,d);ec=ce[0];Tb=ce[1];K&&rf===ec&&Oc===Tb||(rf=ec,Oc=Tb,g.uniform2f(da.location,ec,Tb));zc=G.scaleFract;
D(zc)&&2===zc.length||c.commandRaise(Z,d);tc=zc[0];lc=zc[1];K&&Ed===tc&&Rd===lc||(Ed=tc,Rd=lc,g.uniform2f(qa.location,tc,lc));vd=G.thickness;"number"!==typeof vd&&c.commandRaise(Vb,d);K&&zd===vd||(zd=vd,g.uniform1f(X.location,vd));Hd=G.translate;D(Hd)&&2===Hd.length||c.commandRaise($b,d);yd=Hd[0];pe=Hd[1];K&&wd===yd&&uc===pe||(wd=yd,uc=pe,g.uniform2f(Kb.location,yd,pe));Ad=G.translateFract;D(Ad)&&2===Ad.length||c.commandRaise(me,d);Jb=Ad[0];dc=Ad[1];K&&de===Jb&&kf===dc||(de=Jb,kf=dc,g.uniform2f(De.location,
Jb,dc));Mc=ta.call(this,W,G,K);D(Mc)&&4===Mc.length||c.commandRaise(e,d);Sd=Mc[0];ag=Mc[1];Fd=Mc[2];Gd=Mc[3];K&&ge===Sd&&Af===ag&&Zd===Fd&&mc===Gd||(ge=Sd,Af=ag,Zd=Fd,mc=Gd,g.uniform4f(Id.location,Sd,ag,Fd,Gd));dd=G.count;0<dd?eb?Y.drawElementsInstancedANGLE(5,4,eb.type,0<<(eb.type-5121>>1),dd):Y.drawArraysInstancedANGLE(5,0,4,dd):0>dd&&(eb?g.drawElements(5,4,eb.type,0<<(eb.type-5121>>1)):g.drawArrays(5,0,4));W.viewportWidth=Cc;W.viewportHeight=Oa;hb&&p.destroyStream(ya);ra&&p.destroyStream(Ga);bc&&
p.destroyStream(la);xc&&p.destroyStream(Fc);Mb&&p.destroyStream(Ia);ye.unbind()}l.dirty=!0;I.setVAO(null);B&&(v.cpuTime+=performance.now()-sd)}}},"11811.24":function(a,b,c,d,v,J,A){var k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De;k=b.gl;n=b.context;t=b.next;h=b.current;C=b.shader;N=b.vao;U=b.framebuffer;Ab=t.blend_color;jb=h.blend_color;ia=t.blend_equation;ca=h.blend_equation;Ka=t.blend_func;Ba=h.blend_func;Ea=t.depth_range;Oe=h.depth_range;Ub=t.colorMask;
Nb=h.colorMask;kb=t.polygonOffset_offset;fc=h.polygonOffset_offset;Yb=t.sample_coverage;Ob=h.sample_coverage;ob=t.stencil_func;ib=h.stencil_func;aa=t.stencil_opFront;da=h.stencil_opFront;O=t.stencil_opBack;qa=h.stencil_opBack;Z=t.scissor_box;X=h.scissor_box;Vb=t.viewport;Kb=h.viewport;$b={};De={};return{draw:function(a){var c,b,e,f,q;c=U.next;c!==U.cur&&(c?k.bindFramebuffer(36160,c.framebuffer):k.bindFramebuffer(36160,null),U.cur=c);if(h.dirty){c=t.dither;c!==h.dither&&(c?k.enable(3024):k.disable(3024),
h.dither=c);c=t.blend_enable;c!==h.blend_enable&&(c?k.enable(3042):k.disable(3042),h.blend_enable=c);c=Ab[0];e=Ab[1];f=Ab[2];q=Ab[3];if(c!==jb[0]||e!==jb[1]||f!==jb[2]||q!==jb[3])k.blendColor(c,e,f,q),jb[0]=c,jb[1]=e,jb[2]=f,jb[3]=q;c=ia[0];e=ia[1];if(c!==ca[0]||e!==ca[1])k.blendEquationSeparate(c,e),ca[0]=c,ca[1]=e;c=Ka[0];e=Ka[1];f=Ka[2];q=Ka[3];if(c!==Ba[0]||e!==Ba[1]||f!==Ba[2]||q!==Ba[3])k.blendFuncSeparate(c,e,f,q),Ba[0]=c,Ba[1]=e,Ba[2]=f,Ba[3]=q;c=t.depth_enable;c!==h.depth_enable&&(c?k.enable(2929):
k.disable(2929),h.depth_enable=c);c=t.depth_func;c!==h.depth_func&&(k.depthFunc(c),h.depth_func=c);c=Ea[0];e=Ea[1];if(c!==Oe[0]||e!==Oe[1])k.depthRange(c,e),Oe[0]=c,Oe[1]=e;c=t.depth_mask;c!==h.depth_mask&&(k.depthMask(c),h.depth_mask=c);c=Ub[0];e=Ub[1];f=Ub[2];q=Ub[3];if(c!==Nb[0]||e!==Nb[1]||f!==Nb[2]||q!==Nb[3])k.colorMask(c,e,f,q),Nb[0]=c,Nb[1]=e,Nb[2]=f,Nb[3]=q;c=t.cull_enable;c!==h.cull_enable&&(c?k.enable(2884):k.disable(2884),h.cull_enable=c);c=t.cull_face;c!==h.cull_face&&(k.cullFace(c),
h.cull_face=c);c=t.frontFace;c!==h.frontFace&&(k.frontFace(c),h.frontFace=c);c=t.lineWidth;c!==h.lineWidth&&(k.lineWidth(c),h.lineWidth=c);c=t.polygonOffset_enable;c!==h.polygonOffset_enable&&(c?k.enable(32823):k.disable(32823),h.polygonOffset_enable=c);c=kb[0];e=kb[1];if(c!==fc[0]||e!==fc[1])k.polygonOffset(c,e),fc[0]=c,fc[1]=e;c=t.sample_alpha;c!==h.sample_alpha&&(c?k.enable(32926):k.disable(32926),h.sample_alpha=c);c=t.sample_enable;c!==h.sample_enable&&(c?k.enable(32928):k.disable(32928),h.sample_enable=
c);c=Yb[0];e=Yb[1];if(c!==Ob[0]||e!==Ob[1])k.sampleCoverage(c,e),Ob[0]=c,Ob[1]=e;c=t.stencil_enable;c!==h.stencil_enable&&(c?k.enable(2960):k.disable(2960),h.stencil_enable=c);c=t.stencil_mask;c!==h.stencil_mask&&(k.stencilMask(c),h.stencil_mask=c);c=ob[0];e=ob[1];f=ob[2];if(c!==ib[0]||e!==ib[1]||f!==ib[2])k.stencilFunc(c,e,f),ib[0]=c,ib[1]=e,ib[2]=f;c=aa[0];e=aa[1];f=aa[2];q=aa[3];if(c!==da[0]||e!==da[1]||f!==da[2]||q!==da[3])k.stencilOpSeparate(c,e,f,q),da[0]=c,da[1]=e,da[2]=f,da[3]=q;c=O[0];e=
O[1];f=O[2];q=O[3];if(c!==qa[0]||e!==qa[1]||f!==qa[2]||q!==qa[3])k.stencilOpSeparate(c,e,f,q),qa[0]=c,qa[1]=e,qa[2]=f,qa[3]=q;c=t.scissor_enable;c!==h.scissor_enable&&(c?k.enable(3089):k.disable(3089),h.scissor_enable=c);c=Z[0];e=Z[1];f=Z[2];q=Z[3];if(c!==X[0]||e!==X[1]||f!==X[2]||q!==X[3])k.scissor(c,e,f,q),X[0]=c,X[1]=e,X[2]=f,X[3]=q;c=Vb[0];e=Vb[1];f=Vb[2];q=Vb[3];if(c!==Kb[0]||e!==Kb[1]||f!==Kb[2]||q!==Kb[3])k.viewport(c,e,f,q),Kb[0]=c,Kb[1]=e,Kb[2]=f,Kb[3]=q;h.dirty=!1}if(c=h.profile)b=performance.now(),
v.count++;e=C.program(C.vert,C.frag,d);k.useProgram(e.program);N.setVAO(null);f=e.id;(q=$b[f])||(q=$b[f]=J(e));q.call(this,a);N.setVAO(null);c&&(v.cpuTime+=performance.now()-b)},scope:function(a,c,b){var e,d;if(e=h.profile)d=performance.now(),v.count++;c(n,a,b);e&&(v.cpuTime+=performance.now()-d)},batch:function(a,c){var b,e,f,q,n;b=U.next;b!==U.cur&&(b?k.bindFramebuffer(36160,b.framebuffer):k.bindFramebuffer(36160,null),U.cur=b);if(h.dirty){b=t.dither;b!==h.dither&&(b?k.enable(3024):k.disable(3024),
h.dither=b);b=t.blend_enable;b!==h.blend_enable&&(b?k.enable(3042):k.disable(3042),h.blend_enable=b);b=Ab[0];f=Ab[1];q=Ab[2];n=Ab[3];if(b!==jb[0]||f!==jb[1]||q!==jb[2]||n!==jb[3])k.blendColor(b,f,q,n),jb[0]=b,jb[1]=f,jb[2]=q,jb[3]=n;b=ia[0];f=ia[1];if(b!==ca[0]||f!==ca[1])k.blendEquationSeparate(b,f),ca[0]=b,ca[1]=f;b=Ka[0];f=Ka[1];q=Ka[2];n=Ka[3];if(b!==Ba[0]||f!==Ba[1]||q!==Ba[2]||n!==Ba[3])k.blendFuncSeparate(b,f,q,n),Ba[0]=b,Ba[1]=f,Ba[2]=q,Ba[3]=n;b=t.depth_enable;b!==h.depth_enable&&(b?k.enable(2929):
k.disable(2929),h.depth_enable=b);b=t.depth_func;b!==h.depth_func&&(k.depthFunc(b),h.depth_func=b);b=Ea[0];f=Ea[1];if(b!==Oe[0]||f!==Oe[1])k.depthRange(b,f),Oe[0]=b,Oe[1]=f;b=t.depth_mask;b!==h.depth_mask&&(k.depthMask(b),h.depth_mask=b);b=Ub[0];f=Ub[1];q=Ub[2];n=Ub[3];if(b!==Nb[0]||f!==Nb[1]||q!==Nb[2]||n!==Nb[3])k.colorMask(b,f,q,n),Nb[0]=b,Nb[1]=f,Nb[2]=q,Nb[3]=n;b=t.cull_enable;b!==h.cull_enable&&(b?k.enable(2884):k.disable(2884),h.cull_enable=b);b=t.cull_face;b!==h.cull_face&&(k.cullFace(b),
h.cull_face=b);b=t.frontFace;b!==h.frontFace&&(k.frontFace(b),h.frontFace=b);b=t.lineWidth;b!==h.lineWidth&&(k.lineWidth(b),h.lineWidth=b);b=t.polygonOffset_enable;b!==h.polygonOffset_enable&&(b?k.enable(32823):k.disable(32823),h.polygonOffset_enable=b);b=kb[0];f=kb[1];if(b!==fc[0]||f!==fc[1])k.polygonOffset(b,f),fc[0]=b,fc[1]=f;b=t.sample_alpha;b!==h.sample_alpha&&(b?k.enable(32926):k.disable(32926),h.sample_alpha=b);b=t.sample_enable;b!==h.sample_enable&&(b?k.enable(32928):k.disable(32928),h.sample_enable=
b);b=Yb[0];f=Yb[1];if(b!==Ob[0]||f!==Ob[1])k.sampleCoverage(b,f),Ob[0]=b,Ob[1]=f;b=t.stencil_enable;b!==h.stencil_enable&&(b?k.enable(2960):k.disable(2960),h.stencil_enable=b);b=t.stencil_mask;b!==h.stencil_mask&&(k.stencilMask(b),h.stencil_mask=b);b=ob[0];f=ob[1];q=ob[2];if(b!==ib[0]||f!==ib[1]||q!==ib[2])k.stencilFunc(b,f,q),ib[0]=b,ib[1]=f,ib[2]=q;b=aa[0];f=aa[1];q=aa[2];n=aa[3];if(b!==da[0]||f!==da[1]||q!==da[2]||n!==da[3])k.stencilOpSeparate(b,f,q,n),da[0]=b,da[1]=f,da[2]=q,da[3]=n;b=O[0];f=
O[1];q=O[2];n=O[3];if(b!==qa[0]||f!==qa[1]||q!==qa[2]||n!==qa[3])k.stencilOpSeparate(b,f,q,n),qa[0]=b,qa[1]=f,qa[2]=q,qa[3]=n;b=t.scissor_enable;b!==h.scissor_enable&&(b?k.enable(3089):k.disable(3089),h.scissor_enable=b);b=Z[0];f=Z[1];q=Z[2];n=Z[3];if(b!==X[0]||f!==X[1]||q!==X[2]||n!==X[3])k.scissor(b,f,q,n),X[0]=b,X[1]=f,X[2]=q,X[3]=n;b=Vb[0];f=Vb[1];q=Vb[2];n=Vb[3];if(b!==Kb[0]||f!==Kb[1]||q!==Kb[2]||n!==Kb[3])k.viewport(b,f,q,n),Kb[0]=b,Kb[1]=f,Kb[2]=q,Kb[3]=n;h.dirty=!1}if(b=h.profile)e=performance.now(),
v.count+=c;f=C.program(C.vert,C.frag,d);k.useProgram(f.program);N.setVAO(null);q=f.id;(n=De[q])||(n=De[q]=A(f));n.call(this,a,c);N.setVAO(null);b&&(v.cpuTime+=performance.now()-e)}}},"58241.262":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P,g,W,V){var l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R,z,T,yb,ma,x,wa,L,ed,vb,Je,Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u,F,y,M,xa,ga,oa,ea;l=b.gl;lb=b.context;Wa=b.next;p=b.current;
fa=b.draw;za=b.elements;I=b.buffer;G=b.shader;Fa=b.attributes;Sa=b.vao;H=b.uniforms;D=b.framebuffer;R=b.extensions;z=b.isBufferArgs;T=b.isArrayLike;yb=Wa.blend_color;ma=p.blend_color;x=Wa.blend_equation;wa=p.blend_equation;L=Wa.blend_func;ed=p.blend_func;vb=Wa.depth_range;Je=p.depth_range;Ac=Wa.colorMask;sa=p.colorMask;Nc=Wa.polygonOffset_offset;ba=p.polygonOffset_offset;hc=Wa.sample_coverage;id=p.sample_coverage;Hc=Wa.stencil_func;Tc=p.stencil_func;Eb=Wa.stencil_opFront;pb=p.stencil_opFront;Kc=Wa.stencil_opBack;
tb=p.stencil_opBack;Xa=Wa.scissor_box;Ta=p.scissor_box;r=Wa.viewport;u=p.viewport;F={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};y={stride:4,offset:0,divisor:1};M={stride:4,offset:4,divisor:1};xa={stride:8,offset:0,divisor:1};ga={stride:8,offset:8,divisor:1};oa={stride:8,offset:16,divisor:1};ea={stride:8,offset:24,divisor:1};return{draw:function(b){var g,f,r,x,B,E,L,H,K,G,S,V,Q,P,W,Xa,Qc,yb,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,
ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb;g=D.next;g!==D.cur&&(g?l.bindFramebuffer(36160,g.framebuffer):l.bindFramebuffer(36160,null),D.cur=g);if(p.dirty){var Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,rf,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb;Qd=Wa.dither;Qd!==
p.dither&&(Qd?l.enable(3024):l.disable(3024),p.dither=Qd);rc=Wa.depth_func;rc!==p.depth_func&&(l.depthFunc(rc),p.depth_func=rc);fd=vb[0];sc=vb[1];if(fd!==Je[0]||sc!==Je[1])l.depthRange(fd,sc),Je[0]=fd,Je[1]=sc;Qe=Wa.depth_mask;Qe!==p.depth_mask&&(l.depthMask(Qe),p.depth_mask=Qe);gd=Ac[0];ye=Ac[1];rd=Ac[2];Wc=Ac[3];if(gd!==sa[0]||ye!==sa[1]||rd!==sa[2]||Wc!==sa[3])l.colorMask(gd,ye,rd,Wc),sa[0]=gd,sa[1]=ye,sa[2]=rd,sa[3]=Wc;ae=Wa.frontFace;ae!==p.frontFace&&(l.frontFace(ae),p.frontFace=ae);Sb=Wa.lineWidth;
Sb!==p.lineWidth&&(l.lineWidth(Sb),p.lineWidth=Sb);ce=Wa.polygonOffset_enable;ce!==p.polygonOffset_enable&&(ce?l.enable(32823):l.disable(32823),p.polygonOffset_enable=ce);ec=Nc[0];rf=Nc[1];if(ec!==ba[0]||rf!==ba[1])l.polygonOffset(ec,rf),ba[0]=ec,ba[1]=rf;Tb=Wa.sample_alpha;Tb!==p.sample_alpha&&(Tb?l.enable(32926):l.disable(32926),p.sample_alpha=Tb);Oc=Wa.sample_enable;Oc!==p.sample_enable&&(Oc?l.enable(32928):l.disable(32928),p.sample_enable=Oc);zc=hc[0];tc=hc[1];if(zc!==id[0]||tc!==id[1])l.sampleCoverage(zc,
tc),id[0]=zc,id[1]=tc;Ed=Wa.stencil_mask;Ed!==p.stencil_mask&&(l.stencilMask(Ed),p.stencil_mask=Ed);lc=Hc[0];Rd=Hc[1];vd=Hc[2];if(lc!==Tc[0]||Rd!==Tc[1]||vd!==Tc[2])l.stencilFunc(lc,Rd,vd),Tc[0]=lc,Tc[1]=Rd,Tc[2]=vd;zd=Eb[0];Hd=Eb[1];yd=Eb[2];wd=Eb[3];if(zd!==pb[0]||Hd!==pb[1]||yd!==pb[2]||wd!==pb[3])l.stencilOpSeparate(zd,Hd,yd,wd),pb[0]=zd,pb[1]=Hd,pb[2]=yd,pb[3]=wd;pe=Kc[0];uc=Kc[1];Ad=Kc[2];Jb=Kc[3];if(pe!==tb[0]||uc!==tb[1]||Ad!==tb[2]||Jb!==tb[3])l.stencilOpSeparate(pe,uc,Ad,Jb),tb[0]=pe,tb[1]=
uc,tb[2]=Ad,tb[3]=Jb}(f=b.viewport)&&"object"===typeof f||c.commandRaise(J,d);r=f.x|0;x=f.y|0;B="width"in f?f.width|0:lb.framebufferWidth-r;E="height"in f?f.height|0:lb.framebufferHeight-x;0<=B&&0<=E||c.commandRaise(J,d);L=lb.viewportWidth;lb.viewportWidth=B;H=lb.viewportHeight;lb.viewportHeight=E;l.viewport(r,x,B,E);u[0]=r;u[1]=x;u[2]=B;u[3]=E;l.blendColor(0,0,0,0);ma[0]=0;ma[1]=0;ma[2]=0;ma[3]=0;a[0]?l.enable(3042):l.disable(3042);p.blend_enable=a[1];l.blendEquationSeparate(32774,32774);wa[0]=32774;
wa[1]=32774;l.blendFuncSeparate(770,771,773,1);ed[0]=770;ed[1]=771;ed[2]=773;ed[3]=1;a[2]?l.enable(2884):l.disable(2884);p.cull_enable=a[3];l.cullFace(a[4]);p.cull_face=a[5];K=A.call(this,lb,b,0);"boolean"!==typeof K&&c.commandRaise(k,d);K?l.enable(2929):l.disable(2929);p.depth_enable=K;(G=b.viewport)&&"object"===typeof G||c.commandRaise(n,d);S=G.x|0;V=G.y|0;Q="width"in G?G.width|0:lb.framebufferWidth-S;P="height"in G?G.height|0:lb.framebufferHeight-V;0<=Q&&0<=P||c.commandRaise(n,d);l.scissor(S,V,
Q,P);Ta[0]=S;Ta[1]=V;Ta[2]=Q;Ta[3]=P;a[6]?l.enable(3089):l.disable(3089);p.scissor_enable=a[7];a[8]?l.enable(2960):l.disable(2960);p.stencil_enable=a[9];if(W=p.profile)Xa=performance.now(),v.count++;l.useProgram(t.program);Qc=R.angle_instanced_arrays;Sa.setVAO(null);y.buffer=b.colorBuffer;y&&("object"===typeof y||"function"===typeof y)&&(z(y)||I.getBuffer(y)||I.getBuffer(y.buffer)||z(y.buffer)||"constant"in y&&("number"===typeof y.constant||T(y.constant)))||c.commandRaise(h,d);yb=!1;qe=1;ne=nc=be=
jd=0;zb=null;oe=0;Bd=!1;Sc=5126;Nd=jc=ic=0;z(y)?(yb=!0,zb=I.createStream(34962,y),Sc=zb.dtype):(zb=I.getBuffer(y))?Sc=zb.dtype:"constant"in y?(qe=2,"number"===typeof y.constant?(jd=y.constant,be=nc=ne=0):(jd=0<y.constant.length?y.constant[0]:0,be=1<y.constant.length?y.constant[1]:0,nc=2<y.constant.length?y.constant[2]:0,ne=3<y.constant.length?y.constant[3]:0)):(zb=z(y.buffer)?I.createStream(34962,y.buffer):I.getBuffer(y.buffer),Sc="type"in y?F[y.type]:zb.dtype,Bd=!!y.normalized,oe=y.size|0,ic=y.offset|
0,jc=y.stride|0,Nd=y.divisor|0);bd=C.location;Cb=Fa[bd];if(1===qe){Cb.buffer||l.enableVertexAttribArray(bd);td=oe||4;if(Cb.type!==Sc||Cb.size!==td||Cb.buffer!==zb||Cb.normalized!==Bd||Cb.offset!==ic||Cb.stride!==jc)l.bindBuffer(34962,zb.buffer),l.vertexAttribPointer(bd,td,Sc,Bd,jc,ic),Cb.type=Sc,Cb.size=td,Cb.buffer=zb,Cb.normalized=Bd,Cb.offset=ic,Cb.stride=jc;Cb.divisor!==Nd&&(Qc.vertexAttribDivisorANGLE(bd,Nd),Cb.divisor=Nd)}else if(Cb.buffer&&(l.disableVertexAttribArray(bd),Cb.buffer=null),Cb.x!==
jd||Cb.y!==be||Cb.z!==nc||Cb.w!==ne)l.vertexAttrib4f(bd,jd,be,nc,ne),Cb.x=jd,Cb.y=be,Cb.z=nc,Cb.w=ne;ga.buffer=b.positionBuffer;ga&&("object"===typeof ga||"function"===typeof ga)&&(z(ga)||I.getBuffer(ga)||I.getBuffer(ga.buffer)||z(ga.buffer)||"constant"in ga&&("number"===typeof ga.constant||T(ga.constant)))||c.commandRaise(N,d);ud=!1;cd=1;ja=ub=Ya=Hb=0;eb=null;Qa=0;qb=!1;ab=5126;Cc=Pb=Va=0;z(ga)?(ud=!0,eb=I.createStream(34962,ga),ab=eb.dtype):(eb=I.getBuffer(ga))?ab=eb.dtype:"constant"in ga?(cd=2,
"number"===typeof ga.constant?(Hb=ga.constant,Ya=ub=ja=0):(Hb=0<ga.constant.length?ga.constant[0]:0,Ya=1<ga.constant.length?ga.constant[1]:0,ub=2<ga.constant.length?ga.constant[2]:0,ja=3<ga.constant.length?ga.constant[3]:0)):(eb=z(ga.buffer)?I.createStream(34962,ga.buffer):I.getBuffer(ga.buffer),ab="type"in ga?F[ga.type]:eb.dtype,qb=!!ga.normalized,Qa=ga.size|0,Va=ga.offset|0,Pb=ga.stride|0,Cc=ga.divisor|0);Oa=U.location;ua=Fa[Oa];if(1===cd){ua.buffer||l.enableVertexAttribArray(Oa);Uc=Qa||2;if(ua.type!==
ab||ua.size!==Uc||ua.buffer!==eb||ua.normalized!==qb||ua.offset!==Va||ua.stride!==Pb)l.bindBuffer(34962,eb.buffer),l.vertexAttribPointer(Oa,Uc,ab,qb,Pb,Va),ua.type=ab,ua.size=Uc,ua.buffer=eb,ua.normalized=qb,ua.offset=Va,ua.stride=Pb;ua.divisor!==Cc&&(Qc.vertexAttribDivisorANGLE(Oa,Cc),ua.divisor=Cc)}else if(ua.buffer&&(l.disableVertexAttribArray(Oa),ua.buffer=null),ua.x!==Hb||ua.y!==Ya||ua.z!==ub||ua.w!==ja)l.vertexAttrib4f(Oa,Hb,Ya,ub,ja),ua.x=Hb,ua.y=Ya,ua.z=ub,ua.w=ja;M.buffer=b.colorBuffer;M&&
("object"===typeof M||"function"===typeof M)&&(z(M)||I.getBuffer(M)||I.getBuffer(M.buffer)||z(M.buffer)||"constant"in M&&("number"===typeof M.constant||T(M.constant)))||c.commandRaise(Ab,d);Ua=!1;gb=1;wc=hb=rb=kc=0;ka=null;qc=0;Ra=!1;fb=5126;Aa=Wb=ya=0;z(M)?(Ua=!0,ka=I.createStream(34962,M),fb=ka.dtype):(ka=I.getBuffer(M))?fb=ka.dtype:"constant"in M?(gb=2,"number"===typeof M.constant?(kc=M.constant,rb=hb=wc=0):(kc=0<M.constant.length?M.constant[0]:0,rb=1<M.constant.length?M.constant[1]:0,hb=2<M.constant.length?
M.constant[2]:0,wc=3<M.constant.length?M.constant[3]:0)):(ka=z(M.buffer)?I.createStream(34962,M.buffer):I.getBuffer(M.buffer),fb="type"in M?F[M.type]:ka.dtype,Ra=!!M.normalized,qc=M.size|0,ya=M.offset|0,Wb=M.stride|0,Aa=M.divisor|0);Fb=jb.location;wb=Fa[Fb];if(1===gb){wb.buffer||l.enableVertexAttribArray(Fb);Ib=qc||4;if(wb.type!==fb||wb.size!==Ib||wb.buffer!==ka||wb.normalized!==Ra||wb.offset!==ya||wb.stride!==Wb)l.bindBuffer(34962,ka.buffer),l.vertexAttribPointer(Fb,Ib,fb,Ra,Wb,ya),wb.type=fb,wb.size=
Ib,wb.buffer=ka,wb.normalized=Ra,wb.offset=ya,wb.stride=Wb;wb.divisor!==Aa&&(Qc.vertexAttribDivisorANGLE(Fb,Aa),wb.divisor=Aa)}else if(wb.buffer&&(l.disableVertexAttribArray(Fb),wb.buffer=null),wb.x!==kc||wb.y!==rb||wb.z!==hb||wb.w!==wc)l.vertexAttrib4f(Fb,kc,rb,hb,wc),wb.x=kc,wb.y=rb,wb.z=hb,wb.w=wc;oa.buffer=b.positionBuffer;oa&&("object"===typeof oa||"function"===typeof oa)&&(z(oa)||I.getBuffer(oa)||I.getBuffer(oa.buffer)||z(oa.buffer)||"constant"in oa&&("number"===typeof oa.constant||T(oa.constant)))||
c.commandRaise(ia,d);Zb=!1;Za=1;Ha=ra=cb=pa=0;Db=null;Ca=0;gc=!1;va=5126;Qb=$a=Ga=0;z(oa)?(Zb=!0,Db=I.createStream(34962,oa),va=Db.dtype):(Db=I.getBuffer(oa))?va=Db.dtype:"constant"in oa?(Za=2,"number"===typeof oa.constant?(pa=oa.constant,cb=ra=Ha=0):(pa=0<oa.constant.length?oa.constant[0]:0,cb=1<oa.constant.length?oa.constant[1]:0,ra=2<oa.constant.length?oa.constant[2]:0,Ha=3<oa.constant.length?oa.constant[3]:0)):(Db=z(oa.buffer)?I.createStream(34962,oa.buffer):I.getBuffer(oa.buffer),va="type"in
oa?F[oa.type]:Db.dtype,gc=!!oa.normalized,Ca=oa.size|0,Ga=oa.offset|0,$a=oa.stride|0,Qb=oa.divisor|0);m=ca.location;w=Fa[m];if(1===Za){w.buffer||l.enableVertexAttribArray(m);Xc=Ca||2;if(w.type!==va||w.size!==Xc||w.buffer!==Db||w.normalized!==gc||w.offset!==Ga||w.stride!==$a)l.bindBuffer(34962,Db.buffer),l.vertexAttribPointer(m,Xc,va,gc,$a,Ga),w.type=va,w.size=Xc,w.buffer=Db,w.normalized=gc,w.offset=Ga,w.stride=$a;w.divisor!==Qb&&(Qc.vertexAttribDivisorANGLE(m,Qb),w.divisor=Qb)}else if(w.buffer&&(l.disableVertexAttribArray(m),
w.buffer=null),w.x!==pa||w.y!==cb||w.z!==ra||w.w!==Ha)l.vertexAttrib4f(m,pa,cb,ra,Ha),w.x=pa,w.y=cb,w.z=ra,w.w=Ha;Gc=Ba.location;ac=Fa[Gc];ac.buffer||l.enableVertexAttribArray(Gc);if(5126!==ac.type||1!==ac.size||ac.buffer!==Ka||!1!==ac.normalized||0!==ac.offset||8!==ac.stride)l.bindBuffer(34962,Ka.buffer),l.vertexAttribPointer(Gc,1,5126,!1,8,0),ac.type=5126,ac.size=1,ac.buffer=Ka,ac.normalized=!1,ac.offset=0,ac.stride=8;0!==ac.divisor&&(Qc.vertexAttribDivisorANGLE(Gc,0),ac.divisor=0);Pa=Ea.location;
Ic=Fa[Pa];Ic.buffer||l.enableVertexAttribArray(Pa);if(5126!==Ic.type||1!==Ic.size||Ic.buffer!==Ka||!1!==Ic.normalized||4!==Ic.offset||8!==Ic.stride)l.bindBuffer(34962,Ka.buffer),l.vertexAttribPointer(Pa,1,5126,!1,8,4),Ic.type=5126,Ic.size=1,Ic.buffer=Ka,Ic.normalized=!1,Ic.offset=4,Ic.stride=8;0!==Ic.divisor&&(Qc.vertexAttribDivisorANGLE(Pa,0),Ic.divisor=0);ea.buffer=b.positionBuffer;ea&&("object"===typeof ea||"function"===typeof ea)&&(z(ea)||I.getBuffer(ea)||I.getBuffer(ea.buffer)||z(ea.buffer)||
"constant"in ea&&("number"===typeof ea.constant||T(ea.constant)))||c.commandRaise(Oe,d);bc=!1;od=1;Ld=mb=Od=Bb=0;la=null;Xd=0;ha=!1;Rb=5126;re=Lb=La=0;z(ea)?(bc=!0,la=I.createStream(34962,ea),Rb=la.dtype):(la=I.getBuffer(ea))?Rb=la.dtype:"constant"in ea?(od=2,"number"===typeof ea.constant?(Bb=ea.constant,Od=mb=Ld=0):(Bb=0<ea.constant.length?ea.constant[0]:0,Od=1<ea.constant.length?ea.constant[1]:0,mb=2<ea.constant.length?ea.constant[2]:0,Ld=3<ea.constant.length?ea.constant[3]:0)):(la=z(ea.buffer)?
I.createStream(34962,ea.buffer):I.getBuffer(ea.buffer),Rb="type"in ea?F[ea.type]:la.dtype,ha=!!ea.normalized,Xd=ea.size|0,La=ea.offset|0,Lb=ea.stride|0,re=ea.divisor|0);Dc=Ub.location;bb=Fa[Dc];if(1===od){bb.buffer||l.enableVertexAttribArray(Dc);Jc=Xd||2;if(bb.type!==Rb||bb.size!==Jc||bb.buffer!==la||bb.normalized!==ha||bb.offset!==La||bb.stride!==Lb)l.bindBuffer(34962,la.buffer),l.vertexAttribPointer(Dc,Jc,Rb,ha,Lb,La),bb.type=Rb,bb.size=Jc,bb.buffer=la,bb.normalized=ha,bb.offset=La,bb.stride=Lb;
bb.divisor!==re&&(Qc.vertexAttribDivisorANGLE(Dc,re),bb.divisor=re)}else if(bb.buffer&&(l.disableVertexAttribArray(Dc),bb.buffer=null),bb.x!==Bb||bb.y!==Od||bb.z!==mb||bb.w!==Ld)l.vertexAttrib4f(Dc,Bb,Od,mb,Ld),bb.x=Bb,bb.y=Od,bb.z=mb,bb.w=Ld;xa.buffer=b.positionBuffer;xa&&("object"===typeof xa||"function"===typeof xa)&&(z(xa)||I.getBuffer(xa)||I.getBuffer(xa.buffer)||z(xa.buffer)||"constant"in xa&&("number"===typeof xa.constant||T(xa.constant)))||c.commandRaise(Nb,d);xc=!1;yc=1;db=hd=xb=Yd=0;Fc=
null;nb=0;Zc=!1;Da=5126;pc=cc=Pd=0;z(xa)?(xc=!0,Fc=I.createStream(34962,xa),Da=Fc.dtype):(Fc=I.getBuffer(xa))?Da=Fc.dtype:"constant"in xa?(yc=2,"number"===typeof xa.constant?(Yd=xa.constant,xb=hd=db=0):(Yd=0<xa.constant.length?xa.constant[0]:0,xb=1<xa.constant.length?xa.constant[1]:0,hd=2<xa.constant.length?xa.constant[2]:0,db=3<xa.constant.length?xa.constant[3]:0)):(Fc=z(xa.buffer)?I.createStream(34962,xa.buffer):I.getBuffer(xa.buffer),Da="type"in xa?F[xa.type]:Fc.dtype,Zc=!!xa.normalized,nb=xa.size|
0,Pd=xa.offset|0,cc=xa.stride|0,pc=xa.divisor|0);$d=kb.location;Na=Fa[$d];if(1===yc){Na.buffer||l.enableVertexAttribArray($d);Cd=nb||2;if(Na.type!==Da||Na.size!==Cd||Na.buffer!==Fc||Na.normalized!==Zc||Na.offset!==Pd||Na.stride!==cc)l.bindBuffer(34962,Fc.buffer),l.vertexAttribPointer($d,Cd,Da,Zc,cc,Pd),Na.type=Da,Na.size=Cd,Na.buffer=Fc,Na.normalized=Zc,Na.offset=Pd,Na.stride=cc;Na.divisor!==pc&&(Qc.vertexAttribDivisorANGLE($d,pc),Na.divisor=pc)}else if(Na.buffer&&(l.disableVertexAttribArray($d),
Na.buffer=null),Na.x!==Yd||Na.y!==xb||Na.z!==hd||Na.w!==db)l.vertexAttrib4f($d,Yd,xb,hd,db),Na.x=Yd,Na.y=xb,Na.z=hd,Na.w=db;Mb=b.dashLength;"number"!==typeof Mb&&c.commandRaise(Yb,d);l.uniform1f(fc.location,Mb);(ie=b.dashTexture)&&"framebuffer"===ie._reglType&&(ie=ie.color[0]);"function"===typeof ie&&"texture2d"===ie._reglType||c.commandRaise(ob,d);sb=ie._texture;l.uniform1i(Ob.location,sb.bind());Dd=b.depth;"number"!==typeof Dd&&c.commandRaise(aa,d);l.uniform1f(ib.location,Dd);na=b.miterLimit;"number"!==
typeof na&&c.commandRaise(O,d);l.uniform1f(da.location,na);Vc=Z.call(this,lb,b,0);"number"!==typeof Vc&&c.commandRaise(X,d);l.uniform1f(qa.location,Vc);Ia=b.opacity;"number"!==typeof Ia&&c.commandRaise(Kb,d);l.uniform1f(Vb.location,Ia);fe=b.scale;T(fe)&&2===fe.length||c.commandRaise(De,d);l.uniform2f($b.location,fe[0],fe[1]);Ja=b.thickness;"number"!==typeof Ja&&c.commandRaise(Id,d);l.uniform1f(me.location,Ja);Rc=b.translate;T(Rc)&&2===Rc.length||c.commandRaise(e,d);l.uniform2f(ta.location,Rc[0],Rc[1]);
Ma=q.call(this,lb,b,0);T(Ma)&&4===Ma.length||c.commandRaise(Y,d);l.uniform4f(sd.location,Ma[0],Ma[1],Ma[2],Ma[3]);(kd=fa.elements)?l.bindBuffer(34963,kd.buffer.buffer):Sa.currentVAO&&(kd=za.getElements(Sa.currentVAO.elements))&&l.bindBuffer(34963,kd.buffer.buffer);Xb=b.count;0<Xb?kd?Qc.drawElementsInstancedANGLE(5,4,kd.type,0<<(kd.type-5121>>1),Xb):Qc.drawArraysInstancedANGLE(5,0,4,Xb):0>Xb&&(kd?l.drawElements(5,4,kd.type,0<<(kd.type-5121>>1)):l.drawArrays(5,0,4));p.dirty=!0;Sa.setVAO(null);lb.viewportWidth=
L;lb.viewportHeight=H;W&&(v.cpuTime+=performance.now()-Xa);yb&&I.destroyStream(zb);ud&&I.destroyStream(eb);Ua&&I.destroyStream(ka);Zb&&I.destroyStream(Db);bc&&I.destroyStream(la);xc&&I.destroyStream(Fc);sb.unbind()},scope:function(b,e,f){var l,t,u,C,D,ta,O,Y,X,sa,Id,sd,ba,aa,R,qa,da,U,ma,wa,Ea,za,vb,ed,jb,Ba,Ta,kb,Nc,Cb,Fa,ca,hc,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,ob,Oa,ua,Vb,Ua,gb,kc,rb,hb,Sa,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,Kb,Bb,Yb,mb,$b,la,ib,
ha,Rb,La,Lb,tb,Dc,bb,Jc,xc,yc,Ub,xb,Ob,db,Fc,nb,Zc,Da,Eb,cc,pc,id,Na,Hc,Mb,pb,sb,Ac,na,Vc,Ia,fc,Ja,Rc,Ma,kd,Xb,Le,rc,fd,sc,Tc,gd,Kc,rd,Wc,Je,Sb,gf,ec,me,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,De,Af,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,bg,Wd,Xe,Ye,Ce,vf,Ke,hf,We,df,lf,jf,se,Nf,ve,Lh,mf,fg,nf,Gb,dh,of,Bf,wf,Qh,te,Cf,ze,Df,tf,If,Jf,pf,Ef,xf,Kf,pd,Lf,Mf,oc,ad,Jd,Rf,Of,yf,Wf,Pf,zf,Gf,he;(l=b.viewport)&&"object"===typeof l||
c.commandRaise(J,d);t=l.x|0;u=l.y|0;C="width"in l?l.width|0:lb.framebufferWidth-t;D="height"in l?l.height|0:lb.framebufferHeight-u;0<=C&&0<=D||c.commandRaise(J,d);ta=lb.viewportWidth;lb.viewportWidth=C;O=lb.viewportHeight;lb.viewportHeight=D;Y=r[0];r[0]=a[10];X=r[1];r[1]=a[11];sa=r[2];r[2]=a[12];Id=r[3];r[3]=a[13];sd=yb[0];yb[0]=a[14];ba=yb[1];yb[1]=a[15];aa=yb[2];yb[2]=a[16];R=yb[3];yb[3]=a[17];qa=Wa.blend_enable;Wa.blend_enable=a[18];da=x[0];x[0]=a[19];U=x[1];x[1]=a[20];ma=L[0];L[0]=a[21];wa=L[1];
L[1]=a[22];Ea=L[2];L[2]=a[23];za=L[3];L[3]=a[24];vb=Wa.cull_enable;Wa.cull_enable=a[25];ed=Wa.cull_face;Wa.cull_face=a[26];"boolean"!==typeof A.call(this,lb,b,f)&&c.commandRaise(k,d);jb=Wa.depth_enable;Wa.depth_enable=a[27];(Ba=b.viewport)&&"object"===typeof Ba||c.commandRaise(n,d);Ta=Ba.x|0;kb=Ba.y|0;Nc="width"in Ba?Ba.width|0:lb.framebufferWidth-Ta;Cb="height"in Ba?Ba.height|0:lb.framebufferHeight-kb;0<=Nc&&0<=Cb||c.commandRaise(n,d);Fa=Xa[0];Xa[0]=a[28];ca=Xa[1];Xa[1]=a[29];hc=Xa[2];Xa[2]=a[30];
Hb=Xa[3];Xa[3]=a[31];Ya=Wa.scissor_enable;Wa.scissor_enable=a[32];ub=Wa.stencil_enable;Wa.stencil_enable=a[33];if(ja=p.profile)eb=performance.now(),v.count++;Qa=fa.offset;fa.offset=a[34];qb=fa.count;fa.count=a[35];ab=fa.instances;fa.instances=a[36];Va=fa.primitive;fa.primitive=a[37];Pb=Z.call(this,lb,b,f);ob=H[a[38]];H[a[38]]=Pb;Oa=b.miterLimit;ua=H[a[39]];H[a[39]]=Oa;Vb=b.scale;Ua=H[a[40]];H[a[40]]=Vb;gb=b.scaleFract;kc=H[a[41]];H[a[41]]=gb;rb=b.translateFract;hb=H[a[42]];H[a[42]]=rb;Sa=b.translate;
ka=H[a[43]];H[a[43]]=Sa;qc=b.thickness;Ra=H[a[44]];H[a[44]]=qc;fb=b.dashTexture;ya=H[a[45]];H[a[45]]=fb;Wb=b.opacity;Aa=H[a[46]];H[a[46]]=Wb;Fb=lb.pixelRatio;wb=H[a[47]];H[a[47]]=Fb;Ib=b.id;Zb=H[a[48]];H[a[48]]=Ib;Za=b.dashLength;pa=H[a[49]];H[a[49]]=Za;cb=q.call(this,lb,b,f);ra=H[a[50]];H[a[50]]=cb;Ha=b.depth;Db=H[a[51]];H[a[51]]=Ha;Ca=K.state;K.state=1;gc=K.x;K.x=0;va=K.y;K.y=0;Ga=K.z;K.z=0;$a=K.w;K.w=0;Qb=K.buffer;K.buffer=Ka;m=K.size;K.size=0;w=K.normalized;K.normalized=!1;Xc=K.type;K.type=5126;
Gc=K.offset;K.offset=0;ac=K.stride;K.stride=8;Pa=K.divisor;K.divisor=0;Ic=B.state;B.state=1;bc=B.x;B.x=0;Kb=B.y;B.y=0;Bb=B.z;B.z=0;Yb=B.w;B.w=0;mb=B.buffer;B.buffer=Ka;$b=B.size;B.size=0;la=B.normalized;B.normalized=!1;ib=B.type;B.type=5126;ha=B.offset;B.offset=4;Rb=B.stride;B.stride=8;La=B.divisor;B.divisor=0;y.buffer=b.colorBuffer;y&&("object"===typeof y||"function"===typeof y)&&(z(y)||I.getBuffer(y)||I.getBuffer(y.buffer)||z(y.buffer)||"constant"in y&&("number"===typeof y.constant||T(y.constant)))||
c.commandRaise(h,d);Lb=!1;tb=1;xc=Jc=bb=Dc=0;yc=null;Ub=0;xb=!1;Ob=5126;nb=Fc=db=0;z(y)?(Lb=!0,yc=I.createStream(34962,y),Ob=yc.dtype):(yc=I.getBuffer(y))?Ob=yc.dtype:"constant"in y?(tb=2,"number"===typeof y.constant?(Dc=y.constant,bb=Jc=xc=0):(Dc=0<y.constant.length?y.constant[0]:0,bb=1<y.constant.length?y.constant[1]:0,Jc=2<y.constant.length?y.constant[2]:0,xc=3<y.constant.length?y.constant[3]:0)):(yc=z(y.buffer)?I.createStream(34962,y.buffer):I.getBuffer(y.buffer),Ob="type"in y?F[y.type]:yc.dtype,
xb=!!y.normalized,Ub=y.size|0,db=y.offset|0,Fc=y.stride|0,nb=y.divisor|0);Zc=Q.state;Q.state=tb;Da=Q.x;Q.x=Dc;Eb=Q.y;Q.y=bb;cc=Q.z;Q.z=Jc;pc=Q.w;Q.w=xc;id=Q.buffer;Q.buffer=yc;Na=Q.size;Q.size=Ub;Hc=Q.normalized;Q.normalized=xb;Mb=Q.type;Q.type=Ob;pb=Q.offset;Q.offset=db;sb=Q.stride;Q.stride=Fc;Ac=Q.divisor;Q.divisor=nb;M.buffer=b.colorBuffer;M&&("object"===typeof M||"function"===typeof M)&&(z(M)||I.getBuffer(M)||I.getBuffer(M.buffer)||z(M.buffer)||"constant"in M&&("number"===typeof M.constant||T(M.constant)))||
c.commandRaise(Ab,d);na=!1;Vc=1;Rc=Ja=fc=Ia=0;Ma=null;kd=0;Xb=!1;Le=5126;sc=fd=rc=0;z(M)?(na=!0,Ma=I.createStream(34962,M),Le=Ma.dtype):(Ma=I.getBuffer(M))?Le=Ma.dtype:"constant"in M?(Vc=2,"number"===typeof M.constant?(Ia=M.constant,fc=Ja=Rc=0):(Ia=0<M.constant.length?M.constant[0]:0,fc=1<M.constant.length?M.constant[1]:0,Ja=2<M.constant.length?M.constant[2]:0,Rc=3<M.constant.length?M.constant[3]:0)):(Ma=z(M.buffer)?I.createStream(34962,M.buffer):I.getBuffer(M.buffer),Le="type"in M?F[M.type]:Ma.dtype,
Xb=!!M.normalized,kd=M.size|0,rc=M.offset|0,fd=M.stride|0,sc=M.divisor|0);Tc=S.state;S.state=Vc;gd=S.x;S.x=Ia;Kc=S.y;S.y=fc;rd=S.z;S.z=Ja;Wc=S.w;S.w=Rc;Je=S.buffer;S.buffer=Ma;Sb=S.size;S.size=kd;gf=S.normalized;S.normalized=Xb;ec=S.type;S.type=Le;me=S.offset;S.offset=rc;Tb=S.stride;S.stride=fd;Oc=S.divisor;S.divisor=sc;xa.buffer=b.positionBuffer;xa&&("object"===typeof xa||"function"===typeof xa)&&(z(xa)||I.getBuffer(xa)||I.getBuffer(xa.buffer)||z(xa.buffer)||"constant"in xa&&("number"===typeof xa.constant||
T(xa.constant)))||c.commandRaise(Nb,d);zc=!1;tc=1;vd=Rd=lc=Ed=0;zd=null;Hd=0;yd=!1;wd=5126;Ad=uc=pe=0;z(xa)?(zc=!0,zd=I.createStream(34962,xa),wd=zd.dtype):(zd=I.getBuffer(xa))?wd=zd.dtype:"constant"in xa?(tc=2,"number"===typeof xa.constant?(Ed=xa.constant,lc=Rd=vd=0):(Ed=0<xa.constant.length?xa.constant[0]:0,lc=1<xa.constant.length?xa.constant[1]:0,Rd=2<xa.constant.length?xa.constant[2]:0,vd=3<xa.constant.length?xa.constant[3]:0)):(zd=z(xa.buffer)?I.createStream(34962,xa.buffer):I.getBuffer(xa.buffer),
wd="type"in xa?F[xa.type]:zd.dtype,yd=!!xa.normalized,Hd=xa.size|0,pe=xa.offset|0,uc=xa.stride|0,Ad=xa.divisor|0);Jb=P.state;P.state=tc;de=P.x;P.x=Ed;dc=P.y;P.y=lc;kf=P.z;P.z=Rd;Mc=P.w;P.w=vd;Sd=P.buffer;P.buffer=zd;ge=P.size;P.size=Hd;De=P.normalized;P.normalized=yd;Af=P.type;P.type=wd;Fd=P.offset;P.offset=pe;Zd=P.stride;P.stride=uc;Gd=P.divisor;P.divisor=Ad;ga.buffer=b.positionBuffer;ga&&("object"===typeof ga||"function"===typeof ga)&&(z(ga)||I.getBuffer(ga)||I.getBuffer(ga.buffer)||z(ga.buffer)||
"constant"in ga&&("number"===typeof ga.constant||T(ga.constant)))||c.commandRaise(N,d);mc=!1;dd=1;Md=Td=Yc=Ec=0;ue=null;vc=0;Se=!1;xd=5126;He=xe=Ge=0;z(ga)?(mc=!0,ue=I.createStream(34962,ga),xd=ue.dtype):(ue=I.getBuffer(ga))?xd=ue.dtype:"constant"in ga?(dd=2,"number"===typeof ga.constant?(Ec=ga.constant,Yc=Td=Md=0):(Ec=0<ga.constant.length?ga.constant[0]:0,Yc=1<ga.constant.length?ga.constant[1]:0,Td=2<ga.constant.length?ga.constant[2]:0,Md=3<ga.constant.length?ga.constant[3]:0)):(ue=z(ga.buffer)?
I.createStream(34962,ga.buffer):I.getBuffer(ga.buffer),xd="type"in ga?F[ga.type]:ue.dtype,Se=!!ga.normalized,vc=ga.size|0,Ge=ga.offset|0,xe=ga.stride|0,He=ga.divisor|0);Be=g.state;g.state=dd;we=g.x;g.x=Ec;Ee=g.y;g.y=Yc;bf=g.z;g.z=Td;cf=g.w;g.w=Md;Pe=g.buffer;g.buffer=ue;Ne=g.size;g.size=vc;Ue=g.normalized;g.normalized=Se;Te=g.type;g.type=xd;le=g.offset;g.offset=Ge;Ve=g.stride;g.stride=xe;ld=g.divisor;g.divisor=He;oa.buffer=b.positionBuffer;oa&&("object"===typeof oa||"function"===typeof oa)&&(z(oa)||
I.getBuffer(oa)||I.getBuffer(oa.buffer)||z(oa.buffer)||"constant"in oa&&("number"===typeof oa.constant||T(oa.constant)))||c.commandRaise(ia,d);Me=!1;$c=1;Ye=Xe=Wd=bg=0;Ce=null;vf=0;Ke=!1;hf=5126;lf=df=We=0;z(oa)?(Me=!0,Ce=I.createStream(34962,oa),hf=Ce.dtype):(Ce=I.getBuffer(oa))?hf=Ce.dtype:"constant"in oa?($c=2,"number"===typeof oa.constant?(bg=oa.constant,Wd=Xe=Ye=0):(bg=0<oa.constant.length?oa.constant[0]:0,Wd=1<oa.constant.length?oa.constant[1]:0,Xe=2<oa.constant.length?oa.constant[2]:0,Ye=3<
oa.constant.length?oa.constant[3]:0)):(Ce=z(oa.buffer)?I.createStream(34962,oa.buffer):I.getBuffer(oa.buffer),hf="type"in oa?F[oa.type]:Ce.dtype,Ke=!!oa.normalized,vf=oa.size|0,We=oa.offset|0,df=oa.stride|0,lf=oa.divisor|0);jf=W.state;W.state=$c;se=W.x;W.x=bg;Nf=W.y;W.y=Wd;ve=W.z;W.z=Xe;Lh=W.w;W.w=Ye;mf=W.buffer;W.buffer=Ce;fg=W.size;W.size=vf;nf=W.normalized;W.normalized=Ke;Gb=W.type;W.type=hf;dh=W.offset;W.offset=We;of=W.stride;W.stride=df;Bf=W.divisor;W.divisor=lf;ea.buffer=b.positionBuffer;ea&&
("object"===typeof ea||"function"===typeof ea)&&(z(ea)||I.getBuffer(ea)||I.getBuffer(ea.buffer)||z(ea.buffer)||"constant"in ea&&("number"===typeof ea.constant||T(ea.constant)))||c.commandRaise(Oe,d);wf=!1;Qh=1;Df=ze=Cf=te=0;tf=null;If=0;Jf=!1;pf=5126;Kf=xf=Ef=0;z(ea)?(wf=!0,tf=I.createStream(34962,ea),pf=tf.dtype):(tf=I.getBuffer(ea))?pf=tf.dtype:"constant"in ea?(Qh=2,"number"===typeof ea.constant?(te=ea.constant,Cf=ze=Df=0):(te=0<ea.constant.length?ea.constant[0]:0,Cf=1<ea.constant.length?ea.constant[1]:
0,ze=2<ea.constant.length?ea.constant[2]:0,Df=3<ea.constant.length?ea.constant[3]:0)):(tf=z(ea.buffer)?I.createStream(34962,ea.buffer):I.getBuffer(ea.buffer),pf="type"in ea?F[ea.type]:tf.dtype,Jf=!!ea.normalized,If=ea.size|0,Ef=ea.offset|0,xf=ea.stride|0,Kf=ea.divisor|0);pd=V.state;V.state=Qh;Lf=V.x;V.x=te;Mf=V.y;V.y=Cf;oc=V.z;V.z=ze;ad=V.w;V.w=Df;Jd=V.buffer;V.buffer=tf;Rf=V.size;V.size=If;Of=V.normalized;V.normalized=Jf;yf=V.type;V.type=pf;Wf=V.offset;V.offset=Ef;Pf=V.stride;V.stride=xf;zf=V.divisor;
V.divisor=Kf;Gf=G.vert;G.vert=a[52];he=G.frag;G.frag=a[53];p.dirty=!0;e(lb,b,f);lb.viewportWidth=ta;lb.viewportHeight=O;r[0]=Y;r[1]=X;r[2]=sa;r[3]=Id;yb[0]=sd;yb[1]=ba;yb[2]=aa;yb[3]=R;Wa.blend_enable=qa;x[0]=da;x[1]=U;L[0]=ma;L[1]=wa;L[2]=Ea;L[3]=za;Wa.cull_enable=vb;Wa.cull_face=ed;Wa.depth_enable=jb;Xa[0]=Fa;Xa[1]=ca;Xa[2]=hc;Xa[3]=Hb;Wa.scissor_enable=Ya;Wa.stencil_enable=ub;ja&&(v.cpuTime+=performance.now()-eb);fa.offset=Qa;fa.count=qb;fa.instances=ab;fa.primitive=Va;H[a[38]]=ob;H[a[39]]=ua;
H[a[40]]=Ua;H[a[41]]=kc;H[a[42]]=hb;H[a[43]]=ka;H[a[44]]=Ra;H[a[45]]=ya;H[a[46]]=Aa;H[a[47]]=wb;H[a[48]]=Zb;H[a[49]]=pa;H[a[50]]=ra;H[a[51]]=Db;K.state=Ca;K.x=gc;K.y=va;K.z=Ga;K.w=$a;K.buffer=Qb;K.size=m;K.normalized=w;K.type=Xc;K.offset=Gc;K.stride=ac;K.divisor=Pa;B.state=Ic;B.x=bc;B.y=Kb;B.z=Bb;B.w=Yb;B.buffer=mb;B.size=$b;B.normalized=la;B.type=ib;B.offset=ha;B.stride=Rb;B.divisor=La;Lb&&I.destroyStream(yc);Q.state=Zc;Q.x=Da;Q.y=Eb;Q.z=cc;Q.w=pc;Q.buffer=id;Q.size=Na;Q.normalized=Hc;Q.type=Mb;
Q.offset=pb;Q.stride=sb;Q.divisor=Ac;na&&I.destroyStream(Ma);S.state=Tc;S.x=gd;S.y=Kc;S.z=rd;S.w=Wc;S.buffer=Je;S.size=Sb;S.normalized=gf;S.type=ec;S.offset=me;S.stride=Tb;S.divisor=Oc;zc&&I.destroyStream(zd);P.state=Jb;P.x=de;P.y=dc;P.z=kf;P.w=Mc;P.buffer=Sd;P.size=ge;P.normalized=De;P.type=Af;P.offset=Fd;P.stride=Zd;P.divisor=Gd;mc&&I.destroyStream(ue);g.state=Be;g.x=we;g.y=Ee;g.z=bf;g.w=cf;g.buffer=Pe;g.size=Ne;g.normalized=Ue;g.type=Te;g.offset=le;g.stride=Ve;g.divisor=ld;Me&&I.destroyStream(Ce);
W.state=jf;W.x=se;W.y=Nf;W.z=ve;W.w=Lh;W.buffer=mf;W.size=fg;W.normalized=nf;W.type=Gb;W.offset=dh;W.stride=of;W.divisor=Bf;wf&&I.destroyStream(tf);V.state=pd;V.x=Lf;V.y=Mf;V.z=oc;V.w=ad;V.buffer=Jd;V.size=Rf;V.normalized=Of;V.type=yf;V.offset=Wf;V.stride=Pf;V.divisor=zf;G.vert=Gf;G.frag=he;p.dirty=!0},batch:function(b,g){var f,r,x,B,E,L;f=D.next;f!==D.cur&&(f?l.bindFramebuffer(36160,f.framebuffer):l.bindFramebuffer(36160,null),D.cur=f);if(p.dirty){var H,K,G,S,V,Q,P,W,Xa,Qc,yb,qe,jd,be,nc,ne,zb,oe,
Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya;H=Wa.dither;H!==p.dither&&(H?l.enable(3024):l.disable(3024),p.dither=H);K=Wa.depth_func;K!==p.depth_func&&(l.depthFunc(K),p.depth_func=K);G=vb[0];S=vb[1];if(G!==Je[0]||S!==Je[1])l.depthRange(G,S),Je[0]=G,Je[1]=S;V=Wa.depth_mask;V!==p.depth_mask&&(l.depthMask(V),p.depth_mask=V);Q=Ac[0];P=Ac[1];W=Ac[2];Xa=Ac[3];if(Q!==sa[0]||P!==sa[1]||W!==sa[2]||Xa!==sa[3])l.colorMask(Q,P,W,Xa),sa[0]=Q,sa[1]=P,sa[2]=W,sa[3]=Xa;Qc=Wa.frontFace;Qc!==p.frontFace&&(l.frontFace(Qc),p.frontFace=
Qc);yb=Wa.lineWidth;yb!==p.lineWidth&&(l.lineWidth(yb),p.lineWidth=yb);qe=Wa.polygonOffset_enable;qe!==p.polygonOffset_enable&&(qe?l.enable(32823):l.disable(32823),p.polygonOffset_enable=qe);jd=Nc[0];be=Nc[1];if(jd!==ba[0]||be!==ba[1])l.polygonOffset(jd,be),ba[0]=jd,ba[1]=be;nc=Wa.sample_alpha;nc!==p.sample_alpha&&(nc?l.enable(32926):l.disable(32926),p.sample_alpha=nc);ne=Wa.sample_enable;ne!==p.sample_enable&&(ne?l.enable(32928):l.disable(32928),p.sample_enable=ne);zb=hc[0];oe=hc[1];if(zb!==id[0]||
oe!==id[1])l.sampleCoverage(zb,oe),id[0]=zb,id[1]=oe;Bd=Wa.stencil_mask;Bd!==p.stencil_mask&&(l.stencilMask(Bd),p.stencil_mask=Bd);Sc=Hc[0];ic=Hc[1];jc=Hc[2];if(Sc!==Tc[0]||ic!==Tc[1]||jc!==Tc[2])l.stencilFunc(Sc,ic,jc),Tc[0]=Sc,Tc[1]=ic,Tc[2]=jc;Nd=Eb[0];bd=Eb[1];Cb=Eb[2];td=Eb[3];if(Nd!==pb[0]||bd!==pb[1]||Cb!==pb[2]||td!==pb[3])l.stencilOpSeparate(Nd,bd,Cb,td),pb[0]=Nd,pb[1]=bd,pb[2]=Cb,pb[3]=td;ud=Kc[0];cd=Kc[1];Hb=Kc[2];Ya=Kc[3];if(ud!==tb[0]||cd!==tb[1]||Hb!==tb[2]||Ya!==tb[3])l.stencilOpSeparate(ud,
cd,Hb,Ya),tb[0]=ud,tb[1]=cd,tb[2]=Hb,tb[3]=Ya}l.blendColor(0,0,0,0);ma[0]=0;ma[1]=0;ma[2]=0;ma[3]=0;a[54]?l.enable(3042):l.disable(3042);p.blend_enable=a[55];l.blendEquationSeparate(32774,32774);wa[0]=32774;wa[1]=32774;l.blendFuncSeparate(770,771,773,1);ed[0]=770;ed[1]=771;ed[2]=773;ed[3]=1;a[56]?l.enable(2884):l.disable(2884);p.cull_enable=a[57];l.cullFace(a[58]);p.cull_face=a[59];a[60]?l.enable(3089):l.disable(3089);p.scissor_enable=a[61];a[62]?l.enable(2960):l.disable(2960);p.stencil_enable=a[63];
if(r=p.profile)x=performance.now(),v.count+=g;l.useProgram(t.program);B=R.angle_instanced_arrays;var ub,ja,eb,Qa,qb;Sa.setVAO(null);ub=Ba.location;ja=Fa[ub];ja.buffer||l.enableVertexAttribArray(ub);if(5126!==ja.type||1!==ja.size||ja.buffer!==Ka||!1!==ja.normalized||0!==ja.offset||8!==ja.stride)l.bindBuffer(34962,Ka.buffer),l.vertexAttribPointer(ub,1,5126,!1,8,0),ja.type=5126,ja.size=1,ja.buffer=Ka,ja.normalized=!1,ja.offset=0,ja.stride=8;0!==ja.divisor&&(B.vertexAttribDivisorANGLE(ub,0),ja.divisor=
0);eb=Ea.location;Qa=Fa[eb];Qa.buffer||l.enableVertexAttribArray(eb);if(5126!==Qa.type||1!==Qa.size||Qa.buffer!==Ka||!1!==Qa.normalized||4!==Qa.offset||8!==Qa.stride)l.bindBuffer(34962,Ka.buffer),l.vertexAttribPointer(eb,1,5126,!1,8,4),Qa.type=5126,Qa.size=1,Qa.buffer=Ka,Qa.normalized=!1,Qa.offset=4,Qa.stride=8;0!==Qa.divisor&&(B.vertexAttribDivisorANGLE(eb,0),Qa.divisor=0);(qb=fa.elements)?l.bindBuffer(34963,qb.buffer.buffer):Sa.currentVAO&&(qb=za.getElements(Sa.currentVAO.elements))&&l.bindBuffer(34963,
qb.buffer.buffer);for(E=0;E<g;++E){L=b[E];var ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,rf,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,ag,Af,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be;(ab=L.viewport)&&"object"===
typeof ab||c.commandRaise(J,d);Va=ab.x|0;Pb=ab.y|0;Cc="width"in ab?ab.width|0:lb.framebufferWidth-Va;Oa="height"in ab?ab.height|0:lb.framebufferHeight-Pb;0<=Cc&&0<=Oa||c.commandRaise(J,d);ua=lb.viewportWidth;lb.viewportWidth=Cc;Uc=lb.viewportHeight;lb.viewportHeight=Oa;l.viewport(Va,Pb,Cc,Oa);u[0]=Va;u[1]=Pb;u[2]=Cc;u[3]=Oa;Ua=A.call(this,lb,L,E);"boolean"!==typeof Ua&&c.commandRaise(k,d);Ua?l.enable(2929):l.disable(2929);p.depth_enable=Ua;(gb=L.viewport)&&"object"===typeof gb||c.commandRaise(n,d);
kc=gb.x|0;rb=gb.y|0;hb="width"in gb?gb.width|0:lb.framebufferWidth-kc;wc="height"in gb?gb.height|0:lb.framebufferHeight-rb;0<=hb&&0<=wc||c.commandRaise(n,d);l.scissor(kc,rb,hb,wc);Ta[0]=kc;Ta[1]=rb;Ta[2]=hb;Ta[3]=wc;y.buffer=L.colorBuffer;y&&("object"===typeof y||"function"===typeof y)&&(z(y)||I.getBuffer(y)||I.getBuffer(y.buffer)||z(y.buffer)||"constant"in y&&("number"===typeof y.constant||T(y.constant)))||c.commandRaise(h,d);ka=!1;qc=1;Wb=ya=fb=Ra=0;Aa=null;Fb=0;wb=!1;Ib=5126;pa=Za=Zb=0;z(y)?(ka=
!0,Aa=I.createStream(34962,y),Ib=Aa.dtype):(Aa=I.getBuffer(y))?Ib=Aa.dtype:"constant"in y?(qc=2,"number"===typeof y.constant?(Ra=y.constant,fb=ya=Wb=0):(Ra=0<y.constant.length?y.constant[0]:0,fb=1<y.constant.length?y.constant[1]:0,ya=2<y.constant.length?y.constant[2]:0,Wb=3<y.constant.length?y.constant[3]:0)):(Aa=z(y.buffer)?I.createStream(34962,y.buffer):I.getBuffer(y.buffer),Ib="type"in y?F[y.type]:Aa.dtype,wb=!!y.normalized,Fb=y.size|0,Zb=y.offset|0,Za=y.stride|0,pa=y.divisor|0);cb=C.location;
ra=Fa[cb];if(1===qc){ra.buffer||l.enableVertexAttribArray(cb);Ha=Fb||4;if(ra.type!==Ib||ra.size!==Ha||ra.buffer!==Aa||ra.normalized!==wb||ra.offset!==Zb||ra.stride!==Za)l.bindBuffer(34962,Aa.buffer),l.vertexAttribPointer(cb,Ha,Ib,wb,Za,Zb),ra.type=Ib,ra.size=Ha,ra.buffer=Aa,ra.normalized=wb,ra.offset=Zb,ra.stride=Za;ra.divisor!==pa&&(B.vertexAttribDivisorANGLE(cb,pa),ra.divisor=pa)}else if(ra.buffer&&(l.disableVertexAttribArray(cb),ra.buffer=null),ra.x!==Ra||ra.y!==fb||ra.z!==ya||ra.w!==Wb)l.vertexAttrib4f(cb,
Ra,fb,ya,Wb),ra.x=Ra,ra.y=fb,ra.z=ya,ra.w=Wb;ga.buffer=L.positionBuffer;ga&&("object"===typeof ga||"function"===typeof ga)&&(z(ga)||I.getBuffer(ga)||I.getBuffer(ga.buffer)||z(ga.buffer)||"constant"in ga&&("number"===typeof ga.constant||T(ga.constant)))||c.commandRaise(N,d);Db=!1;Ca=1;$a=Ga=va=gc=0;Qb=null;m=0;w=!1;Xc=5126;Pa=ac=Gc=0;z(ga)?(Db=!0,Qb=I.createStream(34962,ga),Xc=Qb.dtype):(Qb=I.getBuffer(ga))?Xc=Qb.dtype:"constant"in ga?(Ca=2,"number"===typeof ga.constant?(gc=ga.constant,va=Ga=$a=0):
(gc=0<ga.constant.length?ga.constant[0]:0,va=1<ga.constant.length?ga.constant[1]:0,Ga=2<ga.constant.length?ga.constant[2]:0,$a=3<ga.constant.length?ga.constant[3]:0)):(Qb=z(ga.buffer)?I.createStream(34962,ga.buffer):I.getBuffer(ga.buffer),Xc="type"in ga?F[ga.type]:Qb.dtype,w=!!ga.normalized,m=ga.size|0,Gc=ga.offset|0,ac=ga.stride|0,Pa=ga.divisor|0);Ic=U.location;bc=Fa[Ic];if(1===Ca){bc.buffer||l.enableVertexAttribArray(Ic);od=m||2;if(bc.type!==Xc||bc.size!==od||bc.buffer!==Qb||bc.normalized!==w||
bc.offset!==Gc||bc.stride!==ac)l.bindBuffer(34962,Qb.buffer),l.vertexAttribPointer(Ic,od,Xc,w,ac,Gc),bc.type=Xc,bc.size=od,bc.buffer=Qb,bc.normalized=w,bc.offset=Gc,bc.stride=ac;bc.divisor!==Pa&&(B.vertexAttribDivisorANGLE(Ic,Pa),bc.divisor=Pa)}else if(bc.buffer&&(l.disableVertexAttribArray(Ic),bc.buffer=null),bc.x!==gc||bc.y!==va||bc.z!==Ga||bc.w!==$a)l.vertexAttrib4f(Ic,gc,va,Ga,$a),bc.x=gc,bc.y=va,bc.z=Ga,bc.w=$a;M.buffer=L.colorBuffer;M&&("object"===typeof M||"function"===typeof M)&&(z(M)||I.getBuffer(M)||
I.getBuffer(M.buffer)||z(M.buffer)||"constant"in M&&("number"===typeof M.constant||T(M.constant)))||c.commandRaise(Ab,d);Bb=!1;Od=1;Xd=la=Ld=mb=0;ha=null;Rb=0;La=!1;Lb=5126;bb=Dc=re=0;z(M)?(Bb=!0,ha=I.createStream(34962,M),Lb=ha.dtype):(ha=I.getBuffer(M))?Lb=ha.dtype:"constant"in M?(Od=2,"number"===typeof M.constant?(mb=M.constant,Ld=la=Xd=0):(mb=0<M.constant.length?M.constant[0]:0,Ld=1<M.constant.length?M.constant[1]:0,la=2<M.constant.length?M.constant[2]:0,Xd=3<M.constant.length?M.constant[3]:0)):
(ha=z(M.buffer)?I.createStream(34962,M.buffer):I.getBuffer(M.buffer),Lb="type"in M?F[M.type]:ha.dtype,La=!!M.normalized,Rb=M.size|0,re=M.offset|0,Dc=M.stride|0,bb=M.divisor|0);Jc=jb.location;xc=Fa[Jc];if(1===Od){xc.buffer||l.enableVertexAttribArray(Jc);yc=Rb||4;if(xc.type!==Lb||xc.size!==yc||xc.buffer!==ha||xc.normalized!==La||xc.offset!==re||xc.stride!==Dc)l.bindBuffer(34962,ha.buffer),l.vertexAttribPointer(Jc,yc,Lb,La,Dc,re),xc.type=Lb,xc.size=yc,xc.buffer=ha,xc.normalized=La,xc.offset=re,xc.stride=
Dc;xc.divisor!==bb&&(B.vertexAttribDivisorANGLE(Jc,bb),xc.divisor=bb)}else if(xc.buffer&&(l.disableVertexAttribArray(Jc),xc.buffer=null),xc.x!==mb||xc.y!==Ld||xc.z!==la||xc.w!==Xd)l.vertexAttrib4f(Jc,mb,Ld,la,Xd),xc.x=mb,xc.y=Ld,xc.z=la,xc.w=Xd;oa.buffer=L.positionBuffer;oa&&("object"===typeof oa||"function"===typeof oa)&&(z(oa)||I.getBuffer(oa)||I.getBuffer(oa.buffer)||z(oa.buffer)||"constant"in oa&&("number"===typeof oa.constant||T(oa.constant)))||c.commandRaise(ia,d);Yd=!1;xb=1;nb=Fc=db=hd=0;Zc=
null;Da=0;Pd=!1;cc=5126;Na=$d=pc=0;z(oa)?(Yd=!0,Zc=I.createStream(34962,oa),cc=Zc.dtype):(Zc=I.getBuffer(oa))?cc=Zc.dtype:"constant"in oa?(xb=2,"number"===typeof oa.constant?(hd=oa.constant,db=Fc=nb=0):(hd=0<oa.constant.length?oa.constant[0]:0,db=1<oa.constant.length?oa.constant[1]:0,Fc=2<oa.constant.length?oa.constant[2]:0,nb=3<oa.constant.length?oa.constant[3]:0)):(Zc=z(oa.buffer)?I.createStream(34962,oa.buffer):I.getBuffer(oa.buffer),cc="type"in oa?F[oa.type]:Zc.dtype,Pd=!!oa.normalized,Da=oa.size|
0,pc=oa.offset|0,$d=oa.stride|0,Na=oa.divisor|0);Cd=ca.location;Mb=Fa[Cd];if(1===xb){Mb.buffer||l.enableVertexAttribArray(Cd);ie=Da||2;if(Mb.type!==cc||Mb.size!==ie||Mb.buffer!==Zc||Mb.normalized!==Pd||Mb.offset!==pc||Mb.stride!==$d)l.bindBuffer(34962,Zc.buffer),l.vertexAttribPointer(Cd,ie,cc,Pd,$d,pc),Mb.type=cc,Mb.size=ie,Mb.buffer=Zc,Mb.normalized=Pd,Mb.offset=pc,Mb.stride=$d;Mb.divisor!==Na&&(B.vertexAttribDivisorANGLE(Cd,Na),Mb.divisor=Na)}else if(Mb.buffer&&(l.disableVertexAttribArray(Cd),Mb.buffer=
null),Mb.x!==hd||Mb.y!==db||Mb.z!==Fc||Mb.w!==nb)l.vertexAttrib4f(Cd,hd,db,Fc,nb),Mb.x=hd,Mb.y=db,Mb.z=Fc,Mb.w=nb;ea.buffer=L.positionBuffer;ea&&("object"===typeof ea||"function"===typeof ea)&&(z(ea)||I.getBuffer(ea)||I.getBuffer(ea.buffer)||z(ea.buffer)||"constant"in ea&&("number"===typeof ea.constant||T(ea.constant)))||c.commandRaise(Oe,d);sb=!1;Dd=1;fe=Ia=Vc=na=0;Ja=null;Rc=0;Ma=!1;kd=5126;rc=Qd=Xb=0;z(ea)?(sb=!0,Ja=I.createStream(34962,ea),kd=Ja.dtype):(Ja=I.getBuffer(ea))?kd=Ja.dtype:"constant"in
ea?(Dd=2,"number"===typeof ea.constant?(na=ea.constant,Vc=Ia=fe=0):(na=0<ea.constant.length?ea.constant[0]:0,Vc=1<ea.constant.length?ea.constant[1]:0,Ia=2<ea.constant.length?ea.constant[2]:0,fe=3<ea.constant.length?ea.constant[3]:0)):(Ja=z(ea.buffer)?I.createStream(34962,ea.buffer):I.getBuffer(ea.buffer),kd="type"in ea?F[ea.type]:Ja.dtype,Ma=!!ea.normalized,Rc=ea.size|0,Xb=ea.offset|0,Qd=ea.stride|0,rc=ea.divisor|0);fd=Ub.location;sc=Fa[fd];if(1===Dd){sc.buffer||l.enableVertexAttribArray(fd);Qe=Rc||
2;if(sc.type!==kd||sc.size!==Qe||sc.buffer!==Ja||sc.normalized!==Ma||sc.offset!==Xb||sc.stride!==Qd)l.bindBuffer(34962,Ja.buffer),l.vertexAttribPointer(fd,Qe,kd,Ma,Qd,Xb),sc.type=kd,sc.size=Qe,sc.buffer=Ja,sc.normalized=Ma,sc.offset=Xb,sc.stride=Qd;sc.divisor!==rc&&(B.vertexAttribDivisorANGLE(fd,rc),sc.divisor=rc)}else if(sc.buffer&&(l.disableVertexAttribArray(fd),sc.buffer=null),sc.x!==na||sc.y!==Vc||sc.z!==Ia||sc.w!==fe)l.vertexAttrib4f(fd,na,Vc,Ia,fe),sc.x=na,sc.y=Vc,sc.z=Ia,sc.w=fe;xa.buffer=
L.positionBuffer;xa&&("object"===typeof xa||"function"===typeof xa)&&(z(xa)||I.getBuffer(xa)||I.getBuffer(xa.buffer)||z(xa.buffer)||"constant"in xa&&("number"===typeof xa.constant||T(xa.constant)))||c.commandRaise(Nb,d);gd=!1;ye=1;Sb=ae=Wc=rd=0;ce=null;ec=0;rf=!1;Tb=5126;tc=zc=Oc=0;z(xa)?(gd=!0,ce=I.createStream(34962,xa),Tb=ce.dtype):(ce=I.getBuffer(xa))?Tb=ce.dtype:"constant"in xa?(ye=2,"number"===typeof xa.constant?(rd=xa.constant,Wc=ae=Sb=0):(rd=0<xa.constant.length?xa.constant[0]:0,Wc=1<xa.constant.length?
xa.constant[1]:0,ae=2<xa.constant.length?xa.constant[2]:0,Sb=3<xa.constant.length?xa.constant[3]:0)):(ce=z(xa.buffer)?I.createStream(34962,xa.buffer):I.getBuffer(xa.buffer),Tb="type"in xa?F[xa.type]:ce.dtype,rf=!!xa.normalized,ec=xa.size|0,Oc=xa.offset|0,zc=xa.stride|0,tc=xa.divisor|0);Ed=kb.location;lc=Fa[Ed];if(1===ye){lc.buffer||l.enableVertexAttribArray(Ed);Rd=ec||2;if(lc.type!==Tb||lc.size!==Rd||lc.buffer!==ce||lc.normalized!==rf||lc.offset!==Oc||lc.stride!==zc)l.bindBuffer(34962,ce.buffer),
l.vertexAttribPointer(Ed,Rd,Tb,rf,zc,Oc),lc.type=Tb,lc.size=Rd,lc.buffer=ce,lc.normalized=rf,lc.offset=Oc,lc.stride=zc;lc.divisor!==tc&&(B.vertexAttribDivisorANGLE(Ed,tc),lc.divisor=tc)}else if(lc.buffer&&(l.disableVertexAttribArray(Ed),lc.buffer=null),lc.x!==rd||lc.y!==Wc||lc.z!==ae||lc.w!==Sb)l.vertexAttrib4f(Ed,rd,Wc,ae,Sb),lc.x=rd,lc.y=Wc,lc.z=ae,lc.w=Sb;vd=L.dashLength;"number"!==typeof vd&&c.commandRaise(Yb,d);E&&zd===vd||(zd=vd,l.uniform1f(fc.location,vd));(Hd=L.dashTexture)&&"framebuffer"===
Hd._reglType&&(Hd=Hd.color[0]);"function"===typeof Hd&&"texture2d"===Hd._reglType||c.commandRaise(ob,d);yd=Hd._texture;l.uniform1i(Ob.location,yd.bind());wd=L.depth;"number"!==typeof wd&&c.commandRaise(aa,d);E&&pe===wd||(pe=wd,l.uniform1f(ib.location,wd));uc=L.miterLimit;"number"!==typeof uc&&c.commandRaise(O,d);E&&Ad===uc||(Ad=uc,l.uniform1f(da.location,uc));Jb=Z.call(this,lb,L,E);"number"!==typeof Jb&&c.commandRaise(X,d);E&&de===Jb||(de=Jb,l.uniform1f(qa.location,Jb));dc=L.opacity;"number"!==typeof dc&&
c.commandRaise(Kb,d);E&&kf===dc||(kf=dc,l.uniform1f(Vb.location,dc));Mc=L.scale;T(Mc)&&2===Mc.length||c.commandRaise(De,d);Sd=Mc[0];ag=Mc[1];E&&ge===Sd&&Af===ag||(ge=Sd,Af=ag,l.uniform2f($b.location,Sd,ag));Fd=L.thickness;"number"!==typeof Fd&&c.commandRaise(Id,d);E&&Zd===Fd||(Zd=Fd,l.uniform1f(me.location,Fd));Gd=L.translate;T(Gd)&&2===Gd.length||c.commandRaise(e,d);mc=Gd[0];Ec=Gd[1];E&&dd===mc&&Yc===Ec||(dd=mc,Yc=Ec,l.uniform2f(ta.location,mc,Ec));Td=q.call(this,lb,L,E);T(Td)&&4===Td.length||c.commandRaise(Y,
d);Md=Td[0];vc=Td[1];xd=Td[2];xe=Td[3];E&&ue===Md&&Se===vc&&Ge===xd&&He===xe||(ue=Md,Se=vc,Ge=xd,He=xe,l.uniform4f(sd.location,Md,vc,xd,xe));Be=L.count;0<Be?qb?B.drawElementsInstancedANGLE(5,4,qb.type,0<<(qb.type-5121>>1),Be):B.drawArraysInstancedANGLE(5,0,4,Be):0>Be&&(qb?l.drawElements(5,4,qb.type,0<<(qb.type-5121>>1)):l.drawArrays(5,0,4));lb.viewportWidth=ua;lb.viewportHeight=Uc;ka&&I.destroyStream(Aa);Db&&I.destroyStream(Qb);Bb&&I.destroyStream(ha);Yd&&I.destroyStream(Zc);sb&&I.destroyStream(Ja);
gd&&I.destroyStream(ce);yd.unbind()}p.dirty=!0;Sa.setVAO(null);r&&(v.cpuTime+=performance.now()-x)}}},"30529.147":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da){var O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P,g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R,z,T,yb,ma,x,wa;O=b.gl;qa=b.context;Z=b.next;X=b.current;Vb=b.draw;Kb=b.elements;$b=b.buffer;De=b.shader;me=b.attributes;Id=b.vao;ta=b.uniforms;e=b.framebuffer;sd=b.extensions;q=b.isBufferArgs;Y=b.isArrayLike;
K=Z.blend_color;B=X.blend_color;Q=Z.blend_equation;S=X.blend_equation;P=Z.blend_func;g=X.blend_func;W=Z.depth_range;V=X.depth_range;l=Z.colorMask;lb=X.colorMask;Wa=Z.polygonOffset_offset;p=X.polygonOffset_offset;fa=Z.sample_coverage;za=X.sample_coverage;I=Z.stencil_func;G=X.stencil_func;Fa=Z.stencil_opFront;Sa=X.stencil_opFront;H=Z.stencil_opBack;D=X.stencil_opBack;R=Z.scissor_box;z=X.scissor_box;T=Z.viewport;yb=X.viewport;ma={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,
float32:5126};x={stride:8,offset:8};wa={stride:8,offset:8};return{draw:function(b){var f,ta,K,Q,P,T,ba,aa,R,da,ib,Eb,pb,Kc,tb,Xa,Ta,r,u,F,y,M;f=e.next;f!==e.cur&&(f?O.bindFramebuffer(36160,f.framebuffer):O.bindFramebuffer(36160,null),e.cur=f);if(X.dirty){f=Z.dither;f!==X.dither&&(f?O.enable(3024):O.disable(3024),X.dither=f);f=Z.depth_func;f!==X.depth_func&&(O.depthFunc(f),X.depth_func=f);f=W[0];T=W[1];if(f!==V[0]||T!==V[1])O.depthRange(f,T),V[0]=f,V[1]=T;f=Z.depth_mask;f!==X.depth_mask&&(O.depthMask(f),
X.depth_mask=f);f=l[0];T=l[1];ta=l[2];K=l[3];if(f!==lb[0]||T!==lb[1]||ta!==lb[2]||K!==lb[3])O.colorMask(f,T,ta,K),lb[0]=f,lb[1]=T,lb[2]=ta,lb[3]=K;f=Z.cull_enable;f!==X.cull_enable&&(f?O.enable(2884):O.disable(2884),X.cull_enable=f);f=Z.cull_face;f!==X.cull_face&&(O.cullFace(f),X.cull_face=f);f=Z.frontFace;f!==X.frontFace&&(O.frontFace(f),X.frontFace=f);f=Z.lineWidth;f!==X.lineWidth&&(O.lineWidth(f),X.lineWidth=f);f=Z.polygonOffset_enable;f!==X.polygonOffset_enable&&(f?O.enable(32823):O.disable(32823),
X.polygonOffset_enable=f);f=Wa[0];T=Wa[1];if(f!==p[0]||T!==p[1])O.polygonOffset(f,T),p[0]=f,p[1]=T;f=Z.sample_alpha;f!==X.sample_alpha&&(f?O.enable(32926):O.disable(32926),X.sample_alpha=f);f=Z.sample_enable;f!==X.sample_enable&&(f?O.enable(32928):O.disable(32928),X.sample_enable=f);f=fa[0];T=fa[1];if(f!==za[0]||T!==za[1])O.sampleCoverage(f,T),za[0]=f,za[1]=T;f=Z.stencil_mask;f!==X.stencil_mask&&(O.stencilMask(f),X.stencil_mask=f);f=I[0];T=I[1];ta=I[2];if(f!==G[0]||T!==G[1]||ta!==G[2])O.stencilFunc(f,
T,ta),G[0]=f,G[1]=T,G[2]=ta;f=Fa[0];T=Fa[1];ta=Fa[2];K=Fa[3];if(f!==Sa[0]||T!==Sa[1]||ta!==Sa[2]||K!==Sa[3])O.stencilOpSeparate(f,T,ta,K),Sa[0]=f,Sa[1]=T,Sa[2]=ta,Sa[3]=K;f=H[0];T=H[1];ta=H[2];K=H[3];if(f!==D[0]||T!==D[1]||ta!==D[2]||K!==D[3])O.stencilOpSeparate(f,T,ta,K),D[0]=f,D[1]=T,D[2]=ta,D[3]=K}(f=b.viewport)&&"object"===typeof f||c.commandRaise(J,d);ta=f.x|0;K=f.y|0;Q="width"in f?f.width|0:qa.framebufferWidth-ta;P="height"in f?f.height|0:qa.framebufferHeight-K;0<=Q&&0<=P||c.commandRaise(J,
d);f=qa.viewportWidth;qa.viewportWidth=Q;T=qa.viewportHeight;qa.viewportHeight=P;O.viewport(ta,K,Q,P);yb[0]=ta;yb[1]=K;yb[2]=Q;yb[3]=P;O.blendColor(0,0,0,0);B[0]=0;B[1]=0;B[2]=0;B[3]=0;a[0]?O.enable(3042):O.disable(3042);X.blend_enable=a[1];O.blendEquationSeparate(32774,32774);S[0]=32774;S[1]=32774;O.blendFuncSeparate(770,771,773,1);g[0]=770;g[1]=771;g[2]=773;g[3]=1;a[2]?O.enable(2929):O.disable(2929);X.depth_enable=a[3];(P=b.viewport)&&"object"===typeof P||c.commandRaise(A,d);ta=P.x|0;K=P.y|0;Q=
"width"in P?P.width|0:qa.framebufferWidth-ta;P="height"in P?P.height|0:qa.framebufferHeight-K;0<=Q&&0<=P||c.commandRaise(A,d);O.scissor(ta,K,Q,P);z[0]=ta;z[1]=K;z[2]=Q;z[3]=P;a[4]?O.enable(3089):O.disable(3089);X.scissor_enable=a[5];a[6]?O.enable(2960):O.disable(2960);X.stencil_enable=a[7];if(ta=X.profile)ba=performance.now(),v.count++;O.useProgram(k.program);K=sd.angle_instanced_arrays;Id.setVAO(null);x.buffer=b.positionBuffer;x&&("object"===typeof x||"function"===typeof x)&&(q(x)||$b.getBuffer(x)||
$b.getBuffer(x.buffer)||q(x.buffer)||"constant"in x&&("number"===typeof x.constant||Y(x.constant)))||c.commandRaise(n,d);Q=!1;aa=1;pb=Eb=ib=da=R=0;Kc=!1;tb=5126;r=Ta=Xa=0;q(x)?(Q=!0,P=$b.createStream(34962,x),tb=P.dtype):(P=$b.getBuffer(x))?tb=P.dtype:"constant"in x?(aa=2,"number"===typeof x.constant?(R=x.constant,da=ib=Eb=0):(R=0<x.constant.length?x.constant[0]:0,da=1<x.constant.length?x.constant[1]:0,ib=2<x.constant.length?x.constant[2]:0,Eb=3<x.constant.length?x.constant[3]:0)):(P=q(x.buffer)?
$b.createStream(34962,x.buffer):$b.getBuffer(x.buffer),tb="type"in x?ma[x.type]:P.dtype,Kc=!!x.normalized,pb=x.size|0,Xa=x.offset|0,Ta=x.stride|0,r=x.divisor|0);u=t.location;F=me[u];if(1===aa){F.buffer||O.enableVertexAttribArray(u);aa=pb||2;if(F.type!==tb||F.size!==aa||F.buffer!==P||F.normalized!==Kc||F.offset!==Xa||F.stride!==Ta)O.bindBuffer(34962,P.buffer),O.vertexAttribPointer(u,aa,tb,Kc,Ta,Xa),F.type=tb,F.size=aa,F.buffer=P,F.normalized=Kc,F.offset=Xa,F.stride=Ta;F.divisor!==r&&(K.vertexAttribDivisorANGLE(u,
r),F.divisor=r)}else if(F.buffer&&(O.disableVertexAttribArray(u),F.buffer=null),F.x!==R||F.y!==da||F.z!==ib||F.w!==Eb)O.vertexAttrib4f(u,R,da,ib,Eb),F.x=R,F.y=da,F.z=ib,F.w=Eb;wa.buffer=b.positionFractBuffer;wa&&("object"===typeof wa||"function"===typeof wa)&&(q(wa)||$b.getBuffer(wa)||$b.getBuffer(wa.buffer)||q(wa.buffer)||"constant"in wa&&("number"===typeof wa.constant||Y(wa.constant)))||c.commandRaise(h,d);Kc=!1;da=1;M=y=pb=Eb=ib=0;Xa=!1;Ta=5126;F=u=r=0;q(wa)?(Kc=!0,tb=$b.createStream(34962,wa),
Ta=tb.dtype):(tb=$b.getBuffer(wa))?Ta=tb.dtype:"constant"in wa?(da=2,"number"===typeof wa.constant?(ib=wa.constant,Eb=pb=y=0):(ib=0<wa.constant.length?wa.constant[0]:0,Eb=1<wa.constant.length?wa.constant[1]:0,pb=2<wa.constant.length?wa.constant[2]:0,y=3<wa.constant.length?wa.constant[3]:0)):(tb=q(wa.buffer)?$b.createStream(34962,wa.buffer):$b.getBuffer(wa.buffer),Ta="type"in wa?ma[wa.type]:tb.dtype,Xa=!!wa.normalized,M=wa.size|0,r=wa.offset|0,u=wa.stride|0,F=wa.divisor|0);aa=C.location;R=me[aa];if(1===
da){R.buffer||O.enableVertexAttribArray(aa);da=M||2;if(R.type!==Ta||R.size!==da||R.buffer!==tb||R.normalized!==Xa||R.offset!==r||R.stride!==u)O.bindBuffer(34962,tb.buffer),O.vertexAttribPointer(aa,da,Ta,Xa,u,r),R.type=Ta,R.size=da,R.buffer=tb,R.normalized=Xa,R.offset=r,R.stride=u;R.divisor!==F&&(K.vertexAttribDivisorANGLE(aa,F),R.divisor=F)}else if(R.buffer&&(O.disableVertexAttribArray(aa),R.buffer=null),R.x!==ib||R.y!==Eb||R.z!==pb||R.w!==y)O.vertexAttrib4f(aa,ib,Eb,pb,y),R.x=ib,R.y=Eb,R.z=pb,R.w=
y;Xa=b.fill;Y(Xa)&&4===Xa.length||c.commandRaise(U,d);O.uniform4f(N.location,Xa[0],Xa[1],Xa[2],Xa[3]);Xa=b.id;"number"!==typeof Xa&&c.commandRaise(jb,d);O.uniform1f(Ab.location,Xa);Xa=b.opacity;"number"!==typeof Xa&&c.commandRaise(ca,d);O.uniform1f(ia.location,Xa);Xa=b.scale;Y(Xa)&&2===Xa.length||c.commandRaise(Ba,d);O.uniform2f(Ka.location,Xa[0],Xa[1]);Xa=b.scaleFract;Y(Xa)&&2===Xa.length||c.commandRaise(Oe,d);O.uniform2f(Ea.location,Xa[0],Xa[1]);Xa=b.translate;Y(Xa)&&2===Xa.length||c.commandRaise(Nb,
d);O.uniform2f(Ub.location,Xa[0],Xa[1]);Xa=b.translateFract;Y(Xa)&&2===Xa.length||c.commandRaise(fc,d);O.uniform2f(kb.location,Xa[0],Xa[1]);Ta=Yb.call(this,qa,b,0);(Xa=q(Ta))?b=Kb.createStream(Ta):(b=Kb.getElements(Ta),Ta&&!b&&c.commandRaise(Ob,d));b&&O.bindBuffer(34963,b.buffer.buffer);Ta=b?b.vertCount:-1;0<=Ta||c.commandRaise(ob,d);Ta&&(r=Vb.instances,0<r?b?K.drawElementsInstancedANGLE(4,Ta,b.type,0<<(b.type-5121>>1),r):K.drawArraysInstancedANGLE(4,0,Ta,r):0>r&&(b?O.drawElements(4,Ta,b.type,0<<
(b.type-5121>>1)):O.drawArrays(4,0,Ta)),X.dirty=!0,Id.setVAO(null),qa.viewportWidth=f,qa.viewportHeight=T,ta&&(v.cpuTime+=performance.now()-ba),Q&&$b.destroyStream(P),Kc&&$b.destroyStream(tb),Xa&&Kb.destroyStream(b))},scope:function(b,e,f){var g,l,k,p,t,z,C,D,B,H,I,O,G,S,V,r,u,F,y,M,W,ga,oa,ea,Id,sd,N,ia,U,Ab,E,Wa,Ea,za,Ka,Ba,jb,je,lb,fa,kb,Fa,ca,ob,yb,Sa,nc,Nb,zb,Ub,fc,Sc,ic,jc,Le,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,
ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb;(g=b.viewport)&&"object"===typeof g||c.commandRaise(J,d);l=g.x|0;k=g.y|0;p="width"in g?g.width|0:qa.framebufferWidth-l;t="height"in g?g.height|0:qa.framebufferHeight-k;0<=p&&0<=t||c.commandRaise(J,d);z=qa.viewportWidth;qa.viewportWidth=p;C=qa.viewportHeight;qa.viewportHeight=t;D=T[0];T[0]=a[8];B=T[1];T[1]=a[9];H=T[2];T[2]=a[10];I=T[3];T[3]=a[11];O=K[0];K[0]=a[12];G=K[1];K[1]=a[13];S=K[2];K[2]=a[14];V=K[3];K[3]=a[15];r=Z.blend_enable;Z.blend_enable=
a[16];u=Q[0];Q[0]=a[17];F=Q[1];Q[1]=a[18];y=P[0];P[0]=a[19];M=P[1];P[1]=a[20];W=P[2];P[2]=a[21];ga=P[3];P[3]=a[22];oa=Z.depth_enable;Z.depth_enable=a[23];(ea=b.viewport)&&"object"===typeof ea||c.commandRaise(A,d);Id=ea.x|0;sd=ea.y|0;N="width"in ea?ea.width|0:qa.framebufferWidth-Id;ia="height"in ea?ea.height|0:qa.framebufferHeight-sd;0<=N&&0<=ia||c.commandRaise(A,d);U=R[0];R[0]=a[24];Ab=R[1];R[1]=a[25];E=R[2];R[2]=a[26];Wa=R[3];R[3]=a[27];Ea=Z.scissor_enable;Z.scissor_enable=a[28];za=Z.stencil_enable;
Z.stencil_enable=a[29];if(Ka=X.profile)Ba=performance.now(),v.count++;jb=Yb.call(this,qa,b,f);je=null;(lb=q(jb))?je=Kb.createStream(jb):(je=Kb.getElements(jb),jb&&!je&&c.commandRaise(Ob,d));fa=Vb.elements;Vb.elements=a[30];kb=Vb.offset;Vb.offset=a[31];Fa=Vb.count;Vb.count=a[32];ca=Vb.primitive;Vb.primitive=a[33];ob=b.scale;yb=ta[a[34]];ta[a[34]]=ob;Sa=b.fill;nc=ta[a[35]];ta[a[35]]=Sa;Nb=b.scaleFract;zb=ta[a[36]];ta[a[36]]=Nb;Ub=b.translateFract;fc=ta[a[37]];ta[a[37]]=Ub;Sc=b.translate;ic=ta[a[38]];
ta[a[38]]=Sc;jc=b.opacity;Le=ta[a[39]];ta[a[39]]=jc;bd=qa.pixelRatio;Cb=ta[a[40]];ta[a[40]]=bd;td=b.id;ud=ta[a[41]];ta[a[41]]=td;cd=ib.call(this,qa,b,f);Hb=ta[a[42]];ta[a[42]]=cd;x.buffer=b.positionBuffer;x&&("object"===typeof x||"function"===typeof x)&&(q(x)||$b.getBuffer(x)||$b.getBuffer(x.buffer)||q(x.buffer)||"constant"in x&&("number"===typeof x.constant||Y(x.constant)))||c.commandRaise(n,d);Ya=!1;ub=1;qb=Qa=eb=ja=0;ab=null;Va=0;Pb=!1;Cc=5126;Uc=ua=Oa=0;q(x)?(Ya=!0,ab=$b.createStream(34962,x),
Cc=ab.dtype):(ab=$b.getBuffer(x))?Cc=ab.dtype:"constant"in x?(ub=2,"number"===typeof x.constant?(ja=x.constant,eb=Qa=qb=0):(ja=0<x.constant.length?x.constant[0]:0,eb=1<x.constant.length?x.constant[1]:0,Qa=2<x.constant.length?x.constant[2]:0,qb=3<x.constant.length?x.constant[3]:0)):(ab=q(x.buffer)?$b.createStream(34962,x.buffer):$b.getBuffer(x.buffer),Cc="type"in x?ma[x.type]:ab.dtype,Pb=!!x.normalized,Va=x.size|0,Oa=x.offset|0,ua=x.stride|0,Uc=x.divisor|0);Ua=aa.state;aa.state=ub;gb=aa.x;aa.x=ja;
kc=aa.y;aa.y=eb;rb=aa.z;aa.z=Qa;hb=aa.w;aa.w=qb;wc=aa.buffer;aa.buffer=ab;ka=aa.size;aa.size=Va;qc=aa.normalized;aa.normalized=Pb;Ra=aa.type;aa.type=Cc;fb=aa.offset;aa.offset=Oa;ya=aa.stride;aa.stride=ua;Wb=aa.divisor;aa.divisor=Uc;wa.buffer=b.positionFractBuffer;wa&&("object"===typeof wa||"function"===typeof wa)&&(q(wa)||$b.getBuffer(wa)||$b.getBuffer(wa.buffer)||q(wa.buffer)||"constant"in wa&&("number"===typeof wa.constant||Y(wa.constant)))||c.commandRaise(h,d);Aa=!1;Fb=1;Za=Zb=Ib=wb=0;pa=null;
cb=0;ra=!1;Ha=5126;gc=Ca=Db=0;q(wa)?(Aa=!0,pa=$b.createStream(34962,wa),Ha=pa.dtype):(pa=$b.getBuffer(wa))?Ha=pa.dtype:"constant"in wa?(Fb=2,"number"===typeof wa.constant?(wb=wa.constant,Ib=Zb=Za=0):(wb=0<wa.constant.length?wa.constant[0]:0,Ib=1<wa.constant.length?wa.constant[1]:0,Zb=2<wa.constant.length?wa.constant[2]:0,Za=3<wa.constant.length?wa.constant[3]:0)):(pa=q(wa.buffer)?$b.createStream(34962,wa.buffer):$b.getBuffer(wa.buffer),Ha="type"in wa?ma[wa.type]:pa.dtype,ra=!!wa.normalized,cb=wa.size|
0,Db=wa.offset|0,Ca=wa.stride|0,gc=wa.divisor|0);va=da.state;da.state=Fb;Ga=da.x;da.x=wb;$a=da.y;da.y=Ib;Qb=da.z;da.z=Zb;m=da.w;da.w=Za;w=da.buffer;da.buffer=pa;Xc=da.size;da.size=cb;Gc=da.normalized;da.normalized=ra;ac=da.type;da.type=Ha;Pa=da.offset;da.offset=Db;Ic=da.stride;da.stride=Ca;bc=da.divisor;da.divisor=gc;od=De.vert;De.vert=a[43];Bb=De.frag;De.frag=a[44];X.dirty=!0;e(qa,b,f);qa.viewportWidth=z;qa.viewportHeight=C;T[0]=D;T[1]=B;T[2]=H;T[3]=I;K[0]=O;K[1]=G;K[2]=S;K[3]=V;Z.blend_enable=r;
Q[0]=u;Q[1]=F;P[0]=y;P[1]=M;P[2]=W;P[3]=ga;Z.depth_enable=oa;R[0]=U;R[1]=Ab;R[2]=E;R[3]=Wa;Z.scissor_enable=Ea;Z.stencil_enable=za;Ka&&(v.cpuTime+=performance.now()-Ba);lb&&Kb.destroyStream(je);Vb.elements=fa;Vb.offset=kb;Vb.count=Fa;Vb.primitive=ca;ta[a[34]]=yb;ta[a[35]]=nc;ta[a[36]]=zb;ta[a[37]]=fc;ta[a[38]]=ic;ta[a[39]]=Le;ta[a[40]]=Cb;ta[a[41]]=ud;ta[a[42]]=Hb;Ya&&$b.destroyStream(ab);aa.state=Ua;aa.x=gb;aa.y=kc;aa.z=rb;aa.w=hb;aa.buffer=wc;aa.size=ka;aa.normalized=qc;aa.type=Ra;aa.offset=fb;
aa.stride=ya;aa.divisor=Wb;Aa&&$b.destroyStream(pa);da.state=va;da.x=Ga;da.y=$a;da.z=Qb;da.w=m;da.buffer=w;da.size=Xc;da.normalized=Gc;da.type=ac;da.offset=Pa;da.stride=Ic;da.divisor=bc;De.vert=od;De.frag=Bb;X.dirty=!0},batch:function(b,f){var ta,K,P,T,Q,R;ta=e.next;ta!==e.cur&&(ta?O.bindFramebuffer(36160,ta.framebuffer):O.bindFramebuffer(36160,null),e.cur=ta);if(X.dirty){var aa,da,ib,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u,F,y,M,xa,ga,oa,ea,qd,Kd,md,Vd,Bc,Pc,E,Oh,ke,nd,Ph,bh,vg;aa=Z.dither;aa!==X.dither&&(aa?O.enable(3024):
O.disable(3024),X.dither=aa);da=Z.depth_func;da!==X.depth_func&&(O.depthFunc(da),X.depth_func=da);ib=W[0];Tc=W[1];if(ib!==V[0]||Tc!==V[1])O.depthRange(ib,Tc),V[0]=ib,V[1]=Tc;Eb=Z.depth_mask;Eb!==X.depth_mask&&(O.depthMask(Eb),X.depth_mask=Eb);pb=l[0];Kc=l[1];tb=l[2];Xa=l[3];if(pb!==lb[0]||Kc!==lb[1]||tb!==lb[2]||Xa!==lb[3])O.colorMask(pb,Kc,tb,Xa),lb[0]=pb,lb[1]=Kc,lb[2]=tb,lb[3]=Xa;Ta=Z.cull_enable;Ta!==X.cull_enable&&(Ta?O.enable(2884):O.disable(2884),X.cull_enable=Ta);r=Z.cull_face;r!==X.cull_face&&
(O.cullFace(r),X.cull_face=r);u=Z.frontFace;u!==X.frontFace&&(O.frontFace(u),X.frontFace=u);F=Z.lineWidth;F!==X.lineWidth&&(O.lineWidth(F),X.lineWidth=F);y=Z.polygonOffset_enable;y!==X.polygonOffset_enable&&(y?O.enable(32823):O.disable(32823),X.polygonOffset_enable=y);M=Wa[0];xa=Wa[1];if(M!==p[0]||xa!==p[1])O.polygonOffset(M,xa),p[0]=M,p[1]=xa;ga=Z.sample_alpha;ga!==X.sample_alpha&&(ga?O.enable(32926):O.disable(32926),X.sample_alpha=ga);oa=Z.sample_enable;oa!==X.sample_enable&&(oa?O.enable(32928):
O.disable(32928),X.sample_enable=oa);ea=fa[0];qd=fa[1];if(ea!==za[0]||qd!==za[1])O.sampleCoverage(ea,qd),za[0]=ea,za[1]=qd;Kd=Z.stencil_mask;Kd!==X.stencil_mask&&(O.stencilMask(Kd),X.stencil_mask=Kd);md=I[0];Vd=I[1];Bc=I[2];if(md!==G[0]||Vd!==G[1]||Bc!==G[2])O.stencilFunc(md,Vd,Bc),G[0]=md,G[1]=Vd,G[2]=Bc;Pc=Fa[0];E=Fa[1];Oh=Fa[2];ke=Fa[3];if(Pc!==Sa[0]||E!==Sa[1]||Oh!==Sa[2]||ke!==Sa[3])O.stencilOpSeparate(Pc,E,Oh,ke),Sa[0]=Pc,Sa[1]=E,Sa[2]=Oh,Sa[3]=ke;nd=H[0];Ph=H[1];bh=H[2];vg=H[3];if(nd!==D[0]||
Ph!==D[1]||bh!==D[2]||vg!==D[3])O.stencilOpSeparate(nd,Ph,bh,vg),D[0]=nd,D[1]=Ph,D[2]=bh,D[3]=vg}O.blendColor(0,0,0,0);B[0]=0;B[1]=0;B[2]=0;B[3]=0;a[45]?O.enable(3042):O.disable(3042);X.blend_enable=a[46];O.blendEquationSeparate(32774,32774);S[0]=32774;S[1]=32774;O.blendFuncSeparate(770,771,773,1);g[0]=770;g[1]=771;g[2]=773;g[3]=1;a[47]?O.enable(2929):O.disable(2929);X.depth_enable=a[48];a[49]?O.enable(3089):O.disable(3089);X.scissor_enable=a[50];a[51]?O.enable(2960):O.disable(2960);X.stencil_enable=
a[52];if(K=X.profile)P=performance.now(),v.count+=f;O.useProgram(k.program);T=sd.angle_instanced_arrays;var ee;Id.setVAO(null);ee=Vb.instances;for(Q=0;Q<f;++Q){R=b[Q];var Qf,Lc,ch,Qc,af,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha;(Qf=R.viewport)&&"object"===typeof Qf||c.commandRaise(J,d);Lc=Qf.x|0;ch=Qf.y|0;Qc="width"in
Qf?Qf.width|0:qa.framebufferWidth-Lc;af="height"in Qf?Qf.height|0:qa.framebufferHeight-ch;0<=Qc&&0<=af||c.commandRaise(J,d);qe=qa.viewportWidth;qa.viewportWidth=Qc;jd=qa.viewportHeight;qa.viewportHeight=af;O.viewport(Lc,ch,Qc,af);yb[0]=Lc;yb[1]=ch;yb[2]=Qc;yb[3]=af;(be=R.viewport)&&"object"===typeof be||c.commandRaise(A,d);nc=be.x|0;ne=be.y|0;zb="width"in be?be.width|0:qa.framebufferWidth-nc;oe="height"in be?be.height|0:qa.framebufferHeight-ne;0<=zb&&0<=oe||c.commandRaise(A,d);O.scissor(nc,ne,zb,
oe);z[0]=nc;z[1]=ne;z[2]=zb;z[3]=oe;x.buffer=R.positionBuffer;x&&("object"===typeof x||"function"===typeof x)&&(q(x)||$b.getBuffer(x)||$b.getBuffer(x.buffer)||q(x.buffer)||"constant"in x&&("number"===typeof x.constant||Y(x.constant)))||c.commandRaise(n,d);Bd=!1;Sc=1;bd=Nd=jc=ic=0;Cb=null;td=0;ud=!1;cd=5126;ub=Ya=Hb=0;q(x)?(Bd=!0,Cb=$b.createStream(34962,x),cd=Cb.dtype):(Cb=$b.getBuffer(x))?cd=Cb.dtype:"constant"in x?(Sc=2,"number"===typeof x.constant?(ic=x.constant,jc=Nd=bd=0):(ic=0<x.constant.length?
x.constant[0]:0,jc=1<x.constant.length?x.constant[1]:0,Nd=2<x.constant.length?x.constant[2]:0,bd=3<x.constant.length?x.constant[3]:0)):(Cb=q(x.buffer)?$b.createStream(34962,x.buffer):$b.getBuffer(x.buffer),cd="type"in x?ma[x.type]:Cb.dtype,ud=!!x.normalized,td=x.size|0,Hb=x.offset|0,Ya=x.stride|0,ub=x.divisor|0);ja=t.location;eb=me[ja];if(1===Sc){eb.buffer||O.enableVertexAttribArray(ja);Qa=td||2;if(eb.type!==cd||eb.size!==Qa||eb.buffer!==Cb||eb.normalized!==ud||eb.offset!==Hb||eb.stride!==Ya)O.bindBuffer(34962,
Cb.buffer),O.vertexAttribPointer(ja,Qa,cd,ud,Ya,Hb),eb.type=cd,eb.size=Qa,eb.buffer=Cb,eb.normalized=ud,eb.offset=Hb,eb.stride=Ya;eb.divisor!==ub&&(T.vertexAttribDivisorANGLE(ja,ub),eb.divisor=ub)}else if(eb.buffer&&(O.disableVertexAttribArray(ja),eb.buffer=null),eb.x!==ic||eb.y!==jc||eb.z!==Nd||eb.w!==bd)O.vertexAttrib4f(ja,ic,jc,Nd,bd),eb.x=ic,eb.y=jc,eb.z=Nd,eb.w=bd;wa.buffer=R.positionFractBuffer;wa&&("object"===typeof wa||"function"===typeof wa)&&(q(wa)||$b.getBuffer(wa)||$b.getBuffer(wa.buffer)||
q(wa.buffer)||"constant"in wa&&("number"===typeof wa.constant||Y(wa.constant)))||c.commandRaise(h,d);qb=!1;ab=1;Oa=Cc=Pb=Va=0;ua=null;Uc=0;Ua=!1;gb=5126;hb=rb=kc=0;q(wa)?(qb=!0,ua=$b.createStream(34962,wa),gb=ua.dtype):(ua=$b.getBuffer(wa))?gb=ua.dtype:"constant"in wa?(ab=2,"number"===typeof wa.constant?(Va=wa.constant,Pb=Cc=Oa=0):(Va=0<wa.constant.length?wa.constant[0]:0,Pb=1<wa.constant.length?wa.constant[1]:0,Cc=2<wa.constant.length?wa.constant[2]:0,Oa=3<wa.constant.length?wa.constant[3]:0)):(ua=
q(wa.buffer)?$b.createStream(34962,wa.buffer):$b.getBuffer(wa.buffer),gb="type"in wa?ma[wa.type]:ua.dtype,Ua=!!wa.normalized,Uc=wa.size|0,kc=wa.offset|0,rb=wa.stride|0,hb=wa.divisor|0);wc=C.location;ka=me[wc];if(1===ab){ka.buffer||O.enableVertexAttribArray(wc);qc=Uc||2;if(ka.type!==gb||ka.size!==qc||ka.buffer!==ua||ka.normalized!==Ua||ka.offset!==kc||ka.stride!==rb)O.bindBuffer(34962,ua.buffer),O.vertexAttribPointer(wc,qc,gb,Ua,rb,kc),ka.type=gb,ka.size=qc,ka.buffer=ua,ka.normalized=Ua,ka.offset=
kc,ka.stride=rb;ka.divisor!==hb&&(T.vertexAttribDivisorANGLE(wc,hb),ka.divisor=hb)}else if(ka.buffer&&(O.disableVertexAttribArray(wc),ka.buffer=null),ka.x!==Va||ka.y!==Pb||ka.z!==Cc||ka.w!==Oa)O.vertexAttrib4f(wc,Va,Pb,Cc,Oa),ka.x=Va,ka.y=Pb,ka.z=Cc,ka.w=Oa;Ra=R.fill;Y(Ra)&&4===Ra.length||c.commandRaise(U,d);fb=Ra[0];Wb=Ra[1];Fb=Ra[2];Ib=Ra[3];Q&&ya===fb&&Aa===Wb&&wb===Fb&&Zb===Ib||(ya=fb,Aa=Wb,wb=Fb,Zb=Ib,O.uniform4f(N.location,fb,Wb,Fb,Ib));Za=R.id;"number"!==typeof Za&&c.commandRaise(jb,d);Q&&
pa===Za||(pa=Za,O.uniform1f(Ab.location,Za));cb=R.opacity;"number"!==typeof cb&&c.commandRaise(ca,d);Q&&ra===cb||(ra=cb,O.uniform1f(ia.location,cb));Ha=R.scale;Y(Ha)&&2===Ha.length||c.commandRaise(Ba,d);Db=Ha[0];gc=Ha[1];Q&&Ca===Db&&va===gc||(Ca=Db,va=gc,O.uniform2f(Ka.location,Db,gc));Ga=R.scaleFract;Y(Ga)&&2===Ga.length||c.commandRaise(Oe,d);$a=Ga[0];m=Ga[1];Q&&Qb===$a&&w===m||(Qb=$a,w=m,O.uniform2f(Ea.location,$a,m));Xc=R.translate;Y(Xc)&&2===Xc.length||c.commandRaise(Nb,d);Gc=Xc[0];Pa=Xc[1];Q&&
ac===Gc&&Ic===Pa||(ac=Gc,Ic=Pa,O.uniform2f(Ub.location,Gc,Pa));bc=R.translateFract;Y(bc)&&2===bc.length||c.commandRaise(fc,d);od=bc[0];Od=bc[1];Q&&Bb===od&&mb===Od||(Bb=od,mb=Od,O.uniform2f(kb.location,od,Od));Ld=Yb.call(this,qa,R,Q);la=null;(Xd=q(Ld))?la=Kb.createStream(Ld):(la=Kb.getElements(Ld),Ld&&!la&&c.commandRaise(Ob,d));la&&O.bindBuffer(34963,la.buffer.buffer);ha=la?la.vertCount:-1;0<=ha||c.commandRaise(ob,d);ha&&(0<ee?la?T.drawElementsInstancedANGLE(4,ha,la.type,0<<(la.type-5121>>1),ee):
T.drawArraysInstancedANGLE(4,0,ha,ee):0>ee&&(la?O.drawElements(4,ha,la.type,0<<(la.type-5121>>1)):O.drawArrays(4,0,ha)),qa.viewportWidth=qe,qa.viewportHeight=jd,Bd&&$b.destroyStream(Cb),qb&&$b.destroyStream(ua),Xd&&Kb.destroyStream(la))}X.dirty=!0;Id.setVAO(null);K&&(v.cpuTime+=performance.now()-P)}}},"72858.327":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P,g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R){var z,T,
yb,ma,x,wa,L,ed,vb,Je,Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u,F,y,M,xa,ga,oa,ea,qd,Kd,md,Vd,Bc,Pc,E;z=b.gl;T=b.context;yb=b.next;ma=b.current;x=b.draw;wa=b.elements;L=b.buffer;ed=b.shader;vb=b.attributes;Je=b.vao;Ac=b.uniforms;sa=b.framebuffer;Nc=b.extensions;ba=b.isBufferArgs;hc=b.isArrayLike;id=yb.blend_color;Hc=ma.blend_color;Tc=yb.blend_equation;Eb=ma.blend_equation;pb=yb.blend_func;Kc=ma.blend_func;tb=yb.depth_range;Xa=ma.depth_range;Ta=yb.colorMask;r=ma.colorMask;u=yb.polygonOffset_offset;
F=ma.polygonOffset_offset;y=yb.sample_coverage;M=ma.sample_coverage;xa=yb.stencil_func;ga=ma.stencil_func;oa=yb.stencil_opFront;ea=ma.stencil_opFront;qd=yb.stencil_opBack;Kd=ma.stencil_opBack;md=yb.scissor_box;Vd=ma.scissor_box;Bc=yb.viewport;Pc=ma.viewport;E={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};return{draw:function(b){var f,p,D,H,I,G,R,za,fa,Fa,Sa,Bc,jd,be,nc,pb,zb,md,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,
Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Ac,gd,ye,rd,Wc,ae,Sb,ce,ec,id,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,ed,Af,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne;f=sa.next;f!==sa.cur&&(f?z.bindFramebuffer(36160,f.framebuffer):z.bindFramebuffer(36160,
null),sa.cur=f);if(ma.dirty){var Ue,Te,le,Ve,ld,Me,$c,bg,Wd,Xe,Ye,Ce,vf,Ke,hf,We,df,lf,jf,se,Nf,ve,Gb,mf,fg,nf,pd,dh,of,Bf,wf,oc,te,Cf;Ue=yb.dither;Ue!==ma.dither&&(Ue?z.enable(3024):z.disable(3024),ma.dither=Ue);Te=Tc[0];le=Tc[1];if(Te!==Eb[0]||le!==Eb[1])z.blendEquationSeparate(Te,le),Eb[0]=Te,Eb[1]=le;Ve=yb.depth_func;Ve!==ma.depth_func&&(z.depthFunc(Ve),ma.depth_func=Ve);ld=tb[0];Me=tb[1];if(ld!==Xa[0]||Me!==Xa[1])z.depthRange(ld,Me),Xa[0]=ld,Xa[1]=Me;$c=yb.depth_mask;$c!==ma.depth_mask&&(z.depthMask($c),
ma.depth_mask=$c);bg=Ta[0];Wd=Ta[1];Xe=Ta[2];Ye=Ta[3];if(bg!==r[0]||Wd!==r[1]||Xe!==r[2]||Ye!==r[3])z.colorMask(bg,Wd,Xe,Ye),r[0]=bg,r[1]=Wd,r[2]=Xe,r[3]=Ye;Ce=yb.cull_enable;Ce!==ma.cull_enable&&(Ce?z.enable(2884):z.disable(2884),ma.cull_enable=Ce);vf=yb.cull_face;vf!==ma.cull_face&&(z.cullFace(vf),ma.cull_face=vf);Ke=yb.frontFace;Ke!==ma.frontFace&&(z.frontFace(Ke),ma.frontFace=Ke);hf=yb.lineWidth;hf!==ma.lineWidth&&(z.lineWidth(hf),ma.lineWidth=hf);We=yb.polygonOffset_enable;We!==ma.polygonOffset_enable&&
(We?z.enable(32823):z.disable(32823),ma.polygonOffset_enable=We);df=u[0];lf=u[1];if(df!==F[0]||lf!==F[1])z.polygonOffset(df,lf),F[0]=df,F[1]=lf;jf=yb.sample_alpha;jf!==ma.sample_alpha&&(jf?z.enable(32926):z.disable(32926),ma.sample_alpha=jf);se=yb.sample_enable;se!==ma.sample_enable&&(se?z.enable(32928):z.disable(32928),ma.sample_enable=se);Nf=y[0];ve=y[1];if(Nf!==M[0]||ve!==M[1])z.sampleCoverage(Nf,ve),M[0]=Nf,M[1]=ve;Gb=yb.stencil_mask;Gb!==ma.stencil_mask&&(z.stencilMask(Gb),ma.stencil_mask=Gb);
mf=xa[0];fg=xa[1];nf=xa[2];if(mf!==ga[0]||fg!==ga[1]||nf!==ga[2])z.stencilFunc(mf,fg,nf),ga[0]=mf,ga[1]=fg,ga[2]=nf;pd=oa[0];dh=oa[1];of=oa[2];Bf=oa[3];if(pd!==ea[0]||dh!==ea[1]||of!==ea[2]||Bf!==ea[3])z.stencilOpSeparate(pd,dh,of,Bf),ea[0]=pd,ea[1]=dh,ea[2]=of,ea[3]=Bf;wf=qd[0];oc=qd[1];te=qd[2];Cf=qd[3];if(wf!==Kd[0]||oc!==Kd[1]||te!==Kd[2]||Cf!==Kd[3])z.stencilOpSeparate(wf,oc,te,Cf),Kd[0]=wf,Kd[1]=oc,Kd[2]=te,Kd[3]=Cf}(p=b.viewport)&&"object"===typeof p||c.commandRaise(J,d);D=p.x|0;H=p.y|0;I=
"width"in p?p.width|0:T.framebufferWidth-D;G="height"in p?p.height|0:T.framebufferHeight-H;0<=I&&0<=G||c.commandRaise(J,d);R=T.viewportWidth;T.viewportWidth=I;za=T.viewportHeight;T.viewportHeight=G;z.viewport(D,H,I,G);Pc[0]=D;Pc[1]=H;Pc[2]=I;Pc[3]=G;z.blendColor(0,0,0,1);Hc[0]=0;Hc[1]=0;Hc[2]=0;Hc[3]=1;a[0]?z.enable(3042):z.disable(3042);ma.blend_enable=a[1];z.blendFuncSeparate(770,771,773,1);Kc[0]=770;Kc[1]=771;Kc[2]=773;Kc[3]=1;a[2]?z.enable(2929):z.disable(2929);ma.depth_enable=a[3];(fa=b.viewport)&&
"object"===typeof fa||c.commandRaise(A,d);Fa=fa.x|0;Sa=fa.y|0;Bc="width"in fa?fa.width|0:T.framebufferWidth-Fa;jd="height"in fa?fa.height|0:T.framebufferHeight-Sa;0<=Bc&&0<=jd||c.commandRaise(A,d);z.scissor(Fa,Sa,Bc,jd);Vd[0]=Fa;Vd[1]=Sa;Vd[2]=Bc;Vd[3]=jd;a[4]?z.enable(3089):z.disable(3089);ma.scissor_enable=a[5];a[6]?z.enable(2960):z.disable(2960);ma.stencil_enable=a[7];if(be=ma.profile)nc=performance.now(),v.count++;z.useProgram(k.program);pb=Nc.angle_instanced_arrays;Je.setVAO(null);(zb=n.call(this,
T,b,0))&&("object"===typeof zb||"function"===typeof zb)&&(ba(zb)||L.getBuffer(zb)||L.getBuffer(zb.buffer)||ba(zb.buffer)||"constant"in zb&&("number"===typeof zb.constant||hc(zb.constant)))||c.commandRaise(t,d);md=!1;Bd=1;Nd=jc=ic=Sc=0;bd=null;Cb=0;td=!1;ud=5126;Ya=Hb=cd=0;ba(zb)?(md=!0,bd=L.createStream(34962,zb),ud=bd.dtype):(bd=L.getBuffer(zb))?ud=bd.dtype:"constant"in zb?(Bd=2,"number"===typeof zb.constant?(Sc=zb.constant,ic=jc=Nd=0):(Sc=0<zb.constant.length?zb.constant[0]:0,ic=1<zb.constant.length?
zb.constant[1]:0,jc=2<zb.constant.length?zb.constant[2]:0,Nd=3<zb.constant.length?zb.constant[3]:0)):(bd=ba(zb.buffer)?L.createStream(34962,zb.buffer):L.getBuffer(zb.buffer),ud="type"in zb?E[zb.type]:bd.dtype,td=!!zb.normalized,Cb=zb.size|0,cd=zb.offset|0,Hb=zb.stride|0,Ya=zb.divisor|0);ub=h.location;ja=vb[ub];if(1===Bd){ja.buffer||z.enableVertexAttribArray(ub);eb=Cb||4;if(ja.type!==ud||ja.size!==eb||ja.buffer!==bd||ja.normalized!==td||ja.offset!==cd||ja.stride!==Hb)z.bindBuffer(34962,bd.buffer),
z.vertexAttribPointer(ub,eb,ud,td,Hb,cd),ja.type=ud,ja.size=eb,ja.buffer=bd,ja.normalized=td,ja.offset=cd,ja.stride=Hb;ja.divisor!==Ya&&(pb.vertexAttribDivisorANGLE(ub,Ya),ja.divisor=Ya)}else if(ja.buffer&&(z.disableVertexAttribArray(ub),ja.buffer=null),ja.x!==Sc||ja.y!==ic||ja.z!==jc||ja.w!==Nd)z.vertexAttrib4f(ub,Sc,ic,jc,Nd),ja.x=Sc,ja.y=ic,ja.z=jc,ja.w=Nd;(Qa=C.call(this,T,b,0))&&("object"===typeof Qa||"function"===typeof Qa)&&(ba(Qa)||L.getBuffer(Qa)||L.getBuffer(Qa.buffer)||ba(Qa.buffer)||"constant"in
Qa&&("number"===typeof Qa.constant||hc(Qa.constant)))||c.commandRaise(N,d);qb=!1;ab=1;Oa=Cc=Pb=Va=0;ua=null;Uc=0;Ua=!1;gb=5126;hb=rb=kc=0;ba(Qa)?(qb=!0,ua=L.createStream(34962,Qa),gb=ua.dtype):(ua=L.getBuffer(Qa))?gb=ua.dtype:"constant"in Qa?(ab=2,"number"===typeof Qa.constant?(Va=Qa.constant,Pb=Cc=Oa=0):(Va=0<Qa.constant.length?Qa.constant[0]:0,Pb=1<Qa.constant.length?Qa.constant[1]:0,Cc=2<Qa.constant.length?Qa.constant[2]:0,Oa=3<Qa.constant.length?Qa.constant[3]:0)):(ua=ba(Qa.buffer)?L.createStream(34962,
Qa.buffer):L.getBuffer(Qa.buffer),gb="type"in Qa?E[Qa.type]:ua.dtype,Ua=!!Qa.normalized,Uc=Qa.size|0,kc=Qa.offset|0,rb=Qa.stride|0,hb=Qa.divisor|0);wc=U.location;ka=vb[wc];if(1===ab){ka.buffer||z.enableVertexAttribArray(wc);qc=Uc||1;if(ka.type!==gb||ka.size!==qc||ka.buffer!==ua||ka.normalized!==Ua||ka.offset!==kc||ka.stride!==rb)z.bindBuffer(34962,ua.buffer),z.vertexAttribPointer(wc,qc,gb,Ua,rb,kc),ka.type=gb,ka.size=qc,ka.buffer=ua,ka.normalized=Ua,ka.offset=kc,ka.stride=rb;ka.divisor!==hb&&(pb.vertexAttribDivisorANGLE(wc,
hb),ka.divisor=hb)}else if(ka.buffer&&(z.disableVertexAttribArray(wc),ka.buffer=null),ka.x!==Va||ka.y!==Pb||ka.z!==Cc||ka.w!==Oa)z.vertexAttrib4f(wc,Va,Pb,Cc,Oa),ka.x=Va,ka.y=Pb,ka.z=Cc,ka.w=Oa;(Ra=Ab.call(this,T,b,0))&&("object"===typeof Ra||"function"===typeof Ra)&&(ba(Ra)||L.getBuffer(Ra)||L.getBuffer(Ra.buffer)||ba(Ra.buffer)||"constant"in Ra&&("number"===typeof Ra.constant||hc(Ra.constant)))||c.commandRaise(jb,d);fb=!1;ya=1;wb=Fb=Aa=Wb=0;Ib=null;Zb=0;Za=!1;pa=5126;Ha=ra=cb=0;ba(Ra)?(fb=!0,Ib=
L.createStream(34962,Ra),pa=Ib.dtype):(Ib=L.getBuffer(Ra))?pa=Ib.dtype:"constant"in Ra?(ya=2,"number"===typeof Ra.constant?(Wb=Ra.constant,Aa=Fb=wb=0):(Wb=0<Ra.constant.length?Ra.constant[0]:0,Aa=1<Ra.constant.length?Ra.constant[1]:0,Fb=2<Ra.constant.length?Ra.constant[2]:0,wb=3<Ra.constant.length?Ra.constant[3]:0)):(Ib=ba(Ra.buffer)?L.createStream(34962,Ra.buffer):L.getBuffer(Ra.buffer),pa="type"in Ra?E[Ra.type]:Ib.dtype,Za=!!Ra.normalized,Zb=Ra.size|0,cb=Ra.offset|0,ra=Ra.stride|0,Ha=Ra.divisor|
0);Db=ia.location;Ca=vb[Db];if(1===ya){Ca.buffer||z.enableVertexAttribArray(Db);gc=Zb||4;if(Ca.type!==pa||Ca.size!==gc||Ca.buffer!==Ib||Ca.normalized!==Za||Ca.offset!==cb||Ca.stride!==ra)z.bindBuffer(34962,Ib.buffer),z.vertexAttribPointer(Db,gc,pa,Za,ra,cb),Ca.type=pa,Ca.size=gc,Ca.buffer=Ib,Ca.normalized=Za,Ca.offset=cb,Ca.stride=ra;Ca.divisor!==Ha&&(pb.vertexAttribDivisorANGLE(Db,Ha),Ca.divisor=Ha)}else if(Ca.buffer&&(z.disableVertexAttribArray(Db),Ca.buffer=null),Ca.x!==Wb||Ca.y!==Aa||Ca.z!==Fb||
Ca.w!==wb)z.vertexAttrib4f(Db,Wb,Aa,Fb,wb),Ca.x=Wb,Ca.y=Aa,Ca.z=Fb,Ca.w=wb;(va=ca.call(this,T,b,0))&&("object"===typeof va||"function"===typeof va)&&(ba(va)||L.getBuffer(va)||L.getBuffer(va.buffer)||ba(va.buffer)||"constant"in va&&("number"===typeof va.constant||hc(va.constant)))||c.commandRaise(Ka,d);Ga=!1;$a=1;Xc=w=m=Qb=0;Gc=null;ac=0;Pa=!1;Ic=5126;Bb=od=bc=0;ba(va)?(Ga=!0,Gc=L.createStream(34962,va),Ic=Gc.dtype):(Gc=L.getBuffer(va))?Ic=Gc.dtype:"constant"in va?($a=2,"number"===typeof va.constant?
(Qb=va.constant,m=w=Xc=0):(Qb=0<va.constant.length?va.constant[0]:0,m=1<va.constant.length?va.constant[1]:0,w=2<va.constant.length?va.constant[2]:0,Xc=3<va.constant.length?va.constant[3]:0)):(Gc=ba(va.buffer)?L.createStream(34962,va.buffer):L.getBuffer(va.buffer),Ic="type"in va?E[va.type]:Gc.dtype,Pa=!!va.normalized,ac=va.size|0,bc=va.offset|0,od=va.stride|0,Bb=va.divisor|0);Od=Ba.location;mb=vb[Od];if(1===$a){mb.buffer||z.enableVertexAttribArray(Od);Ld=ac||1;if(mb.type!==Ic||mb.size!==Ld||mb.buffer!==
Gc||mb.normalized!==Pa||mb.offset!==bc||mb.stride!==od)z.bindBuffer(34962,Gc.buffer),z.vertexAttribPointer(Od,Ld,Ic,Pa,od,bc),mb.type=Ic,mb.size=Ld,mb.buffer=Gc,mb.normalized=Pa,mb.offset=bc,mb.stride=od;mb.divisor!==Bb&&(pb.vertexAttribDivisorANGLE(Od,Bb),mb.divisor=Bb)}else if(mb.buffer&&(z.disableVertexAttribArray(Od),mb.buffer=null),mb.x!==Qb||mb.y!==m||mb.z!==w||mb.w!==Xc)z.vertexAttrib4f(Od,Qb,m,w,Xc),mb.x=Qb,mb.y=m,mb.z=w,mb.w=Xc;(la=Ea.call(this,T,b,0))&&("object"===typeof la||"function"===
typeof la)&&(ba(la)||L.getBuffer(la)||L.getBuffer(la.buffer)||ba(la.buffer)||"constant"in la&&("number"===typeof la.constant||hc(la.constant)))||c.commandRaise(Oe,d);Xd=!1;ha=1;re=Lb=La=Rb=0;Dc=null;bb=0;Jc=!1;xc=5126;xb=Yd=yc=0;ba(la)?(Xd=!0,Dc=L.createStream(34962,la),xc=Dc.dtype):(Dc=L.getBuffer(la))?xc=Dc.dtype:"constant"in la?(ha=2,"number"===typeof la.constant?(Rb=la.constant,La=Lb=re=0):(Rb=0<la.constant.length?la.constant[0]:0,La=1<la.constant.length?la.constant[1]:0,Lb=2<la.constant.length?
la.constant[2]:0,re=3<la.constant.length?la.constant[3]:0)):(Dc=ba(la.buffer)?L.createStream(34962,la.buffer):L.getBuffer(la.buffer),xc="type"in la?E[la.type]:Dc.dtype,Jc=!!la.normalized,bb=la.size|0,yc=la.offset|0,Yd=la.stride|0,xb=la.divisor|0);hd=Ub.location;db=vb[hd];if(1===ha){db.buffer||z.enableVertexAttribArray(hd);Fc=bb||1;if(db.type!==xc||db.size!==Fc||db.buffer!==Dc||db.normalized!==Jc||db.offset!==yc||db.stride!==Yd)z.bindBuffer(34962,Dc.buffer),z.vertexAttribPointer(hd,Fc,xc,Jc,Yd,yc),
db.type=xc,db.size=Fc,db.buffer=Dc,db.normalized=Jc,db.offset=yc,db.stride=Yd;db.divisor!==xb&&(pb.vertexAttribDivisorANGLE(hd,xb),db.divisor=xb)}else if(db.buffer&&(z.disableVertexAttribArray(hd),db.buffer=null),db.x!==Rb||db.y!==La||db.z!==Lb||db.w!==re)z.vertexAttrib4f(hd,Rb,La,Lb,re),db.x=Rb,db.y=La,db.z=Lb,db.w=re;(nb=Nb.call(this,T,b,0))&&("object"===typeof nb||"function"===typeof nb)&&(ba(nb)||L.getBuffer(nb)||L.getBuffer(nb.buffer)||ba(nb.buffer)||"constant"in nb&&("number"===typeof nb.constant||
hc(nb.constant)))||c.commandRaise(kb,d);Zc=!1;Da=1;$d=pc=cc=Pd=0;Na=null;Cd=0;Mb=!1;ie=5126;na=Dd=sb=0;ba(nb)?(Zc=!0,Na=L.createStream(34962,nb),ie=Na.dtype):(Na=L.getBuffer(nb))?ie=Na.dtype:"constant"in nb?(Da=2,"number"===typeof nb.constant?(Pd=nb.constant,cc=pc=$d=0):(Pd=0<nb.constant.length?nb.constant[0]:0,cc=1<nb.constant.length?nb.constant[1]:0,pc=2<nb.constant.length?nb.constant[2]:0,$d=3<nb.constant.length?nb.constant[3]:0)):(Na=ba(nb.buffer)?L.createStream(34962,nb.buffer):L.getBuffer(nb.buffer),
ie="type"in nb?E[nb.type]:Na.dtype,Mb=!!nb.normalized,Cd=nb.size|0,sb=nb.offset|0,Dd=nb.stride|0,na=nb.divisor|0);Vc=fc.location;Ia=vb[Vc];if(1===Da){Ia.buffer||z.enableVertexAttribArray(Vc);fe=Cd||1;if(Ia.type!==ie||Ia.size!==fe||Ia.buffer!==Na||Ia.normalized!==Mb||Ia.offset!==sb||Ia.stride!==Dd)z.bindBuffer(34962,Na.buffer),z.vertexAttribPointer(Vc,fe,ie,Mb,Dd,sb),Ia.type=ie,Ia.size=fe,Ia.buffer=Na,Ia.normalized=Mb,Ia.offset=sb,Ia.stride=Dd;Ia.divisor!==na&&(pb.vertexAttribDivisorANGLE(Vc,na),Ia.divisor=
na)}else if(Ia.buffer&&(z.disableVertexAttribArray(Vc),Ia.buffer=null),Ia.x!==Pd||Ia.y!==cc||Ia.z!==pc||Ia.w!==$d)z.vertexAttrib4f(Vc,Pd,cc,pc,$d),Ia.x=Pd,Ia.y=cc,Ia.z=pc,Ia.w=$d;(Ja=Yb.call(this,T,b,0))&&("object"===typeof Ja||"function"===typeof Ja)&&(ba(Ja)||L.getBuffer(Ja)||L.getBuffer(Ja.buffer)||ba(Ja.buffer)||"constant"in Ja&&("number"===typeof Ja.constant||hc(Ja.constant)))||c.commandRaise(Ob,d);Rc=!1;Ma=1;rc=Qd=Xb=kd=0;fd=null;sc=0;Ac=!1;gd=5126;Wc=rd=ye=0;ba(Ja)?(Rc=!0,fd=L.createStream(34962,
Ja),gd=fd.dtype):(fd=L.getBuffer(Ja))?gd=fd.dtype:"constant"in Ja?(Ma=2,"number"===typeof Ja.constant?(kd=Ja.constant,Xb=Qd=rc=0):(kd=0<Ja.constant.length?Ja.constant[0]:0,Xb=1<Ja.constant.length?Ja.constant[1]:0,Qd=2<Ja.constant.length?Ja.constant[2]:0,rc=3<Ja.constant.length?Ja.constant[3]:0)):(fd=ba(Ja.buffer)?L.createStream(34962,Ja.buffer):L.getBuffer(Ja.buffer),gd="type"in Ja?E[Ja.type]:fd.dtype,Ac=!!Ja.normalized,sc=Ja.size|0,ye=Ja.offset|0,rd=Ja.stride|0,Wc=Ja.divisor|0);ae=ob.location;Sb=
vb[ae];if(1===Ma){Sb.buffer||z.enableVertexAttribArray(ae);ce=sc||1;if(Sb.type!==gd||Sb.size!==ce||Sb.buffer!==fd||Sb.normalized!==Ac||Sb.offset!==ye||Sb.stride!==rd)z.bindBuffer(34962,fd.buffer),z.vertexAttribPointer(ae,ce,gd,Ac,rd,ye),Sb.type=gd,Sb.size=ce,Sb.buffer=fd,Sb.normalized=Ac,Sb.offset=ye,Sb.stride=rd;Sb.divisor!==Wc&&(pb.vertexAttribDivisorANGLE(ae,Wc),Sb.divisor=Wc)}else if(Sb.buffer&&(z.disableVertexAttribArray(ae),Sb.buffer=null),Sb.x!==kd||Sb.y!==Xb||Sb.z!==Qd||Sb.w!==rc)z.vertexAttrib4f(ae,
kd,Xb,Qd,rc),Sb.x=kd,Sb.y=Xb,Sb.z=Qd,Sb.w=rc;(ec=ib.call(this,T,b,0))&&("object"===typeof ec||"function"===typeof ec)&&(ba(ec)||L.getBuffer(ec)||L.getBuffer(ec.buffer)||ba(ec.buffer)||"constant"in ec&&("number"===typeof ec.constant||hc(ec.constant)))||c.commandRaise(aa,d);id=!1;Tb=1;Ed=tc=zc=Oc=0;lc=null;Rd=0;vd=!1;zd=5126;wd=yd=Hd=0;ba(ec)?(id=!0,lc=L.createStream(34962,ec),zd=lc.dtype):(lc=L.getBuffer(ec))?zd=lc.dtype:"constant"in ec?(Tb=2,"number"===typeof ec.constant?(Oc=ec.constant,zc=tc=Ed=
0):(Oc=0<ec.constant.length?ec.constant[0]:0,zc=1<ec.constant.length?ec.constant[1]:0,tc=2<ec.constant.length?ec.constant[2]:0,Ed=3<ec.constant.length?ec.constant[3]:0)):(lc=ba(ec.buffer)?L.createStream(34962,ec.buffer):L.getBuffer(ec.buffer),zd="type"in ec?E[ec.type]:lc.dtype,vd=!!ec.normalized,Rd=ec.size|0,Hd=ec.offset|0,yd=ec.stride|0,wd=ec.divisor|0);pe=da.location;uc=vb[pe];if(1===Tb){uc.buffer||z.enableVertexAttribArray(pe);Ad=Rd||1;if(uc.type!==zd||uc.size!==Ad||uc.buffer!==lc||uc.normalized!==
vd||uc.offset!==Hd||uc.stride!==yd)z.bindBuffer(34962,lc.buffer),z.vertexAttribPointer(pe,Ad,zd,vd,yd,Hd),uc.type=zd,uc.size=Ad,uc.buffer=lc,uc.normalized=vd,uc.offset=Hd,uc.stride=yd;uc.divisor!==wd&&(pb.vertexAttribDivisorANGLE(pe,wd),uc.divisor=wd)}else if(uc.buffer&&(z.disableVertexAttribArray(pe),uc.buffer=null),uc.x!==Oc||uc.y!==zc||uc.z!==tc||uc.w!==Ed)z.vertexAttrib4f(pe,Oc,zc,tc,Ed),uc.x=Oc,uc.y=zc,uc.z=tc,uc.w=Ed;(Jb=O.call(this,T,b,0))&&("object"===typeof Jb||"function"===typeof Jb)&&(ba(Jb)||
L.getBuffer(Jb)||L.getBuffer(Jb.buffer)||ba(Jb.buffer)||"constant"in Jb&&("number"===typeof Jb.constant||hc(Jb.constant)))||c.commandRaise(qa,d);de=!1;dc=1;ge=Sd=Mc=kf=0;ed=null;Af=0;Fd=!1;Zd=5126;dd=mc=Gd=0;ba(Jb)?(de=!0,ed=L.createStream(34962,Jb),Zd=ed.dtype):(ed=L.getBuffer(Jb))?Zd=ed.dtype:"constant"in Jb?(dc=2,"number"===typeof Jb.constant?(kf=Jb.constant,Mc=Sd=ge=0):(kf=0<Jb.constant.length?Jb.constant[0]:0,Mc=1<Jb.constant.length?Jb.constant[1]:0,Sd=2<Jb.constant.length?Jb.constant[2]:0,ge=
3<Jb.constant.length?Jb.constant[3]:0)):(ed=ba(Jb.buffer)?L.createStream(34962,Jb.buffer):L.getBuffer(Jb.buffer),Zd="type"in Jb?E[Jb.type]:ed.dtype,Fd=!!Jb.normalized,Af=Jb.size|0,Gd=Jb.offset|0,mc=Jb.stride|0,dd=Jb.divisor|0);Ec=Z.location;Yc=vb[Ec];if(1===dc){Yc.buffer||z.enableVertexAttribArray(Ec);Td=Af||1;if(Yc.type!==Zd||Yc.size!==Td||Yc.buffer!==ed||Yc.normalized!==Fd||Yc.offset!==Gd||Yc.stride!==mc)z.bindBuffer(34962,ed.buffer),z.vertexAttribPointer(Ec,Td,Zd,Fd,mc,Gd),Yc.type=Zd,Yc.size=Td,
Yc.buffer=ed,Yc.normalized=Fd,Yc.offset=Gd,Yc.stride=mc;Yc.divisor!==dd&&(pb.vertexAttribDivisorANGLE(Ec,dd),Yc.divisor=dd)}else if(Yc.buffer&&(z.disableVertexAttribArray(Ec),Yc.buffer=null),Yc.x!==kf||Yc.y!==Mc||Yc.z!==Sd||Yc.w!==ge)z.vertexAttrib4f(Ec,kf,Mc,Sd,ge),Yc.x=kf,Yc.y=Mc,Yc.z=Sd,Yc.w=ge;z.uniform1i(X.location,!1);(Md=b.markerTexture)&&"framebuffer"===Md._reglType&&(Md=Md.color[0]);"function"===typeof Md&&"texture2d"===Md._reglType||c.commandRaise(Kb,d);ue=Md._texture;z.uniform1i(Vb.location,
ue.bind());vc=b.opacity;"number"!==typeof vc&&c.commandRaise(De,d);z.uniform1f($b.location,vc);Se=Id.call(this,T,b,0);hc(Se)&&2===Se.length||c.commandRaise(ta,d);z.uniform2f(me.location,Se[0],Se[1]);z.uniform1i(e.location,sd.bind());xd=T.pixelRatio;"number"!==typeof xd&&c.commandRaise(Y,d);z.uniform1f(q.location,xd);Ge=b.scale;hc(Ge)&&2===Ge.length||c.commandRaise(B,d);z.uniform2f(K.location,Ge[0],Ge[1]);xe=b.scaleFract;hc(xe)&&2===xe.length||c.commandRaise(S,d);z.uniform2f(Q.location,xe[0],xe[1]);
He=b.translate;hc(He)&&2===He.length||c.commandRaise(g,d);z.uniform2f(P.location,He[0],He[1]);Be=b.translateFract;hc(Be)&&2===Be.length||c.commandRaise(V,d);z.uniform2f(W.location,Be[0],Be[1]);we=b.elements;Ee=null;(bf=ba(we))?Ee=wa.createStream(we):(Ee=wa.getElements(we),we&&!Ee&&c.commandRaise(l,d));Ee&&z.bindBuffer(34963,Ee.buffer.buffer);cf=b.offset;0<=cf||c.commandRaise(lb,d);Pe=b.count;"number"===typeof Pe&&0<=Pe&&Pe===(Pe|0)||c.commandRaise(Wa,d);Pe&&(Ne=x.instances,0<Ne?Ee?pb.drawElementsInstancedANGLE(0,
Pe,Ee.type,cf<<(Ee.type-5121>>1),Ne):pb.drawArraysInstancedANGLE(0,cf,Pe,Ne):0>Ne&&(Ee?z.drawElements(0,Pe,Ee.type,cf<<(Ee.type-5121>>1)):z.drawArrays(0,cf,Pe)),ma.dirty=!0,Je.setVAO(null),T.viewportWidth=R,T.viewportHeight=za,be&&(v.cpuTime+=performance.now()-nc),md&&L.destroyStream(bd),qb&&L.destroyStream(ua),fb&&L.destroyStream(Ib),Ga&&L.destroyStream(Gc),Xd&&L.destroyStream(Dc),Zc&&L.destroyStream(Na),Rc&&L.destroyStream(fd),id&&L.destroyStream(lc),de&&L.destroyStream(ed),ue.unbind(),sd.unbind(),
bf&&wa.destroyStream(Ee))},scope:function(b,e,f){var g,h,k,q,r,u,y,z,F,ta,M,B,K,Y,P,Q,S,V,X,W,ea,ga,oa,Z,xa,sd,da,ia,U,ja,sa,Ba,Pc,ab,Va,Ta,Xa,Oa,ua,ob,Ua,gb,Vb,rb,hb,Kb,ka,$b,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,vb,bc,tb,Bb,Ub,mb,Eb,la,fc,ha,Rb,La,Lb,Kd,Dc,bb,Jc,xc,yc,Le,xb,hd,db,Fc,nb,Zc,Da,qd,cc,pc,Kc,Na,Cd,Mb,Hc,sb,Dd,na,Vc,Ia,Nc,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Vd,gd,Tc,rd,Wc,ae,Sb,ce,ec,me,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,
De,Je,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,bg,Wd,Xe,Ye,Ce,vf,Ke,hf,We,df,lf,jf,se,Nf,ve,Gb,mf,fg,nf,pd,oc,of,Bf,wf,ad,te,Cf,ze,Df,tf,If,Jf,pf,Ef,xf,Kf,Jd,Lf,Mf,he,Rh,Sh,Rf,Of,yf,Wf,Pf,zf,Gf,sf,Th,Fe,Ae,Ze,ff,qf,Re,Ie,Yf,uf,cg,ig,Hf,jg,sg,Sf,Ff,Tf,Uf,Vf,zg,Ag,Bg,Cg,Dg,Eg,Fg,ef,wg,$e,pg,qg,kg,lg,Zf,rg,dg,mg,tg,ng,ug,xg,yg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Xf,$f;(g=b.viewport)&&"object"===typeof g||c.commandRaise(J,d);h=g.x|0;k=g.y|0;q="width"in
g?g.width|0:T.framebufferWidth-h;r="height"in g?g.height|0:T.framebufferHeight-k;0<=q&&0<=r||c.commandRaise(J,d);u=T.viewportWidth;T.viewportWidth=q;y=T.viewportHeight;T.viewportHeight=r;z=Bc[0];Bc[0]=a[8];F=Bc[1];Bc[1]=a[9];ta=Bc[2];Bc[2]=a[10];M=Bc[3];Bc[3]=a[11];B=id[0];id[0]=a[12];K=id[1];id[1]=a[13];Y=id[2];id[2]=a[14];P=id[3];id[3]=a[15];Q=yb.blend_enable;yb.blend_enable=a[16];S=pb[0];pb[0]=a[17];V=pb[1];pb[1]=a[18];X=pb[2];pb[2]=a[19];W=pb[3];pb[3]=a[20];ea=yb.depth_enable;yb.depth_enable=
a[21];(ga=b.viewport)&&"object"===typeof ga||c.commandRaise(A,d);oa=ga.x|0;Z=ga.y|0;xa="width"in ga?ga.width|0:T.framebufferWidth-oa;sd="height"in ga?ga.height|0:T.framebufferHeight-Z;0<=xa&&0<=sd||c.commandRaise(A,d);da=md[0];md[0]=a[22];ia=md[1];md[1]=a[23];U=md[2];md[2]=a[24];ja=md[3];md[3]=a[25];sa=yb.scissor_enable;yb.scissor_enable=a[26];Ba=yb.stencil_enable;yb.stencil_enable=a[27];if(Pc=ma.profile)ab=performance.now(),v.count++;Va=b.elements;Ta=null;(Xa=ba(Va))?Ta=wa.createStream(Va):(Ta=wa.getElements(Va),
Va&&!Ta&&c.commandRaise(l,d));Oa=x.elements;x.elements=a[28];0<=b.offset||c.commandRaise(lb,d);ua=x.offset;x.offset=a[29];ob=b.count;"number"===typeof ob&&0<=ob&&ob===(ob|0)||c.commandRaise(Wa,d);Ua=x.count;x.count=a[30];gb=x.primitive;x.primitive=a[31];Vb=Ac[a[32]];Ac[a[32]]=!1;rb=Ac[a[33]];Ac[a[33]]=p;hb=b.opacity;Kb=Ac[a[34]];Ac[a[34]]=hb;ka=Id.call(this,T,b,f);$b=Ac[a[35]];Ac[a[35]]=ka;Ra=T.pixelRatio;fb=Ac[a[36]];Ac[a[36]]=Ra;ya=b.scale;Wb=Ac[a[37]];Ac[a[37]]=ya;Aa=b.scaleFract;Fb=Ac[a[38]];
Ac[a[38]]=Aa;wb=b.translate;Ib=Ac[a[39]];Ac[a[39]]=wb;Zb=b.translateFract;Za=Ac[a[40]];Ac[a[40]]=Zb;pa=b.markerTexture;cb=Ac[a[41]];Ac[a[41]]=pa;(ra=Nb.call(this,T,b,f))&&("object"===typeof ra||"function"===typeof ra)&&(ba(ra)||L.getBuffer(ra)||L.getBuffer(ra.buffer)||ba(ra.buffer)||"constant"in ra&&("number"===typeof ra.constant||hc(ra.constant)))||c.commandRaise(kb,d);Ha=!1;Db=1;Ga=va=gc=Ca=0;$a=null;Qb=0;m=!1;w=5126;ac=Gc=Xc=0;ba(ra)?(Ha=!0,$a=L.createStream(34962,ra),w=$a.dtype):($a=L.getBuffer(ra))?
w=$a.dtype:"constant"in ra?(Db=2,"number"===typeof ra.constant?(Ca=ra.constant,gc=va=Ga=0):(Ca=0<ra.constant.length?ra.constant[0]:0,gc=1<ra.constant.length?ra.constant[1]:0,va=2<ra.constant.length?ra.constant[2]:0,Ga=3<ra.constant.length?ra.constant[3]:0)):($a=ba(ra.buffer)?L.createStream(34962,ra.buffer):L.getBuffer(ra.buffer),w="type"in ra?E[ra.type]:$a.dtype,m=!!ra.normalized,Qb=ra.size|0,Xc=ra.offset|0,Gc=ra.stride|0,ac=ra.divisor|0);Pa=fa.state;fa.state=Db;vb=fa.x;fa.x=Ca;bc=fa.y;fa.y=gc;tb=
fa.z;fa.z=va;Bb=fa.w;fa.w=Ga;Ub=fa.buffer;fa.buffer=$a;mb=fa.size;fa.size=Qb;Eb=fa.normalized;fa.normalized=m;la=fa.type;fa.type=w;fc=fa.offset;fa.offset=Xc;ha=fa.stride;fa.stride=Gc;Rb=fa.divisor;fa.divisor=ac;(La=ib.call(this,T,b,f))&&("object"===typeof La||"function"===typeof La)&&(ba(La)||L.getBuffer(La)||L.getBuffer(La.buffer)||ba(La.buffer)||"constant"in La&&("number"===typeof La.constant||hc(La.constant)))||c.commandRaise(aa,d);Lb=!1;Kd=1;xc=Jc=bb=Dc=0;yc=null;Le=0;xb=!1;hd=5126;nb=Fc=db=0;
ba(La)?(Lb=!0,yc=L.createStream(34962,La),hd=yc.dtype):(yc=L.getBuffer(La))?hd=yc.dtype:"constant"in La?(Kd=2,"number"===typeof La.constant?(Dc=La.constant,bb=Jc=xc=0):(Dc=0<La.constant.length?La.constant[0]:0,bb=1<La.constant.length?La.constant[1]:0,Jc=2<La.constant.length?La.constant[2]:0,xc=3<La.constant.length?La.constant[3]:0)):(yc=ba(La.buffer)?L.createStream(34962,La.buffer):L.getBuffer(La.buffer),hd="type"in La?E[La.type]:yc.dtype,xb=!!La.normalized,Le=La.size|0,db=La.offset|0,Fc=La.stride|
0,nb=La.divisor|0);Zc=za.state;za.state=Kd;Da=za.x;za.x=Dc;qd=za.y;za.y=bb;cc=za.z;za.z=Jc;pc=za.w;za.w=xc;Kc=za.buffer;za.buffer=yc;Na=za.size;za.size=Le;Cd=za.normalized;za.normalized=xb;Mb=za.type;za.type=hd;Hc=za.offset;za.offset=db;sb=za.stride;za.stride=Fc;Dd=za.divisor;za.divisor=nb;(na=Yb.call(this,T,b,f))&&("object"===typeof na||"function"===typeof na)&&(ba(na)||L.getBuffer(na)||L.getBuffer(na.buffer)||ba(na.buffer)||"constant"in na&&("number"===typeof na.constant||hc(na.constant)))||c.commandRaise(Ob,
d);Vc=!1;Ia=1;Ma=Rc=Ja=Nc=0;kd=null;Xb=0;Qd=!1;rc=5126;Vd=sc=fd=0;ba(na)?(Vc=!0,kd=L.createStream(34962,na),rc=kd.dtype):(kd=L.getBuffer(na))?rc=kd.dtype:"constant"in na?(Ia=2,"number"===typeof na.constant?(Nc=na.constant,Ja=Rc=Ma=0):(Nc=0<na.constant.length?na.constant[0]:0,Ja=1<na.constant.length?na.constant[1]:0,Rc=2<na.constant.length?na.constant[2]:0,Ma=3<na.constant.length?na.constant[3]:0)):(kd=ba(na.buffer)?L.createStream(34962,na.buffer):L.getBuffer(na.buffer),rc="type"in na?E[na.type]:kd.dtype,
Qd=!!na.normalized,Xb=na.size|0,fd=na.offset|0,sc=na.stride|0,Vd=na.divisor|0);gd=I.state;I.state=Ia;Tc=I.x;I.x=Nc;rd=I.y;I.y=Ja;Wc=I.z;I.z=Rc;ae=I.w;I.w=Ma;Sb=I.buffer;I.buffer=kd;ce=I.size;I.size=Xb;ec=I.normalized;I.normalized=Qd;me=I.type;I.type=rc;Tb=I.offset;I.offset=fd;Oc=I.stride;I.stride=sc;zc=I.divisor;I.divisor=Vd;(tc=O.call(this,T,b,f))&&("object"===typeof tc||"function"===typeof tc)&&(ba(tc)||L.getBuffer(tc)||L.getBuffer(tc.buffer)||ba(tc.buffer)||"constant"in tc&&("number"===typeof tc.constant||
hc(tc.constant)))||c.commandRaise(qa,d);Ed=!1;lc=1;Hd=zd=vd=Rd=0;yd=null;wd=0;pe=!1;uc=5126;de=Jb=Ad=0;ba(tc)?(Ed=!0,yd=L.createStream(34962,tc),uc=yd.dtype):(yd=L.getBuffer(tc))?uc=yd.dtype:"constant"in tc?(lc=2,"number"===typeof tc.constant?(Rd=tc.constant,vd=zd=Hd=0):(Rd=0<tc.constant.length?tc.constant[0]:0,vd=1<tc.constant.length?tc.constant[1]:0,zd=2<tc.constant.length?tc.constant[2]:0,Hd=3<tc.constant.length?tc.constant[3]:0)):(yd=ba(tc.buffer)?L.createStream(34962,tc.buffer):L.getBuffer(tc.buffer),
uc="type"in tc?E[tc.type]:yd.dtype,pe=!!tc.normalized,wd=tc.size|0,Ad=tc.offset|0,Jb=tc.stride|0,de=tc.divisor|0);dc=G.state;G.state=lc;kf=G.x;G.x=Rd;Mc=G.y;G.y=vd;Sd=G.z;G.z=zd;ge=G.w;G.w=Hd;De=G.buffer;G.buffer=yd;Je=G.size;G.size=wd;Fd=G.normalized;G.normalized=pe;Zd=G.type;G.type=uc;Gd=G.offset;G.offset=Ad;mc=G.stride;G.stride=Jb;dd=G.divisor;G.divisor=de;(Ec=Ea.call(this,T,b,f))&&("object"===typeof Ec||"function"===typeof Ec)&&(ba(Ec)||L.getBuffer(Ec)||L.getBuffer(Ec.buffer)||ba(Ec.buffer)||
"constant"in Ec&&("number"===typeof Ec.constant||hc(Ec.constant)))||c.commandRaise(Oe,d);Yc=!1;Td=1;Se=vc=ue=Md=0;xd=null;Ge=0;xe=!1;He=5126;Ee=we=Be=0;ba(Ec)?(Yc=!0,xd=L.createStream(34962,Ec),He=xd.dtype):(xd=L.getBuffer(Ec))?He=xd.dtype:"constant"in Ec?(Td=2,"number"===typeof Ec.constant?(Md=Ec.constant,ue=vc=Se=0):(Md=0<Ec.constant.length?Ec.constant[0]:0,ue=1<Ec.constant.length?Ec.constant[1]:0,vc=2<Ec.constant.length?Ec.constant[2]:0,Se=3<Ec.constant.length?Ec.constant[3]:0)):(xd=ba(Ec.buffer)?
L.createStream(34962,Ec.buffer):L.getBuffer(Ec.buffer),He="type"in Ec?E[Ec.type]:xd.dtype,xe=!!Ec.normalized,Ge=Ec.size|0,Be=Ec.offset|0,we=Ec.stride|0,Ee=Ec.divisor|0);bf=Fa.state;Fa.state=Td;cf=Fa.x;Fa.x=Md;Pe=Fa.y;Fa.y=ue;Ne=Fa.z;Fa.z=vc;Ue=Fa.w;Fa.w=Se;Te=Fa.buffer;Fa.buffer=xd;le=Fa.size;Fa.size=Ge;Ve=Fa.normalized;Fa.normalized=xe;ld=Fa.type;Fa.type=He;Me=Fa.offset;Fa.offset=Be;$c=Fa.stride;Fa.stride=we;bg=Fa.divisor;Fa.divisor=Ee;(Wd=C.call(this,T,b,f))&&("object"===typeof Wd||"function"===
typeof Wd)&&(ba(Wd)||L.getBuffer(Wd)||L.getBuffer(Wd.buffer)||ba(Wd.buffer)||"constant"in Wd&&("number"===typeof Wd.constant||hc(Wd.constant)))||c.commandRaise(N,d);Xe=!1;Ye=1;hf=Ke=vf=Ce=0;We=null;df=0;lf=!1;jf=5126;ve=Nf=se=0;ba(Wd)?(Xe=!0,We=L.createStream(34962,Wd),jf=We.dtype):(We=L.getBuffer(Wd))?jf=We.dtype:"constant"in Wd?(Ye=2,"number"===typeof Wd.constant?(Ce=Wd.constant,vf=Ke=hf=0):(Ce=0<Wd.constant.length?Wd.constant[0]:0,vf=1<Wd.constant.length?Wd.constant[1]:0,Ke=2<Wd.constant.length?
Wd.constant[2]:0,hf=3<Wd.constant.length?Wd.constant[3]:0)):(We=ba(Wd.buffer)?L.createStream(34962,Wd.buffer):L.getBuffer(Wd.buffer),jf="type"in Wd?E[Wd.type]:We.dtype,lf=!!Wd.normalized,df=Wd.size|0,se=Wd.offset|0,Nf=Wd.stride|0,ve=Wd.divisor|0);Gb=Sa.state;Sa.state=Ye;mf=Sa.x;Sa.x=Ce;fg=Sa.y;Sa.y=vf;nf=Sa.z;Sa.z=Ke;pd=Sa.w;Sa.w=hf;oc=Sa.buffer;Sa.buffer=We;of=Sa.size;Sa.size=df;Bf=Sa.normalized;Sa.normalized=lf;wf=Sa.type;Sa.type=jf;ad=Sa.offset;Sa.offset=se;te=Sa.stride;Sa.stride=Nf;Cf=Sa.divisor;
Sa.divisor=ve;(ze=Ab.call(this,T,b,f))&&("object"===typeof ze||"function"===typeof ze)&&(ba(ze)||L.getBuffer(ze)||L.getBuffer(ze.buffer)||ba(ze.buffer)||"constant"in ze&&("number"===typeof ze.constant||hc(ze.constant)))||c.commandRaise(jb,d);Df=!1;tf=1;Ef=pf=Jf=If=0;xf=null;Kf=0;Jd=!1;Lf=5126;Rh=he=Mf=0;ba(ze)?(Df=!0,xf=L.createStream(34962,ze),Lf=xf.dtype):(xf=L.getBuffer(ze))?Lf=xf.dtype:"constant"in ze?(tf=2,"number"===typeof ze.constant?(If=ze.constant,Jf=pf=Ef=0):(If=0<ze.constant.length?ze.constant[0]:
0,Jf=1<ze.constant.length?ze.constant[1]:0,pf=2<ze.constant.length?ze.constant[2]:0,Ef=3<ze.constant.length?ze.constant[3]:0)):(xf=ba(ze.buffer)?L.createStream(34962,ze.buffer):L.getBuffer(ze.buffer),Lf="type"in ze?E[ze.type]:xf.dtype,Jd=!!ze.normalized,Kf=ze.size|0,Mf=ze.offset|0,he=ze.stride|0,Rh=ze.divisor|0);Sh=H.state;H.state=tf;Rf=H.x;H.x=If;Of=H.y;H.y=Jf;yf=H.z;H.z=pf;Wf=H.w;H.w=Ef;Pf=H.buffer;H.buffer=xf;zf=H.size;H.size=Kf;Gf=H.normalized;H.normalized=Jd;sf=H.type;H.type=Lf;Th=H.offset;H.offset=
Mf;Fe=H.stride;H.stride=he;Ae=H.divisor;H.divisor=Rh;(Ze=n.call(this,T,b,f))&&("object"===typeof Ze||"function"===typeof Ze)&&(ba(Ze)||L.getBuffer(Ze)||L.getBuffer(Ze.buffer)||ba(Ze.buffer)||"constant"in Ze&&("number"===typeof Ze.constant||hc(Ze.constant)))||c.commandRaise(t,d);ff=!1;qf=1;uf=Yf=Ie=Re=0;cg=null;ig=0;Hf=!1;jg=5126;Ff=Sf=sg=0;ba(Ze)?(ff=!0,cg=L.createStream(34962,Ze),jg=cg.dtype):(cg=L.getBuffer(Ze))?jg=cg.dtype:"constant"in Ze?(qf=2,"number"===typeof Ze.constant?(Re=Ze.constant,Ie=
Yf=uf=0):(Re=0<Ze.constant.length?Ze.constant[0]:0,Ie=1<Ze.constant.length?Ze.constant[1]:0,Yf=2<Ze.constant.length?Ze.constant[2]:0,uf=3<Ze.constant.length?Ze.constant[3]:0)):(cg=ba(Ze.buffer)?L.createStream(34962,Ze.buffer):L.getBuffer(Ze.buffer),jg="type"in Ze?E[Ze.type]:cg.dtype,Hf=!!Ze.normalized,ig=Ze.size|0,sg=Ze.offset|0,Sf=Ze.stride|0,Ff=Ze.divisor|0);Tf=D.state;D.state=qf;Uf=D.x;D.x=Re;Vf=D.y;D.y=Ie;zg=D.z;D.z=Yf;Ag=D.w;D.w=uf;Bg=D.buffer;D.buffer=cg;Cg=D.size;D.size=ig;Dg=D.normalized;
D.normalized=Hf;Eg=D.type;D.type=jg;Fg=D.offset;D.offset=sg;ef=D.stride;D.stride=Sf;wg=D.divisor;D.divisor=Ff;($e=ca.call(this,T,b,f))&&("object"===typeof $e||"function"===typeof $e)&&(ba($e)||L.getBuffer($e)||L.getBuffer($e.buffer)||ba($e.buffer)||"constant"in $e&&("number"===typeof $e.constant||hc($e.constant)))||c.commandRaise(Ka,d);pg=!1;qg=1;rg=Zf=lg=kg=0;dg=null;mg=0;tg=!1;ng=5126;yg=xg=ug=0;ba($e)?(pg=!0,dg=L.createStream(34962,$e),ng=dg.dtype):(dg=L.getBuffer($e))?ng=dg.dtype:"constant"in
$e?(qg=2,"number"===typeof $e.constant?(kg=$e.constant,lg=Zf=rg=0):(kg=0<$e.constant.length?$e.constant[0]:0,lg=1<$e.constant.length?$e.constant[1]:0,Zf=2<$e.constant.length?$e.constant[2]:0,rg=3<$e.constant.length?$e.constant[3]:0)):(dg=ba($e.buffer)?L.createStream(34962,$e.buffer):L.getBuffer($e.buffer),ng="type"in $e?E[$e.type]:dg.dtype,tg=!!$e.normalized,mg=$e.size|0,ug=$e.offset|0,xg=$e.stride|0,yg=$e.divisor|0);Gg=R.state;R.state=qg;Hg=R.x;R.x=kg;Ig=R.y;R.y=lg;Jg=R.z;R.z=Zf;Kg=R.w;R.w=rg;Lg=
R.buffer;R.buffer=dg;Mg=R.size;R.size=mg;Ng=R.normalized;R.normalized=tg;Og=R.type;R.type=ng;Pg=R.offset;R.offset=ug;Qg=R.stride;R.stride=xg;Rg=R.divisor;R.divisor=yg;Xf=ed.vert;ed.vert=a[42];$f=ed.frag;ed.frag=a[43];ma.dirty=!0;e(T,b,f);T.viewportWidth=u;T.viewportHeight=y;Bc[0]=z;Bc[1]=F;Bc[2]=ta;Bc[3]=M;id[0]=B;id[1]=K;id[2]=Y;id[3]=P;yb.blend_enable=Q;pb[0]=S;pb[1]=V;pb[2]=X;pb[3]=W;yb.depth_enable=ea;md[0]=da;md[1]=ia;md[2]=U;md[3]=ja;yb.scissor_enable=sa;yb.stencil_enable=Ba;Pc&&(v.cpuTime+=
performance.now()-ab);Xa&&wa.destroyStream(Ta);x.elements=Oa;x.offset=ua;x.count=Ua;x.primitive=gb;Ac[a[32]]=Vb;Ac[a[33]]=rb;Ac[a[34]]=Kb;Ac[a[35]]=$b;Ac[a[36]]=fb;Ac[a[37]]=Wb;Ac[a[38]]=Fb;Ac[a[39]]=Ib;Ac[a[40]]=Za;Ac[a[41]]=cb;Ha&&L.destroyStream($a);fa.state=Pa;fa.x=vb;fa.y=bc;fa.z=tb;fa.w=Bb;fa.buffer=Ub;fa.size=mb;fa.normalized=Eb;fa.type=la;fa.offset=fc;fa.stride=ha;fa.divisor=Rb;Lb&&L.destroyStream(yc);za.state=Zc;za.x=Da;za.y=qd;za.z=cc;za.w=pc;za.buffer=Kc;za.size=Na;za.normalized=Cd;za.type=
Mb;za.offset=Hc;za.stride=sb;za.divisor=Dd;Vc&&L.destroyStream(kd);I.state=gd;I.x=Tc;I.y=rd;I.z=Wc;I.w=ae;I.buffer=Sb;I.size=ce;I.normalized=ec;I.type=me;I.offset=Tb;I.stride=Oc;I.divisor=zc;Ed&&L.destroyStream(yd);G.state=dc;G.x=kf;G.y=Mc;G.z=Sd;G.w=ge;G.buffer=De;G.size=Je;G.normalized=Fd;G.type=Zd;G.offset=Gd;G.stride=mc;G.divisor=dd;Yc&&L.destroyStream(xd);Fa.state=bf;Fa.x=cf;Fa.y=Pe;Fa.z=Ne;Fa.w=Ue;Fa.buffer=Te;Fa.size=le;Fa.normalized=Ve;Fa.type=ld;Fa.offset=Me;Fa.stride=$c;Fa.divisor=bg;Xe&&
L.destroyStream(We);Sa.state=Gb;Sa.x=mf;Sa.y=fg;Sa.z=nf;Sa.w=pd;Sa.buffer=oc;Sa.size=of;Sa.normalized=Bf;Sa.type=wf;Sa.offset=ad;Sa.stride=te;Sa.divisor=Cf;Df&&L.destroyStream(xf);H.state=Sh;H.x=Rf;H.y=Of;H.z=yf;H.w=Wf;H.buffer=Pf;H.size=zf;H.normalized=Gf;H.type=sf;H.offset=Th;H.stride=Fe;H.divisor=Ae;ff&&L.destroyStream(cg);D.state=Tf;D.x=Uf;D.y=Vf;D.z=zg;D.w=Ag;D.buffer=Bg;D.size=Cg;D.normalized=Dg;D.type=Eg;D.offset=Fg;D.stride=ef;D.divisor=wg;pg&&L.destroyStream(dg);R.state=Gg;R.x=Hg;R.y=Ig;
R.z=Jg;R.w=Kg;R.buffer=Lg;R.size=Mg;R.normalized=Ng;R.type=Og;R.offset=Pg;R.stride=Qg;R.divisor=Rg;ed.vert=Xf;ed.frag=$f;ma.dirty=!0},batch:function(b,f){var p,D,H,I,G,R;p=sa.next;p!==sa.cur&&(p?z.bindFramebuffer(36160,p.framebuffer):z.bindFramebuffer(36160,null),sa.cur=p);if(ma.dirty){var za,fa,Fa,Sa,pb,Bc,md,nc,Ac,zb,id,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua;za=yb.dither;za!==ma.dither&&(za?z.enable(3024):z.disable(3024),ma.dither=za);fa=Tc[0];Fa=Tc[1];if(fa!==Eb[0]||
Fa!==Eb[1])z.blendEquationSeparate(fa,Fa),Eb[0]=fa,Eb[1]=Fa;Sa=yb.depth_func;Sa!==ma.depth_func&&(z.depthFunc(Sa),ma.depth_func=Sa);pb=tb[0];Bc=tb[1];if(pb!==Xa[0]||Bc!==Xa[1])z.depthRange(pb,Bc),Xa[0]=pb,Xa[1]=Bc;md=yb.depth_mask;md!==ma.depth_mask&&(z.depthMask(md),ma.depth_mask=md);nc=Ta[0];Ac=Ta[1];zb=Ta[2];id=Ta[3];if(nc!==r[0]||Ac!==r[1]||zb!==r[2]||id!==r[3])z.colorMask(nc,Ac,zb,id),r[0]=nc,r[1]=Ac,r[2]=zb,r[3]=id;Bd=yb.cull_enable;Bd!==ma.cull_enable&&(Bd?z.enable(2884):z.disable(2884),ma.cull_enable=
Bd);Sc=yb.cull_face;Sc!==ma.cull_face&&(z.cullFace(Sc),ma.cull_face=Sc);ic=yb.frontFace;ic!==ma.frontFace&&(z.frontFace(ic),ma.frontFace=ic);jc=yb.lineWidth;jc!==ma.lineWidth&&(z.lineWidth(jc),ma.lineWidth=jc);Nd=yb.polygonOffset_enable;Nd!==ma.polygonOffset_enable&&(Nd?z.enable(32823):z.disable(32823),ma.polygonOffset_enable=Nd);bd=u[0];Cb=u[1];if(bd!==F[0]||Cb!==F[1])z.polygonOffset(bd,Cb),F[0]=bd,F[1]=Cb;td=yb.sample_alpha;td!==ma.sample_alpha&&(td?z.enable(32926):z.disable(32926),ma.sample_alpha=
td);ud=yb.sample_enable;ud!==ma.sample_enable&&(ud?z.enable(32928):z.disable(32928),ma.sample_enable=ud);cd=y[0];Hb=y[1];if(cd!==M[0]||Hb!==M[1])z.sampleCoverage(cd,Hb),M[0]=cd,M[1]=Hb;Ya=yb.stencil_mask;Ya!==ma.stencil_mask&&(z.stencilMask(Ya),ma.stencil_mask=Ya);ub=xa[0];ja=xa[1];eb=xa[2];if(ub!==ga[0]||ja!==ga[1]||eb!==ga[2])z.stencilFunc(ub,ja,eb),ga[0]=ub,ga[1]=ja,ga[2]=eb;Qa=oa[0];qb=oa[1];ab=oa[2];Va=oa[3];if(Qa!==ea[0]||qb!==ea[1]||ab!==ea[2]||Va!==ea[3])z.stencilOpSeparate(Qa,qb,ab,Va),ea[0]=
Qa,ea[1]=qb,ea[2]=ab,ea[3]=Va;Pb=qd[0];Cc=qd[1];Oa=qd[2];ua=qd[3];if(Pb!==Kd[0]||Cc!==Kd[1]||Oa!==Kd[2]||ua!==Kd[3])z.stencilOpSeparate(Pb,Cc,Oa,ua),Kd[0]=Pb,Kd[1]=Cc,Kd[2]=Oa,Kd[3]=ua}z.blendColor(0,0,0,1);Hc[0]=0;Hc[1]=0;Hc[2]=0;Hc[3]=1;a[44]?z.enable(3042):z.disable(3042);ma.blend_enable=a[45];z.blendFuncSeparate(770,771,773,1);Kc[0]=770;Kc[1]=771;Kc[2]=773;Kc[3]=1;a[46]?z.enable(2929):z.disable(2929);ma.depth_enable=a[47];a[48]?z.enable(3089):z.disable(3089);ma.scissor_enable=a[49];a[50]?z.enable(2960):
z.disable(2960);ma.stencil_enable=a[51];if(D=ma.profile)H=performance.now(),v.count+=f;z.useProgram(k.program);I=Nc.angle_instanced_arrays;var Uc;Je.setVAO(null);z.uniform1i(X.location,!1);z.uniform1i(e.location,sd.bind());Uc=x.instances;for(G=0;G<f;++G){R=b[G];var Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,
kd,Xb,Qd,rc,fd,sc,ed,gd,ye,rd,Wc,ae,Sb,ce,ec,rf,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,ag,Af,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,Gb,Wd,Xe,Ye,Ce,vf,Ke,hf,We,df,lf,jf,se,Nf,ve,pd,mf,oc,nf,ad,Jd,of,Bf,wf,he,te,Cf,ze,Df,tf,If,Jf,pf,Ef,xf,Kf,sf,Lf,Mf,Re,Ie,ff,Rf,Of,yf,Wf,Pf,zf,Gf,qf,Ae,Fe;(Ua=R.viewport)&&"object"===typeof Ua||c.commandRaise(J,d);gb=Ua.x|0;kc=Ua.y|0;rb="width"in Ua?Ua.width|0:T.framebufferWidth-gb;hb="height"in
Ua?Ua.height|0:T.framebufferHeight-kc;0<=rb&&0<=hb||c.commandRaise(J,d);wc=T.viewportWidth;T.viewportWidth=rb;ka=T.viewportHeight;T.viewportHeight=hb;z.viewport(gb,kc,rb,hb);Pc[0]=gb;Pc[1]=kc;Pc[2]=rb;Pc[3]=hb;(qc=R.viewport)&&"object"===typeof qc||c.commandRaise(A,d);Ra=qc.x|0;fb=qc.y|0;ya="width"in qc?qc.width|0:T.framebufferWidth-Ra;Wb="height"in qc?qc.height|0:T.framebufferHeight-fb;0<=ya&&0<=Wb||c.commandRaise(A,d);z.scissor(Ra,fb,ya,Wb);Vd[0]=Ra;Vd[1]=fb;Vd[2]=ya;Vd[3]=Wb;(Aa=n.call(this,T,
R,G))&&("object"===typeof Aa||"function"===typeof Aa)&&(ba(Aa)||L.getBuffer(Aa)||L.getBuffer(Aa.buffer)||ba(Aa.buffer)||"constant"in Aa&&("number"===typeof Aa.constant||hc(Aa.constant)))||c.commandRaise(t,d);Fb=!1;wb=1;pa=Za=Zb=Ib=0;cb=null;ra=0;Ha=!1;Db=5126;va=gc=Ca=0;ba(Aa)?(Fb=!0,cb=L.createStream(34962,Aa),Db=cb.dtype):(cb=L.getBuffer(Aa))?Db=cb.dtype:"constant"in Aa?(wb=2,"number"===typeof Aa.constant?(Ib=Aa.constant,Zb=Za=pa=0):(Ib=0<Aa.constant.length?Aa.constant[0]:0,Zb=1<Aa.constant.length?
Aa.constant[1]:0,Za=2<Aa.constant.length?Aa.constant[2]:0,pa=3<Aa.constant.length?Aa.constant[3]:0)):(cb=ba(Aa.buffer)?L.createStream(34962,Aa.buffer):L.getBuffer(Aa.buffer),Db="type"in Aa?E[Aa.type]:cb.dtype,Ha=!!Aa.normalized,ra=Aa.size|0,Ca=Aa.offset|0,gc=Aa.stride|0,va=Aa.divisor|0);Ga=h.location;$a=vb[Ga];if(1===wb){$a.buffer||z.enableVertexAttribArray(Ga);Qb=ra||4;if($a.type!==Db||$a.size!==Qb||$a.buffer!==cb||$a.normalized!==Ha||$a.offset!==Ca||$a.stride!==gc)z.bindBuffer(34962,cb.buffer),
z.vertexAttribPointer(Ga,Qb,Db,Ha,gc,Ca),$a.type=Db,$a.size=Qb,$a.buffer=cb,$a.normalized=Ha,$a.offset=Ca,$a.stride=gc;$a.divisor!==va&&(I.vertexAttribDivisorANGLE(Ga,va),$a.divisor=va)}else if($a.buffer&&(z.disableVertexAttribArray(Ga),$a.buffer=null),$a.x!==Ib||$a.y!==Zb||$a.z!==Za||$a.w!==pa)z.vertexAttrib4f(Ga,Ib,Zb,Za,pa),$a.x=Ib,$a.y=Zb,$a.z=Za,$a.w=pa;(m=C.call(this,T,R,G))&&("object"===typeof m||"function"===typeof m)&&(ba(m)||L.getBuffer(m)||L.getBuffer(m.buffer)||ba(m.buffer)||"constant"in
m&&("number"===typeof m.constant||hc(m.constant)))||c.commandRaise(N,d);w=!1;Xc=1;Ic=Pa=ac=Gc=0;bc=null;od=0;Bb=!1;Od=5126;la=Ld=mb=0;ba(m)?(w=!0,bc=L.createStream(34962,m),Od=bc.dtype):(bc=L.getBuffer(m))?Od=bc.dtype:"constant"in m?(Xc=2,"number"===typeof m.constant?(Gc=m.constant,ac=Pa=Ic=0):(Gc=0<m.constant.length?m.constant[0]:0,ac=1<m.constant.length?m.constant[1]:0,Pa=2<m.constant.length?m.constant[2]:0,Ic=3<m.constant.length?m.constant[3]:0)):(bc=ba(m.buffer)?L.createStream(34962,m.buffer):
L.getBuffer(m.buffer),Od="type"in m?E[m.type]:bc.dtype,Bb=!!m.normalized,od=m.size|0,mb=m.offset|0,Ld=m.stride|0,la=m.divisor|0);Xd=U.location;ha=vb[Xd];if(1===Xc){ha.buffer||z.enableVertexAttribArray(Xd);Rb=od||1;if(ha.type!==Od||ha.size!==Rb||ha.buffer!==bc||ha.normalized!==Bb||ha.offset!==mb||ha.stride!==Ld)z.bindBuffer(34962,bc.buffer),z.vertexAttribPointer(Xd,Rb,Od,Bb,Ld,mb),ha.type=Od,ha.size=Rb,ha.buffer=bc,ha.normalized=Bb,ha.offset=mb,ha.stride=Ld;ha.divisor!==la&&(I.vertexAttribDivisorANGLE(Xd,
la),ha.divisor=la)}else if(ha.buffer&&(z.disableVertexAttribArray(Xd),ha.buffer=null),ha.x!==Gc||ha.y!==ac||ha.z!==Pa||ha.w!==Ic)z.vertexAttrib4f(Xd,Gc,ac,Pa,Ic),ha.x=Gc,ha.y=ac,ha.z=Pa,ha.w=Ic;(La=Ab.call(this,T,R,G))&&("object"===typeof La||"function"===typeof La)&&(ba(La)||L.getBuffer(La)||L.getBuffer(La.buffer)||ba(La.buffer)||"constant"in La&&("number"===typeof La.constant||hc(La.constant)))||c.commandRaise(jb,d);Lb=!1;re=1;xc=Jc=bb=Dc=0;yc=null;Yd=0;xb=!1;hd=5126;nb=Fc=db=0;ba(La)?(Lb=!0,yc=
L.createStream(34962,La),hd=yc.dtype):(yc=L.getBuffer(La))?hd=yc.dtype:"constant"in La?(re=2,"number"===typeof La.constant?(Dc=La.constant,bb=Jc=xc=0):(Dc=0<La.constant.length?La.constant[0]:0,bb=1<La.constant.length?La.constant[1]:0,Jc=2<La.constant.length?La.constant[2]:0,xc=3<La.constant.length?La.constant[3]:0)):(yc=ba(La.buffer)?L.createStream(34962,La.buffer):L.getBuffer(La.buffer),hd="type"in La?E[La.type]:yc.dtype,xb=!!La.normalized,Yd=La.size|0,db=La.offset|0,Fc=La.stride|0,nb=La.divisor|
0);Zc=ia.location;Da=vb[Zc];if(1===re){Da.buffer||z.enableVertexAttribArray(Zc);Pd=Yd||4;if(Da.type!==hd||Da.size!==Pd||Da.buffer!==yc||Da.normalized!==xb||Da.offset!==db||Da.stride!==Fc)z.bindBuffer(34962,yc.buffer),z.vertexAttribPointer(Zc,Pd,hd,xb,Fc,db),Da.type=hd,Da.size=Pd,Da.buffer=yc,Da.normalized=xb,Da.offset=db,Da.stride=Fc;Da.divisor!==nb&&(I.vertexAttribDivisorANGLE(Zc,nb),Da.divisor=nb)}else if(Da.buffer&&(z.disableVertexAttribArray(Zc),Da.buffer=null),Da.x!==Dc||Da.y!==bb||Da.z!==Jc||
Da.w!==xc)z.vertexAttrib4f(Zc,Dc,bb,Jc,xc),Da.x=Dc,Da.y=bb,Da.z=Jc,Da.w=xc;(cc=ca.call(this,T,R,G))&&("object"===typeof cc||"function"===typeof cc)&&(ba(cc)||L.getBuffer(cc)||L.getBuffer(cc.buffer)||ba(cc.buffer)||"constant"in cc&&("number"===typeof cc.constant||hc(cc.constant)))||c.commandRaise(Ka,d);pc=!1;$d=1;ie=Mb=Cd=Na=0;sb=null;Dd=0;na=!1;Vc=5126;Ja=fe=Ia=0;ba(cc)?(pc=!0,sb=L.createStream(34962,cc),Vc=sb.dtype):(sb=L.getBuffer(cc))?Vc=sb.dtype:"constant"in cc?($d=2,"number"===typeof cc.constant?
(Na=cc.constant,Cd=Mb=ie=0):(Na=0<cc.constant.length?cc.constant[0]:0,Cd=1<cc.constant.length?cc.constant[1]:0,Mb=2<cc.constant.length?cc.constant[2]:0,ie=3<cc.constant.length?cc.constant[3]:0)):(sb=ba(cc.buffer)?L.createStream(34962,cc.buffer):L.getBuffer(cc.buffer),Vc="type"in cc?E[cc.type]:sb.dtype,na=!!cc.normalized,Dd=cc.size|0,Ia=cc.offset|0,fe=cc.stride|0,Ja=cc.divisor|0);Rc=Ba.location;Ma=vb[Rc];if(1===$d){Ma.buffer||z.enableVertexAttribArray(Rc);kd=Dd||1;if(Ma.type!==Vc||Ma.size!==kd||Ma.buffer!==
sb||Ma.normalized!==na||Ma.offset!==Ia||Ma.stride!==fe)z.bindBuffer(34962,sb.buffer),z.vertexAttribPointer(Rc,kd,Vc,na,fe,Ia),Ma.type=Vc,Ma.size=kd,Ma.buffer=sb,Ma.normalized=na,Ma.offset=Ia,Ma.stride=fe;Ma.divisor!==Ja&&(I.vertexAttribDivisorANGLE(Rc,Ja),Ma.divisor=Ja)}else if(Ma.buffer&&(z.disableVertexAttribArray(Rc),Ma.buffer=null),Ma.x!==Na||Ma.y!==Cd||Ma.z!==Mb||Ma.w!==ie)z.vertexAttrib4f(Rc,Na,Cd,Mb,ie),Ma.x=Na,Ma.y=Cd,Ma.z=Mb,Ma.w=ie;(Xb=Ea.call(this,T,R,G))&&("object"===typeof Xb||"function"===
typeof Xb)&&(ba(Xb)||L.getBuffer(Xb)||L.getBuffer(Xb.buffer)||ba(Xb.buffer)||"constant"in Xb&&("number"===typeof Xb.constant||hc(Xb.constant)))||c.commandRaise(Oe,d);Qd=!1;rc=1;gd=ed=sc=fd=0;ye=null;rd=0;Wc=!1;ae=5126;ec=ce=Sb=0;ba(Xb)?(Qd=!0,ye=L.createStream(34962,Xb),ae=ye.dtype):(ye=L.getBuffer(Xb))?ae=ye.dtype:"constant"in Xb?(rc=2,"number"===typeof Xb.constant?(fd=Xb.constant,sc=ed=gd=0):(fd=0<Xb.constant.length?Xb.constant[0]:0,sc=1<Xb.constant.length?Xb.constant[1]:0,ed=2<Xb.constant.length?
Xb.constant[2]:0,gd=3<Xb.constant.length?Xb.constant[3]:0)):(ye=ba(Xb.buffer)?L.createStream(34962,Xb.buffer):L.getBuffer(Xb.buffer),ae="type"in Xb?E[Xb.type]:ye.dtype,Wc=!!Xb.normalized,rd=Xb.size|0,Sb=Xb.offset|0,ce=Xb.stride|0,ec=Xb.divisor|0);rf=Ub.location;Tb=vb[rf];if(1===rc){Tb.buffer||z.enableVertexAttribArray(rf);Oc=rd||1;if(Tb.type!==ae||Tb.size!==Oc||Tb.buffer!==ye||Tb.normalized!==Wc||Tb.offset!==Sb||Tb.stride!==ce)z.bindBuffer(34962,ye.buffer),z.vertexAttribPointer(rf,Oc,ae,Wc,ce,Sb),
Tb.type=ae,Tb.size=Oc,Tb.buffer=ye,Tb.normalized=Wc,Tb.offset=Sb,Tb.stride=ce;Tb.divisor!==ec&&(I.vertexAttribDivisorANGLE(rf,ec),Tb.divisor=ec)}else if(Tb.buffer&&(z.disableVertexAttribArray(rf),Tb.buffer=null),Tb.x!==fd||Tb.y!==sc||Tb.z!==ed||Tb.w!==gd)z.vertexAttrib4f(rf,fd,sc,ed,gd),Tb.x=fd,Tb.y=sc,Tb.z=ed,Tb.w=gd;(zc=Nb.call(this,T,R,G))&&("object"===typeof zc||"function"===typeof zc)&&(ba(zc)||L.getBuffer(zc)||L.getBuffer(zc.buffer)||ba(zc.buffer)||"constant"in zc&&("number"===typeof zc.constant||
hc(zc.constant)))||c.commandRaise(kb,d);tc=!1;Ed=1;zd=vd=Rd=lc=0;Hd=null;yd=0;wd=!1;pe=5126;Jb=Ad=uc=0;ba(zc)?(tc=!0,Hd=L.createStream(34962,zc),pe=Hd.dtype):(Hd=L.getBuffer(zc))?pe=Hd.dtype:"constant"in zc?(Ed=2,"number"===typeof zc.constant?(lc=zc.constant,Rd=vd=zd=0):(lc=0<zc.constant.length?zc.constant[0]:0,Rd=1<zc.constant.length?zc.constant[1]:0,vd=2<zc.constant.length?zc.constant[2]:0,zd=3<zc.constant.length?zc.constant[3]:0)):(Hd=ba(zc.buffer)?L.createStream(34962,zc.buffer):L.getBuffer(zc.buffer),
pe="type"in zc?E[zc.type]:Hd.dtype,wd=!!zc.normalized,yd=zc.size|0,uc=zc.offset|0,Ad=zc.stride|0,Jb=zc.divisor|0);de=fc.location;dc=vb[de];if(1===Ed){dc.buffer||z.enableVertexAttribArray(de);kf=yd||1;if(dc.type!==pe||dc.size!==kf||dc.buffer!==Hd||dc.normalized!==wd||dc.offset!==uc||dc.stride!==Ad)z.bindBuffer(34962,Hd.buffer),z.vertexAttribPointer(de,kf,pe,wd,Ad,uc),dc.type=pe,dc.size=kf,dc.buffer=Hd,dc.normalized=wd,dc.offset=uc,dc.stride=Ad;dc.divisor!==Jb&&(I.vertexAttribDivisorANGLE(de,Jb),dc.divisor=
Jb)}else if(dc.buffer&&(z.disableVertexAttribArray(de),dc.buffer=null),dc.x!==lc||dc.y!==Rd||dc.z!==vd||dc.w!==zd)z.vertexAttrib4f(de,lc,Rd,vd,zd),dc.x=lc,dc.y=Rd,dc.z=vd,dc.w=zd;(Mc=Yb.call(this,T,R,G))&&("object"===typeof Mc||"function"===typeof Mc)&&(ba(Mc)||L.getBuffer(Mc)||L.getBuffer(Mc.buffer)||ba(Mc.buffer)||"constant"in Mc&&("number"===typeof Mc.constant||hc(Mc.constant)))||c.commandRaise(Ob,d);Sd=!1;ge=1;Zd=Fd=Af=ag=0;Gd=null;mc=0;dd=!1;Ec=5126;Md=Td=Yc=0;ba(Mc)?(Sd=!0,Gd=L.createStream(34962,
Mc),Ec=Gd.dtype):(Gd=L.getBuffer(Mc))?Ec=Gd.dtype:"constant"in Mc?(ge=2,"number"===typeof Mc.constant?(ag=Mc.constant,Af=Fd=Zd=0):(ag=0<Mc.constant.length?Mc.constant[0]:0,Af=1<Mc.constant.length?Mc.constant[1]:0,Fd=2<Mc.constant.length?Mc.constant[2]:0,Zd=3<Mc.constant.length?Mc.constant[3]:0)):(Gd=ba(Mc.buffer)?L.createStream(34962,Mc.buffer):L.getBuffer(Mc.buffer),Ec="type"in Mc?E[Mc.type]:Gd.dtype,dd=!!Mc.normalized,mc=Mc.size|0,Yc=Mc.offset|0,Td=Mc.stride|0,Md=Mc.divisor|0);ue=ob.location;vc=
vb[ue];if(1===ge){vc.buffer||z.enableVertexAttribArray(ue);Se=mc||1;if(vc.type!==Ec||vc.size!==Se||vc.buffer!==Gd||vc.normalized!==dd||vc.offset!==Yc||vc.stride!==Td)z.bindBuffer(34962,Gd.buffer),z.vertexAttribPointer(ue,Se,Ec,dd,Td,Yc),vc.type=Ec,vc.size=Se,vc.buffer=Gd,vc.normalized=dd,vc.offset=Yc,vc.stride=Td;vc.divisor!==Md&&(I.vertexAttribDivisorANGLE(ue,Md),vc.divisor=Md)}else if(vc.buffer&&(z.disableVertexAttribArray(ue),vc.buffer=null),vc.x!==ag||vc.y!==Af||vc.z!==Fd||vc.w!==Zd)z.vertexAttrib4f(ue,
ag,Af,Fd,Zd),vc.x=ag,vc.y=Af,vc.z=Fd,vc.w=Zd;(xd=ib.call(this,T,R,G))&&("object"===typeof xd||"function"===typeof xd)&&(ba(xd)||L.getBuffer(xd)||L.getBuffer(xd.buffer)||ba(xd.buffer)||"constant"in xd&&("number"===typeof xd.constant||hc(xd.constant)))||c.commandRaise(aa,d);Ge=!1;xe=1;Ee=we=Be=He=0;bf=null;cf=0;Pe=!1;Ne=5126;le=Te=Ue=0;ba(xd)?(Ge=!0,bf=L.createStream(34962,xd),Ne=bf.dtype):(bf=L.getBuffer(xd))?Ne=bf.dtype:"constant"in xd?(xe=2,"number"===typeof xd.constant?(He=xd.constant,Be=we=Ee=
0):(He=0<xd.constant.length?xd.constant[0]:0,Be=1<xd.constant.length?xd.constant[1]:0,we=2<xd.constant.length?xd.constant[2]:0,Ee=3<xd.constant.length?xd.constant[3]:0)):(bf=ba(xd.buffer)?L.createStream(34962,xd.buffer):L.getBuffer(xd.buffer),Ne="type"in xd?E[xd.type]:bf.dtype,Pe=!!xd.normalized,cf=xd.size|0,Ue=xd.offset|0,Te=xd.stride|0,le=xd.divisor|0);Ve=da.location;ld=vb[Ve];if(1===xe){ld.buffer||z.enableVertexAttribArray(Ve);Me=cf||1;if(ld.type!==Ne||ld.size!==Me||ld.buffer!==bf||ld.normalized!==
Pe||ld.offset!==Ue||ld.stride!==Te)z.bindBuffer(34962,bf.buffer),z.vertexAttribPointer(Ve,Me,Ne,Pe,Te,Ue),ld.type=Ne,ld.size=Me,ld.buffer=bf,ld.normalized=Pe,ld.offset=Ue,ld.stride=Te;ld.divisor!==le&&(I.vertexAttribDivisorANGLE(Ve,le),ld.divisor=le)}else if(ld.buffer&&(z.disableVertexAttribArray(Ve),ld.buffer=null),ld.x!==He||ld.y!==Be||ld.z!==we||ld.w!==Ee)z.vertexAttrib4f(Ve,He,Be,we,Ee),ld.x=He,ld.y=Be,ld.z=we,ld.w=Ee;($c=O.call(this,T,R,G))&&("object"===typeof $c||"function"===typeof $c)&&(ba($c)||
L.getBuffer($c)||L.getBuffer($c.buffer)||ba($c.buffer)||"constant"in $c&&("number"===typeof $c.constant||hc($c.constant)))||c.commandRaise(qa,d);Gb=!1;Wd=1;vf=Ce=Ye=Xe=0;Ke=null;hf=0;We=!1;df=5126;se=jf=lf=0;ba($c)?(Gb=!0,Ke=L.createStream(34962,$c),df=Ke.dtype):(Ke=L.getBuffer($c))?df=Ke.dtype:"constant"in $c?(Wd=2,"number"===typeof $c.constant?(Xe=$c.constant,Ye=Ce=vf=0):(Xe=0<$c.constant.length?$c.constant[0]:0,Ye=1<$c.constant.length?$c.constant[1]:0,Ce=2<$c.constant.length?$c.constant[2]:0,vf=
3<$c.constant.length?$c.constant[3]:0)):(Ke=ba($c.buffer)?L.createStream(34962,$c.buffer):L.getBuffer($c.buffer),df="type"in $c?E[$c.type]:Ke.dtype,We=!!$c.normalized,hf=$c.size|0,lf=$c.offset|0,jf=$c.stride|0,se=$c.divisor|0);Nf=Z.location;ve=vb[Nf];if(1===Wd){ve.buffer||z.enableVertexAttribArray(Nf);pd=hf||1;if(ve.type!==df||ve.size!==pd||ve.buffer!==Ke||ve.normalized!==We||ve.offset!==lf||ve.stride!==jf)z.bindBuffer(34962,Ke.buffer),z.vertexAttribPointer(Nf,pd,df,We,jf,lf),ve.type=df,ve.size=pd,
ve.buffer=Ke,ve.normalized=We,ve.offset=lf,ve.stride=jf;ve.divisor!==se&&(I.vertexAttribDivisorANGLE(Nf,se),ve.divisor=se)}else if(ve.buffer&&(z.disableVertexAttribArray(Nf),ve.buffer=null),ve.x!==Xe||ve.y!==Ye||ve.z!==Ce||ve.w!==vf)z.vertexAttrib4f(Nf,Xe,Ye,Ce,vf),ve.x=Xe,ve.y=Ye,ve.z=Ce,ve.w=vf;(mf=R.markerTexture)&&"framebuffer"===mf._reglType&&(mf=mf.color[0]);"function"===typeof mf&&"texture2d"===mf._reglType||c.commandRaise(Kb,d);oc=mf._texture;z.uniform1i(Vb.location,oc.bind());nf=R.opacity;
"number"!==typeof nf&&c.commandRaise(De,d);G&&ad===nf||(ad=nf,z.uniform1f($b.location,nf));Jd=Id.call(this,T,R,G);hc(Jd)&&2===Jd.length||c.commandRaise(ta,d);of=Jd[0];wf=Jd[1];G&&Bf===of&&he===wf||(Bf=of,he=wf,z.uniform2f(me.location,of,wf));te=T.pixelRatio;"number"!==typeof te&&c.commandRaise(Y,d);G&&Cf===te||(Cf=te,z.uniform1f(q.location,te));ze=R.scale;hc(ze)&&2===ze.length||c.commandRaise(B,d);Df=ze[0];If=ze[1];G&&tf===Df&&Jf===If||(tf=Df,Jf=If,z.uniform2f(K.location,Df,If));pf=R.scaleFract;hc(pf)&&
2===pf.length||c.commandRaise(S,d);Ef=pf[0];Kf=pf[1];G&&xf===Ef&&sf===Kf||(xf=Ef,sf=Kf,z.uniform2f(Q.location,Ef,Kf));Lf=R.translate;hc(Lf)&&2===Lf.length||c.commandRaise(g,d);Mf=Lf[0];Ie=Lf[1];G&&Re===Mf&&ff===Ie||(Re=Mf,ff=Ie,z.uniform2f(P.location,Mf,Ie));Rf=R.translateFract;hc(Rf)&&2===Rf.length||c.commandRaise(V,d);Of=Rf[0];Wf=Rf[1];G&&yf===Of&&Pf===Wf||(yf=Of,Pf=Wf,z.uniform2f(W.location,Of,Wf));zf=R.elements;Gf=null;(qf=ba(zf))?Gf=wa.createStream(zf):(Gf=wa.getElements(zf),zf&&!Gf&&c.commandRaise(l,
d));Gf&&z.bindBuffer(34963,Gf.buffer.buffer);Ae=R.offset;0<=Ae||c.commandRaise(lb,d);Fe=R.count;"number"===typeof Fe&&0<=Fe&&Fe===(Fe|0)||c.commandRaise(Wa,d);Fe&&(0<Uc?Gf?I.drawElementsInstancedANGLE(0,Fe,Gf.type,Ae<<(Gf.type-5121>>1),Uc):I.drawArraysInstancedANGLE(0,Ae,Fe,Uc):0>Uc&&(Gf?z.drawElements(0,Fe,Gf.type,Ae<<(Gf.type-5121>>1)):z.drawArrays(0,Ae,Fe)),T.viewportWidth=wc,T.viewportHeight=ka,Fb&&L.destroyStream(cb),w&&L.destroyStream(bc),Lb&&L.destroyStream(yc),pc&&L.destroyStream(sb),Qd&&
L.destroyStream(ye),tc&&L.destroyStream(Hd),Sd&&L.destroyStream(Gd),Ge&&L.destroyStream(bf),Gb&&L.destroyStream(Ke),oc.unbind(),qf&&wa.destroyStream(Gf))}sd.unbind();ma.dirty=!0;Je.setVAO(null);D&&(v.cpuTime+=performance.now()-H)}}},"72326.317":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P,g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H){var D,R,z,T,yb,ma,x,wa,L,ed,vb,Je,Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u,F,
y,M,xa,ga,oa,ea,qd,Kd,md,Vd,Bc;D=b.gl;R=b.context;z=b.next;T=b.current;yb=b.draw;ma=b.elements;x=b.buffer;wa=b.shader;L=b.attributes;ed=b.vao;vb=b.uniforms;Je=b.framebuffer;Ac=b.extensions;sa=b.isBufferArgs;Nc=b.isArrayLike;ba=z.blend_color;hc=T.blend_color;id=z.blend_equation;Hc=T.blend_equation;Tc=z.blend_func;Eb=T.blend_func;pb=z.depth_range;Kc=T.depth_range;tb=z.colorMask;Xa=T.colorMask;Ta=z.polygonOffset_offset;r=T.polygonOffset_offset;u=z.sample_coverage;F=T.sample_coverage;y=z.stencil_func;
M=T.stencil_func;xa=z.stencil_opFront;ga=T.stencil_opFront;oa=z.stencil_opBack;ea=T.stencil_opBack;qd=z.scissor_box;Kd=T.scissor_box;md=z.viewport;Vd=T.viewport;Bc={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};return{draw:function(b){var f,p,H,I,G,ba,za,Wa,fa,wa,lb,Fa,Sa,vb,md,qd,nc,Tc,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,
m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,rf,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,Gb,Af,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee;f=Je.next;f!==Je.cur&&(f?D.bindFramebuffer(36160,f.framebuffer):D.bindFramebuffer(36160,null),Je.cur=f);if(T.dirty){var bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,pd,Wd,Xe,Ye,Ce,vf,Ke,hf,
We,df,lf,jf,se,oc,ve,Jd,mf,ad,nf,he,Ae,of,Bf;bf=z.dither;bf!==T.dither&&(bf?D.enable(3024):D.disable(3024),T.dither=bf);cf=id[0];Pe=id[1];if(cf!==Hc[0]||Pe!==Hc[1])D.blendEquationSeparate(cf,Pe),Hc[0]=cf,Hc[1]=Pe;Ne=z.depth_func;Ne!==T.depth_func&&(D.depthFunc(Ne),T.depth_func=Ne);Ue=pb[0];Te=pb[1];if(Ue!==Kc[0]||Te!==Kc[1])D.depthRange(Ue,Te),Kc[0]=Ue,Kc[1]=Te;le=z.depth_mask;le!==T.depth_mask&&(D.depthMask(le),T.depth_mask=le);Ve=tb[0];ld=tb[1];Me=tb[2];$c=tb[3];if(Ve!==Xa[0]||ld!==Xa[1]||Me!==
Xa[2]||$c!==Xa[3])D.colorMask(Ve,ld,Me,$c),Xa[0]=Ve,Xa[1]=ld,Xa[2]=Me,Xa[3]=$c;pd=z.cull_enable;pd!==T.cull_enable&&(pd?D.enable(2884):D.disable(2884),T.cull_enable=pd);Wd=z.cull_face;Wd!==T.cull_face&&(D.cullFace(Wd),T.cull_face=Wd);Xe=z.frontFace;Xe!==T.frontFace&&(D.frontFace(Xe),T.frontFace=Xe);Ye=z.lineWidth;Ye!==T.lineWidth&&(D.lineWidth(Ye),T.lineWidth=Ye);Ce=z.polygonOffset_enable;Ce!==T.polygonOffset_enable&&(Ce?D.enable(32823):D.disable(32823),T.polygonOffset_enable=Ce);vf=Ta[0];Ke=Ta[1];
if(vf!==r[0]||Ke!==r[1])D.polygonOffset(vf,Ke),r[0]=vf,r[1]=Ke;hf=z.sample_alpha;hf!==T.sample_alpha&&(hf?D.enable(32926):D.disable(32926),T.sample_alpha=hf);We=z.sample_enable;We!==T.sample_enable&&(We?D.enable(32928):D.disable(32928),T.sample_enable=We);df=u[0];lf=u[1];if(df!==F[0]||lf!==F[1])D.sampleCoverage(df,lf),F[0]=df,F[1]=lf;jf=z.stencil_mask;jf!==T.stencil_mask&&(D.stencilMask(jf),T.stencil_mask=jf);se=y[0];oc=y[1];ve=y[2];if(se!==M[0]||oc!==M[1]||ve!==M[2])D.stencilFunc(se,oc,ve),M[0]=
se,M[1]=oc,M[2]=ve;Jd=xa[0];mf=xa[1];ad=xa[2];nf=xa[3];if(Jd!==ga[0]||mf!==ga[1]||ad!==ga[2]||nf!==ga[3])D.stencilOpSeparate(Jd,mf,ad,nf),ga[0]=Jd,ga[1]=mf,ga[2]=ad,ga[3]=nf;he=oa[0];Ae=oa[1];of=oa[2];Bf=oa[3];if(he!==ea[0]||Ae!==ea[1]||of!==ea[2]||Bf!==ea[3])D.stencilOpSeparate(he,Ae,of,Bf),ea[0]=he,ea[1]=Ae,ea[2]=of,ea[3]=Bf}(p=b.viewport)&&"object"===typeof p||c.commandRaise(J,d);H=p.x|0;I=p.y|0;G="width"in p?p.width|0:R.framebufferWidth-H;ba="height"in p?p.height|0:R.framebufferHeight-I;0<=G&&
0<=ba||c.commandRaise(J,d);za=R.viewportWidth;R.viewportWidth=G;Wa=R.viewportHeight;R.viewportHeight=ba;D.viewport(H,I,G,ba);Vd[0]=H;Vd[1]=I;Vd[2]=G;Vd[3]=ba;D.blendColor(0,0,0,1);hc[0]=0;hc[1]=0;hc[2]=0;hc[3]=1;a[0]?D.enable(3042):D.disable(3042);T.blend_enable=a[1];D.blendFuncSeparate(770,771,773,1);Eb[0]=770;Eb[1]=771;Eb[2]=773;Eb[3]=1;a[2]?D.enable(2929):D.disable(2929);T.depth_enable=a[3];(fa=b.viewport)&&"object"===typeof fa||c.commandRaise(A,d);wa=fa.x|0;lb=fa.y|0;Fa="width"in fa?fa.width|
0:R.framebufferWidth-wa;Sa="height"in fa?fa.height|0:R.framebufferHeight-lb;0<=Fa&&0<=Sa||c.commandRaise(A,d);D.scissor(wa,lb,Fa,Sa);Kd[0]=wa;Kd[1]=lb;Kd[2]=Fa;Kd[3]=Sa;a[4]?D.enable(3089):D.disable(3089);T.scissor_enable=a[5];a[6]?D.enable(2960):D.disable(2960);T.stencil_enable=a[7];if(vb=T.profile)md=performance.now(),v.count++;D.useProgram(k.program);qd=Ac.angle_instanced_arrays;ed.setVAO(null);(nc=n.call(this,R,b,0))&&("object"===typeof nc||"function"===typeof nc)&&(sa(nc)||x.getBuffer(nc)||x.getBuffer(nc.buffer)||
sa(nc.buffer)||"constant"in nc&&("number"===typeof nc.constant||Nc(nc.constant)))||c.commandRaise(t,d);Tc=!1;zb=1;ic=Sc=Bd=oe=0;jc=null;Nd=0;bd=!1;Cb=5126;cd=ud=td=0;sa(nc)?(Tc=!0,jc=x.createStream(34962,nc),Cb=jc.dtype):(jc=x.getBuffer(nc))?Cb=jc.dtype:"constant"in nc?(zb=2,"number"===typeof nc.constant?(oe=nc.constant,Bd=Sc=ic=0):(oe=0<nc.constant.length?nc.constant[0]:0,Bd=1<nc.constant.length?nc.constant[1]:0,Sc=2<nc.constant.length?nc.constant[2]:0,ic=3<nc.constant.length?nc.constant[3]:0)):
(jc=sa(nc.buffer)?x.createStream(34962,nc.buffer):x.getBuffer(nc.buffer),Cb="type"in nc?Bc[nc.type]:jc.dtype,bd=!!nc.normalized,Nd=nc.size|0,td=nc.offset|0,ud=nc.stride|0,cd=nc.divisor|0);Hb=h.location;Ya=L[Hb];if(1===zb){Ya.buffer||D.enableVertexAttribArray(Hb);ub=Nd||4;if(Ya.type!==Cb||Ya.size!==ub||Ya.buffer!==jc||Ya.normalized!==bd||Ya.offset!==td||Ya.stride!==ud)D.bindBuffer(34962,jc.buffer),D.vertexAttribPointer(Hb,ub,Cb,bd,ud,td),Ya.type=Cb,Ya.size=ub,Ya.buffer=jc,Ya.normalized=bd,Ya.offset=
td,Ya.stride=ud;Ya.divisor!==cd&&(qd.vertexAttribDivisorANGLE(Hb,cd),Ya.divisor=cd)}else if(Ya.buffer&&(D.disableVertexAttribArray(Hb),Ya.buffer=null),Ya.x!==oe||Ya.y!==Bd||Ya.z!==Sc||Ya.w!==ic)D.vertexAttrib4f(Hb,oe,Bd,Sc,ic),Ya.x=oe,Ya.y=Bd,Ya.z=Sc,Ya.w=ic;(ja=C.call(this,R,b,0))&&("object"===typeof ja||"function"===typeof ja)&&(sa(ja)||x.getBuffer(ja)||x.getBuffer(ja.buffer)||sa(ja.buffer)||"constant"in ja&&("number"===typeof ja.constant||Nc(ja.constant)))||c.commandRaise(N,d);eb=!1;Qa=1;Pb=Va=
ab=qb=0;Cc=null;Oa=0;ua=!1;Uc=5126;kc=gb=Ua=0;sa(ja)?(eb=!0,Cc=x.createStream(34962,ja),Uc=Cc.dtype):(Cc=x.getBuffer(ja))?Uc=Cc.dtype:"constant"in ja?(Qa=2,"number"===typeof ja.constant?(qb=ja.constant,ab=Va=Pb=0):(qb=0<ja.constant.length?ja.constant[0]:0,ab=1<ja.constant.length?ja.constant[1]:0,Va=2<ja.constant.length?ja.constant[2]:0,Pb=3<ja.constant.length?ja.constant[3]:0)):(Cc=sa(ja.buffer)?x.createStream(34962,ja.buffer):x.getBuffer(ja.buffer),Uc="type"in ja?Bc[ja.type]:Cc.dtype,ua=!!ja.normalized,
Oa=ja.size|0,Ua=ja.offset|0,gb=ja.stride|0,kc=ja.divisor|0);rb=U.location;hb=L[rb];if(1===Qa){hb.buffer||D.enableVertexAttribArray(rb);wc=Oa||1;if(hb.type!==Uc||hb.size!==wc||hb.buffer!==Cc||hb.normalized!==ua||hb.offset!==Ua||hb.stride!==gb)D.bindBuffer(34962,Cc.buffer),D.vertexAttribPointer(rb,wc,Uc,ua,gb,Ua),hb.type=Uc,hb.size=wc,hb.buffer=Cc,hb.normalized=ua,hb.offset=Ua,hb.stride=gb;hb.divisor!==kc&&(qd.vertexAttribDivisorANGLE(rb,kc),hb.divisor=kc)}else if(hb.buffer&&(D.disableVertexAttribArray(rb),
hb.buffer=null),hb.x!==qb||hb.y!==ab||hb.z!==Va||hb.w!==Pb)D.vertexAttrib4f(rb,qb,ab,Va,Pb),hb.x=qb,hb.y=ab,hb.z=Va,hb.w=Pb;(ka=Ab.call(this,R,b,0))&&("object"===typeof ka||"function"===typeof ka)&&(sa(ka)||x.getBuffer(ka)||x.getBuffer(ka.buffer)||sa(ka.buffer)||"constant"in ka&&("number"===typeof ka.constant||Nc(ka.constant)))||c.commandRaise(jb,d);qc=!1;Ra=1;Aa=Wb=ya=fb=0;Fb=null;wb=0;Ib=!1;Zb=5126;cb=pa=Za=0;sa(ka)?(qc=!0,Fb=x.createStream(34962,ka),Zb=Fb.dtype):(Fb=x.getBuffer(ka))?Zb=Fb.dtype:
"constant"in ka?(Ra=2,"number"===typeof ka.constant?(fb=ka.constant,ya=Wb=Aa=0):(fb=0<ka.constant.length?ka.constant[0]:0,ya=1<ka.constant.length?ka.constant[1]:0,Wb=2<ka.constant.length?ka.constant[2]:0,Aa=3<ka.constant.length?ka.constant[3]:0)):(Fb=sa(ka.buffer)?x.createStream(34962,ka.buffer):x.getBuffer(ka.buffer),Zb="type"in ka?Bc[ka.type]:Fb.dtype,Ib=!!ka.normalized,wb=ka.size|0,Za=ka.offset|0,pa=ka.stride|0,cb=ka.divisor|0);ra=ia.location;Ha=L[ra];if(1===Ra){Ha.buffer||D.enableVertexAttribArray(ra);
Db=wb||4;if(Ha.type!==Zb||Ha.size!==Db||Ha.buffer!==Fb||Ha.normalized!==Ib||Ha.offset!==Za||Ha.stride!==pa)D.bindBuffer(34962,Fb.buffer),D.vertexAttribPointer(ra,Db,Zb,Ib,pa,Za),Ha.type=Zb,Ha.size=Db,Ha.buffer=Fb,Ha.normalized=Ib,Ha.offset=Za,Ha.stride=pa;Ha.divisor!==cb&&(qd.vertexAttribDivisorANGLE(ra,cb),Ha.divisor=cb)}else if(Ha.buffer&&(D.disableVertexAttribArray(ra),Ha.buffer=null),Ha.x!==fb||Ha.y!==ya||Ha.z!==Wb||Ha.w!==Aa)D.vertexAttrib4f(ra,fb,ya,Wb,Aa),Ha.x=fb,Ha.y=ya,Ha.z=Wb,Ha.w=Aa;(Ca=
ca.call(this,R,b,0))&&("object"===typeof Ca||"function"===typeof Ca)&&(sa(Ca)||x.getBuffer(Ca)||x.getBuffer(Ca.buffer)||sa(Ca.buffer)||"constant"in Ca&&("number"===typeof Ca.constant||Nc(Ca.constant)))||c.commandRaise(Ka,d);gc=!1;va=1;m=Qb=$a=Ga=0;w=null;Xc=0;Gc=!1;ac=5126;bc=Ic=Pa=0;sa(Ca)?(gc=!0,w=x.createStream(34962,Ca),ac=w.dtype):(w=x.getBuffer(Ca))?ac=w.dtype:"constant"in Ca?(va=2,"number"===typeof Ca.constant?(Ga=Ca.constant,$a=Qb=m=0):(Ga=0<Ca.constant.length?Ca.constant[0]:0,$a=1<Ca.constant.length?
Ca.constant[1]:0,Qb=2<Ca.constant.length?Ca.constant[2]:0,m=3<Ca.constant.length?Ca.constant[3]:0)):(w=sa(Ca.buffer)?x.createStream(34962,Ca.buffer):x.getBuffer(Ca.buffer),ac="type"in Ca?Bc[Ca.type]:w.dtype,Gc=!!Ca.normalized,Xc=Ca.size|0,Pa=Ca.offset|0,Ic=Ca.stride|0,bc=Ca.divisor|0);od=Ba.location;Bb=L[od];if(1===va){Bb.buffer||D.enableVertexAttribArray(od);Od=Xc||1;if(Bb.type!==ac||Bb.size!==Od||Bb.buffer!==w||Bb.normalized!==Gc||Bb.offset!==Pa||Bb.stride!==Ic)D.bindBuffer(34962,w.buffer),D.vertexAttribPointer(od,
Od,ac,Gc,Ic,Pa),Bb.type=ac,Bb.size=Od,Bb.buffer=w,Bb.normalized=Gc,Bb.offset=Pa,Bb.stride=Ic;Bb.divisor!==bc&&(qd.vertexAttribDivisorANGLE(od,bc),Bb.divisor=bc)}else if(Bb.buffer&&(D.disableVertexAttribArray(od),Bb.buffer=null),Bb.x!==Ga||Bb.y!==$a||Bb.z!==Qb||Bb.w!==m)D.vertexAttrib4f(od,Ga,$a,Qb,m),Bb.x=Ga,Bb.y=$a,Bb.z=Qb,Bb.w=m;(mb=Ea.call(this,R,b,0))&&("object"===typeof mb||"function"===typeof mb)&&(sa(mb)||x.getBuffer(mb)||x.getBuffer(mb.buffer)||sa(mb.buffer)||"constant"in mb&&("number"===
typeof mb.constant||Nc(mb.constant)))||c.commandRaise(Oe,d);Ld=!1;la=1;La=Rb=ha=Xd=0;Lb=null;re=0;Dc=!1;bb=5126;yc=xc=Jc=0;sa(mb)?(Ld=!0,Lb=x.createStream(34962,mb),bb=Lb.dtype):(Lb=x.getBuffer(mb))?bb=Lb.dtype:"constant"in mb?(la=2,"number"===typeof mb.constant?(Xd=mb.constant,ha=Rb=La=0):(Xd=0<mb.constant.length?mb.constant[0]:0,ha=1<mb.constant.length?mb.constant[1]:0,Rb=2<mb.constant.length?mb.constant[2]:0,La=3<mb.constant.length?mb.constant[3]:0)):(Lb=sa(mb.buffer)?x.createStream(34962,mb.buffer):
x.getBuffer(mb.buffer),bb="type"in mb?Bc[mb.type]:Lb.dtype,Dc=!!mb.normalized,re=mb.size|0,Jc=mb.offset|0,xc=mb.stride|0,yc=mb.divisor|0);Yd=Ub.location;xb=L[Yd];if(1===la){xb.buffer||D.enableVertexAttribArray(Yd);hd=re||1;if(xb.type!==bb||xb.size!==hd||xb.buffer!==Lb||xb.normalized!==Dc||xb.offset!==Jc||xb.stride!==xc)D.bindBuffer(34962,Lb.buffer),D.vertexAttribPointer(Yd,hd,bb,Dc,xc,Jc),xb.type=bb,xb.size=hd,xb.buffer=Lb,xb.normalized=Dc,xb.offset=Jc,xb.stride=xc;xb.divisor!==yc&&(qd.vertexAttribDivisorANGLE(Yd,
yc),xb.divisor=yc)}else if(xb.buffer&&(D.disableVertexAttribArray(Yd),xb.buffer=null),xb.x!==Xd||xb.y!==ha||xb.z!==Rb||xb.w!==La)D.vertexAttrib4f(Yd,Xd,ha,Rb,La),xb.x=Xd,xb.y=ha,xb.z=Rb,xb.w=La;(db=Nb.call(this,R,b,0))&&("object"===typeof db||"function"===typeof db)&&(sa(db)||x.getBuffer(db)||x.getBuffer(db.buffer)||sa(db.buffer)||"constant"in db&&("number"===typeof db.constant||Nc(db.constant)))||c.commandRaise(kb,d);Fc=!1;nb=1;cc=Pd=Da=Zc=0;pc=null;$d=0;Na=!1;Cd=5126;sb=ie=Mb=0;sa(db)?(Fc=!0,pc=
x.createStream(34962,db),Cd=pc.dtype):(pc=x.getBuffer(db))?Cd=pc.dtype:"constant"in db?(nb=2,"number"===typeof db.constant?(Zc=db.constant,Da=Pd=cc=0):(Zc=0<db.constant.length?db.constant[0]:0,Da=1<db.constant.length?db.constant[1]:0,Pd=2<db.constant.length?db.constant[2]:0,cc=3<db.constant.length?db.constant[3]:0)):(pc=sa(db.buffer)?x.createStream(34962,db.buffer):x.getBuffer(db.buffer),Cd="type"in db?Bc[db.type]:pc.dtype,Na=!!db.normalized,$d=db.size|0,Mb=db.offset|0,ie=db.stride|0,sb=db.divisor|
0);Dd=fc.location;na=L[Dd];if(1===nb){na.buffer||D.enableVertexAttribArray(Dd);Vc=$d||1;if(na.type!==Cd||na.size!==Vc||na.buffer!==pc||na.normalized!==Na||na.offset!==Mb||na.stride!==ie)D.bindBuffer(34962,pc.buffer),D.vertexAttribPointer(Dd,Vc,Cd,Na,ie,Mb),na.type=Cd,na.size=Vc,na.buffer=pc,na.normalized=Na,na.offset=Mb,na.stride=ie;na.divisor!==sb&&(qd.vertexAttribDivisorANGLE(Dd,sb),na.divisor=sb)}else if(na.buffer&&(D.disableVertexAttribArray(Dd),na.buffer=null),na.x!==Zc||na.y!==Da||na.z!==Pd||
na.w!==cc)D.vertexAttrib4f(Dd,Zc,Da,Pd,cc),na.x=Zc,na.y=Da,na.z=Pd,na.w=cc;(Ia=Yb.call(this,R,b,0))&&("object"===typeof Ia||"function"===typeof Ia)&&(sa(Ia)||x.getBuffer(Ia)||x.getBuffer(Ia.buffer)||sa(Ia.buffer)||"constant"in Ia&&("number"===typeof Ia.constant||Nc(Ia.constant)))||c.commandRaise(Ob,d);fe=!1;Ja=1;Xb=kd=Ma=Rc=0;Qd=null;rc=0;fd=!1;sc=5126;ye=gd=Qe=0;sa(Ia)?(fe=!0,Qd=x.createStream(34962,Ia),sc=Qd.dtype):(Qd=x.getBuffer(Ia))?sc=Qd.dtype:"constant"in Ia?(Ja=2,"number"===typeof Ia.constant?
(Rc=Ia.constant,Ma=kd=Xb=0):(Rc=0<Ia.constant.length?Ia.constant[0]:0,Ma=1<Ia.constant.length?Ia.constant[1]:0,kd=2<Ia.constant.length?Ia.constant[2]:0,Xb=3<Ia.constant.length?Ia.constant[3]:0)):(Qd=sa(Ia.buffer)?x.createStream(34962,Ia.buffer):x.getBuffer(Ia.buffer),sc="type"in Ia?Bc[Ia.type]:Qd.dtype,fd=!!Ia.normalized,rc=Ia.size|0,Qe=Ia.offset|0,gd=Ia.stride|0,ye=Ia.divisor|0);rd=ob.location;Wc=L[rd];if(1===Ja){Wc.buffer||D.enableVertexAttribArray(rd);ae=rc||1;if(Wc.type!==sc||Wc.size!==ae||Wc.buffer!==
Qd||Wc.normalized!==fd||Wc.offset!==Qe||Wc.stride!==gd)D.bindBuffer(34962,Qd.buffer),D.vertexAttribPointer(rd,ae,sc,fd,gd,Qe),Wc.type=sc,Wc.size=ae,Wc.buffer=Qd,Wc.normalized=fd,Wc.offset=Qe,Wc.stride=gd;Wc.divisor!==ye&&(qd.vertexAttribDivisorANGLE(rd,ye),Wc.divisor=ye)}else if(Wc.buffer&&(D.disableVertexAttribArray(rd),Wc.buffer=null),Wc.x!==Rc||Wc.y!==Ma||Wc.z!==kd||Wc.w!==Xb)D.vertexAttrib4f(rd,Rc,Ma,kd,Xb),Wc.x=Rc,Wc.y=Ma,Wc.z=kd,Wc.w=Xb;(Sb=ib.call(this,R,b,0))&&("object"===typeof Sb||"function"===
typeof Sb)&&(sa(Sb)||x.getBuffer(Sb)||x.getBuffer(Sb.buffer)||sa(Sb.buffer)||"constant"in Sb&&("number"===typeof Sb.constant||Nc(Sb.constant)))||c.commandRaise(aa,d);ce=!1;ec=1;zc=Oc=Tb=rf=0;tc=null;Ed=0;lc=!1;Rd=5126;Hd=zd=vd=0;sa(Sb)?(ce=!0,tc=x.createStream(34962,Sb),Rd=tc.dtype):(tc=x.getBuffer(Sb))?Rd=tc.dtype:"constant"in Sb?(ec=2,"number"===typeof Sb.constant?(rf=Sb.constant,Tb=Oc=zc=0):(rf=0<Sb.constant.length?Sb.constant[0]:0,Tb=1<Sb.constant.length?Sb.constant[1]:0,Oc=2<Sb.constant.length?
Sb.constant[2]:0,zc=3<Sb.constant.length?Sb.constant[3]:0)):(tc=sa(Sb.buffer)?x.createStream(34962,Sb.buffer):x.getBuffer(Sb.buffer),Rd="type"in Sb?Bc[Sb.type]:tc.dtype,lc=!!Sb.normalized,Ed=Sb.size|0,vd=Sb.offset|0,zd=Sb.stride|0,Hd=Sb.divisor|0);yd=da.location;wd=L[yd];if(1===ec){wd.buffer||D.enableVertexAttribArray(yd);pe=Ed||1;if(wd.type!==Rd||wd.size!==pe||wd.buffer!==tc||wd.normalized!==lc||wd.offset!==vd||wd.stride!==zd)D.bindBuffer(34962,tc.buffer),D.vertexAttribPointer(yd,pe,Rd,lc,zd,vd),
wd.type=Rd,wd.size=pe,wd.buffer=tc,wd.normalized=lc,wd.offset=vd,wd.stride=zd;wd.divisor!==Hd&&(qd.vertexAttribDivisorANGLE(yd,Hd),wd.divisor=Hd)}else if(wd.buffer&&(D.disableVertexAttribArray(yd),wd.buffer=null),wd.x!==rf||wd.y!==Tb||wd.z!==Oc||wd.w!==zc)D.vertexAttrib4f(yd,rf,Tb,Oc,zc),wd.x=rf,wd.y=Tb,wd.z=Oc,wd.w=zc;(uc=O.call(this,R,b,0))&&("object"===typeof uc||"function"===typeof uc)&&(sa(uc)||x.getBuffer(uc)||x.getBuffer(uc.buffer)||sa(uc.buffer)||"constant"in uc&&("number"===typeof uc.constant||
Nc(uc.constant)))||c.commandRaise(qa,d);Ad=!1;Jb=1;Mc=kf=dc=de=0;Sd=null;ge=0;Gb=!1;Af=5126;Gd=Zd=Fd=0;sa(uc)?(Ad=!0,Sd=x.createStream(34962,uc),Af=Sd.dtype):(Sd=x.getBuffer(uc))?Af=Sd.dtype:"constant"in uc?(Jb=2,"number"===typeof uc.constant?(de=uc.constant,dc=kf=Mc=0):(de=0<uc.constant.length?uc.constant[0]:0,dc=1<uc.constant.length?uc.constant[1]:0,kf=2<uc.constant.length?uc.constant[2]:0,Mc=3<uc.constant.length?uc.constant[3]:0)):(Sd=sa(uc.buffer)?x.createStream(34962,uc.buffer):x.getBuffer(uc.buffer),
Af="type"in uc?Bc[uc.type]:Sd.dtype,Gb=!!uc.normalized,ge=uc.size|0,Fd=uc.offset|0,Zd=uc.stride|0,Gd=uc.divisor|0);mc=Z.location;dd=L[mc];if(1===Jb){dd.buffer||D.enableVertexAttribArray(mc);Ec=ge||1;if(dd.type!==Af||dd.size!==Ec||dd.buffer!==Sd||dd.normalized!==Gb||dd.offset!==Fd||dd.stride!==Zd)D.bindBuffer(34962,Sd.buffer),D.vertexAttribPointer(mc,Ec,Af,Gb,Zd,Fd),dd.type=Af,dd.size=Ec,dd.buffer=Sd,dd.normalized=Gb,dd.offset=Fd,dd.stride=Zd;dd.divisor!==Gd&&(qd.vertexAttribDivisorANGLE(mc,Gd),dd.divisor=
Gd)}else if(dd.buffer&&(D.disableVertexAttribArray(mc),dd.buffer=null),dd.x!==de||dd.y!==dc||dd.z!==kf||dd.w!==Mc)D.vertexAttrib4f(mc,de,dc,kf,Mc),dd.x=de,dd.y=dc,dd.z=kf,dd.w=Mc;D.uniform1i(X.location,!1);Yc=b.opacity;"number"!==typeof Yc&&c.commandRaise(Kb,d);D.uniform1f(Vb.location,Yc);Td=De.call(this,R,b,0);Nc(Td)&&2===Td.length||c.commandRaise(me,d);D.uniform2f($b.location,Td[0],Td[1]);D.uniform1i(Id.location,ta.bind());Md=R.pixelRatio;"number"!==typeof Md&&c.commandRaise(sd,d);D.uniform1f(e.location,
Md);ue=b.scale;Nc(ue)&&2===ue.length||c.commandRaise(Y,d);D.uniform2f(q.location,ue[0],ue[1]);vc=b.scaleFract;Nc(vc)&&2===vc.length||c.commandRaise(B,d);D.uniform2f(K.location,vc[0],vc[1]);Se=b.translate;Nc(Se)&&2===Se.length||c.commandRaise(S,d);D.uniform2f(Q.location,Se[0],Se[1]);xd=b.translateFract;Nc(xd)&&2===xd.length||c.commandRaise(g,d);D.uniform2f(P.location,xd[0],xd[1]);Ge=b.elements;xe=null;(He=sa(Ge))?xe=ma.createStream(Ge):(xe=ma.getElements(Ge),Ge&&!xe&&c.commandRaise(W,d));xe&&D.bindBuffer(34963,
xe.buffer.buffer);Be=b.offset;0<=Be||c.commandRaise(V,d);we=b.count;"number"===typeof we&&0<=we&&we===(we|0)||c.commandRaise(l,d);we&&(Ee=yb.instances,0<Ee?xe?qd.drawElementsInstancedANGLE(0,we,xe.type,Be<<(xe.type-5121>>1),Ee):qd.drawArraysInstancedANGLE(0,Be,we,Ee):0>Ee&&(xe?D.drawElements(0,we,xe.type,Be<<(xe.type-5121>>1)):D.drawArrays(0,Be,we)),T.dirty=!0,ed.setVAO(null),R.viewportWidth=za,R.viewportHeight=Wa,vb&&(v.cpuTime+=performance.now()-md),Tc&&x.destroyStream(jc),eb&&x.destroyStream(Cc),
qc&&x.destroyStream(Fb),gc&&x.destroyStream(w),Ld&&x.destroyStream(Lb),Fc&&x.destroyStream(pc),fe&&x.destroyStream(Qd),ce&&x.destroyStream(tc),Ad&&x.destroyStream(Sd),ta.unbind(),He&&ma.destroyStream(xe))},scope:function(b,e,f){var g,h,k,q,r,u,y,F,D,ta,M,B,K,L,Y,P,Q,S,X,ga,ea,oa,Z,xa,Id,sd,da,ia,U,Ba,Ta,ja,eb,Qa,qb,ab,Va,Xa,ob,Oa,ua,Vb,Ua,gb,Kb,rb,hb,pb,ka,$b,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,tb,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ub,bc,Eb,Bb,fc,mb,Kd,la,hc,ha,Rb,La,Lb,Le,Dc,bb,Jc,xc,yc,Ac,
xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,Kc,Na,Hc,Mb,Vd,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,ed,gd,id,rd,Wc,ae,Sb,ce,ec,me,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,Je,Gb,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,pd,Wd,Xe,Ye,Ce,oc,Ke,hf,We,df,lf,jf,se,Jd,ve,ad,mf,he,nf,Ae,Ie,of,Bf,wf,sf,te,Cf,ze,Df,tf,If,Jf,pf,Ef,xf,Kf,Re,Lf,Mf,ff,qf,uf,Rf,Of,yf,Wf,Pf,zf,Gf,Hf,Sf,Fe,Ff,Ze,Tf,Uf,Vf,Xf,Yf,$f,cg,ig,eg,jg,sg,gg,hg,og,Mh,Nh,zg,Ag,Bg,
Cg,Dg,Eg,Fg,ef,wg,$e,pg,qg,kg,lg,Zf,rg,dg,mg,tg,ng,ug,xg,yg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg;(g=b.viewport)&&"object"===typeof g||c.commandRaise(J,d);h=g.x|0;k=g.y|0;q="width"in g?g.width|0:R.framebufferWidth-h;r="height"in g?g.height|0:R.framebufferHeight-k;0<=q&&0<=r||c.commandRaise(J,d);u=R.viewportWidth;R.viewportWidth=q;y=R.viewportHeight;R.viewportHeight=r;F=md[0];md[0]=a[8];D=md[1];md[1]=a[9];ta=md[2];md[2]=a[10];M=md[3];md[3]=a[11];B=ba[0];ba[0]=a[12];K=ba[1];ba[1]=a[13];L=ba[2];ba[2]=
a[14];Y=ba[3];ba[3]=a[15];P=z.blend_enable;z.blend_enable=a[16];Q=Tc[0];Tc[0]=a[17];S=Tc[1];Tc[1]=a[18];X=Tc[2];Tc[2]=a[19];ga=Tc[3];Tc[3]=a[20];ea=z.depth_enable;z.depth_enable=a[21];(oa=b.viewport)&&"object"===typeof oa||c.commandRaise(A,d);Z=oa.x|0;xa=oa.y|0;Id="width"in oa?oa.width|0:R.framebufferWidth-Z;sd="height"in oa?oa.height|0:R.framebufferHeight-xa;0<=Id&&0<=sd||c.commandRaise(A,d);da=qd[0];qd[0]=a[22];ia=qd[1];qd[1]=a[23];U=qd[2];qd[2]=a[24];Ba=qd[3];qd[3]=a[25];Ta=z.scissor_enable;z.scissor_enable=
a[26];ja=z.stencil_enable;z.stencil_enable=a[27];if(eb=T.profile)Qa=performance.now(),v.count++;qb=b.elements;ab=null;(Va=sa(qb))?ab=ma.createStream(qb):(ab=ma.getElements(qb),qb&&!ab&&c.commandRaise(W,d));Xa=yb.elements;yb.elements=a[28];0<=b.offset||c.commandRaise(V,d);ob=yb.offset;yb.offset=a[29];Oa=b.count;"number"===typeof Oa&&0<=Oa&&Oa===(Oa|0)||c.commandRaise(l,d);ua=yb.count;yb.count=a[30];Vb=yb.primitive;yb.primitive=a[31];Ua=vb[a[32]];vb[a[32]]=!1;gb=vb[a[33]];vb[a[33]]=lb;Kb=b.opacity;
rb=vb[a[34]];vb[a[34]]=Kb;hb=De.call(this,R,b,f);pb=vb[a[35]];vb[a[35]]=hb;ka=R.pixelRatio;$b=vb[a[36]];vb[a[36]]=ka;Ra=b.scale;fb=vb[a[37]];vb[a[37]]=Ra;ya=b.scaleFract;Wb=vb[a[38]];vb[a[38]]=ya;Aa=b.translate;Fb=vb[a[39]];vb[a[39]]=Aa;wb=b.translateFract;Ib=vb[a[40]];vb[a[40]]=wb;Zb=b.markerTexture;Za=vb[a[41]];vb[a[41]]=Zb;(pa=Nb.call(this,R,b,f))&&("object"===typeof pa||"function"===typeof pa)&&(sa(pa)||x.getBuffer(pa)||x.getBuffer(pa.buffer)||sa(pa.buffer)||"constant"in pa&&("number"===typeof pa.constant||
Nc(pa.constant)))||c.commandRaise(kb,d);cb=!1;ra=1;tb=Ca=Db=Ha=0;va=null;Ga=0;$a=!1;Qb=5126;Xc=w=m=0;sa(pa)?(cb=!0,va=x.createStream(34962,pa),Qb=va.dtype):(va=x.getBuffer(pa))?Qb=va.dtype:"constant"in pa?(ra=2,"number"===typeof pa.constant?(Ha=pa.constant,Db=Ca=tb=0):(Ha=0<pa.constant.length?pa.constant[0]:0,Db=1<pa.constant.length?pa.constant[1]:0,Ca=2<pa.constant.length?pa.constant[2]:0,tb=3<pa.constant.length?pa.constant[3]:0)):(va=sa(pa.buffer)?x.createStream(34962,pa.buffer):x.getBuffer(pa.buffer),
Qb="type"in pa?Bc[pa.type]:va.dtype,$a=!!pa.normalized,Ga=pa.size|0,m=pa.offset|0,w=pa.stride|0,Xc=pa.divisor|0);Gc=Wa.state;Wa.state=ra;ac=Wa.x;Wa.x=Ha;Pa=Wa.y;Wa.y=Db;Ub=Wa.z;Wa.z=Ca;bc=Wa.w;Wa.w=tb;Eb=Wa.buffer;Wa.buffer=va;Bb=Wa.size;Wa.size=Ga;fc=Wa.normalized;Wa.normalized=$a;mb=Wa.type;Wa.type=Qb;Kd=Wa.offset;Wa.offset=m;la=Wa.stride;Wa.stride=w;hc=Wa.divisor;Wa.divisor=Xc;(ha=ib.call(this,R,b,f))&&("object"===typeof ha||"function"===typeof ha)&&(sa(ha)||x.getBuffer(ha)||x.getBuffer(ha.buffer)||
sa(ha.buffer)||"constant"in ha&&("number"===typeof ha.constant||Nc(ha.constant)))||c.commandRaise(aa,d);Rb=!1;La=1;bb=Dc=Le=Lb=0;Jc=null;xc=0;yc=!1;Ac=5126;db=hd=xb=0;sa(ha)?(Rb=!0,Jc=x.createStream(34962,ha),Ac=Jc.dtype):(Jc=x.getBuffer(ha))?Ac=Jc.dtype:"constant"in ha?(La=2,"number"===typeof ha.constant?(Lb=ha.constant,Le=Dc=bb=0):(Lb=0<ha.constant.length?ha.constant[0]:0,Le=1<ha.constant.length?ha.constant[1]:0,Dc=2<ha.constant.length?ha.constant[2]:0,bb=3<ha.constant.length?ha.constant[3]:0)):
(Jc=sa(ha.buffer)?x.createStream(34962,ha.buffer):x.getBuffer(ha.buffer),Ac="type"in ha?Bc[ha.type]:Jc.dtype,yc=!!ha.normalized,xc=ha.size|0,xb=ha.offset|0,hd=ha.stride|0,db=ha.divisor|0);Fc=p.state;p.state=La;nb=p.x;p.x=Lb;Zc=p.y;p.y=Le;Da=p.z;p.z=Dc;Pd=p.w;p.w=bb;cc=p.buffer;p.buffer=Jc;pc=p.size;p.size=xc;Kc=p.normalized;p.normalized=yc;Na=p.type;p.type=Ac;Hc=p.offset;p.offset=xb;Mb=p.stride;p.stride=hd;Vd=p.divisor;p.divisor=db;(sb=Yb.call(this,R,b,f))&&("object"===typeof sb||"function"===typeof sb)&&
(sa(sb)||x.getBuffer(sb)||x.getBuffer(sb.buffer)||sa(sb.buffer)||"constant"in sb&&("number"===typeof sb.constant||Nc(sb.constant)))||c.commandRaise(Ob,d);Dd=!1;na=1;Ja=fe=Ia=Vc=0;Rc=null;Ma=0;kd=!1;Xb=5126;fd=rc=Qd=0;sa(sb)?(Dd=!0,Rc=x.createStream(34962,sb),Xb=Rc.dtype):(Rc=x.getBuffer(sb))?Xb=Rc.dtype:"constant"in sb?(na=2,"number"===typeof sb.constant?(Vc=sb.constant,Ia=fe=Ja=0):(Vc=0<sb.constant.length?sb.constant[0]:0,Ia=1<sb.constant.length?sb.constant[1]:0,fe=2<sb.constant.length?sb.constant[2]:
0,Ja=3<sb.constant.length?sb.constant[3]:0)):(Rc=sa(sb.buffer)?x.createStream(34962,sb.buffer):x.getBuffer(sb.buffer),Xb="type"in sb?Bc[sb.type]:Rc.dtype,kd=!!sb.normalized,Ma=sb.size|0,Qd=sb.offset|0,rc=sb.stride|0,fd=sb.divisor|0);sc=fa.state;fa.state=na;ed=fa.x;fa.x=Vc;gd=fa.y;fa.y=Ia;id=fa.z;fa.z=fe;rd=fa.w;fa.w=Ja;Wc=fa.buffer;fa.buffer=Rc;ae=fa.size;fa.size=Ma;Sb=fa.normalized;fa.normalized=kd;ce=fa.type;fa.type=Xb;ec=fa.offset;fa.offset=Qd;me=fa.stride;fa.stride=rc;Tb=fa.divisor;fa.divisor=
fd;(Oc=O.call(this,R,b,f))&&("object"===typeof Oc||"function"===typeof Oc)&&(sa(Oc)||x.getBuffer(Oc)||x.getBuffer(Oc.buffer)||sa(Oc.buffer)||"constant"in Oc&&("number"===typeof Oc.constant||Nc(Oc.constant)))||c.commandRaise(qa,d);zc=!1;tc=1;vd=Rd=lc=Ed=0;zd=null;Hd=0;yd=!1;wd=5126;Ad=uc=pe=0;sa(Oc)?(zc=!0,zd=x.createStream(34962,Oc),wd=zd.dtype):(zd=x.getBuffer(Oc))?wd=zd.dtype:"constant"in Oc?(tc=2,"number"===typeof Oc.constant?(Ed=Oc.constant,lc=Rd=vd=0):(Ed=0<Oc.constant.length?Oc.constant[0]:
0,lc=1<Oc.constant.length?Oc.constant[1]:0,Rd=2<Oc.constant.length?Oc.constant[2]:0,vd=3<Oc.constant.length?Oc.constant[3]:0)):(zd=sa(Oc.buffer)?x.createStream(34962,Oc.buffer):x.getBuffer(Oc.buffer),wd="type"in Oc?Bc[Oc.type]:zd.dtype,yd=!!Oc.normalized,Hd=Oc.size|0,pe=Oc.offset|0,uc=Oc.stride|0,Ad=Oc.divisor|0);Jb=za.state;za.state=tc;de=za.x;za.x=Ed;dc=za.y;za.y=lc;kf=za.z;za.z=Rd;Mc=za.w;za.w=vd;Sd=za.buffer;za.buffer=zd;ge=za.size;za.size=Hd;Je=za.normalized;za.normalized=yd;Gb=za.type;za.type=
wd;Fd=za.offset;za.offset=pe;Zd=za.stride;za.stride=uc;Gd=za.divisor;za.divisor=Ad;(mc=Ea.call(this,R,b,f))&&("object"===typeof mc||"function"===typeof mc)&&(sa(mc)||x.getBuffer(mc)||x.getBuffer(mc.buffer)||sa(mc.buffer)||"constant"in mc&&("number"===typeof mc.constant||Nc(mc.constant)))||c.commandRaise(Oe,d);dd=!1;Ec=1;ue=Md=Td=Yc=0;vc=null;Se=0;xd=!1;Ge=5126;Be=He=xe=0;sa(mc)?(dd=!0,vc=x.createStream(34962,mc),Ge=vc.dtype):(vc=x.getBuffer(mc))?Ge=vc.dtype:"constant"in mc?(Ec=2,"number"===typeof mc.constant?
(Yc=mc.constant,Td=Md=ue=0):(Yc=0<mc.constant.length?mc.constant[0]:0,Td=1<mc.constant.length?mc.constant[1]:0,Md=2<mc.constant.length?mc.constant[2]:0,ue=3<mc.constant.length?mc.constant[3]:0)):(vc=sa(mc.buffer)?x.createStream(34962,mc.buffer):x.getBuffer(mc.buffer),Ge="type"in mc?Bc[mc.type]:vc.dtype,xd=!!mc.normalized,Se=mc.size|0,xe=mc.offset|0,He=mc.stride|0,Be=mc.divisor|0);we=I.state;I.state=Ec;Ee=I.x;I.x=Yc;bf=I.y;I.y=Td;cf=I.z;I.z=Md;Pe=I.w;I.w=ue;Ne=I.buffer;I.buffer=vc;Ue=I.size;I.size=
Se;Te=I.normalized;I.normalized=xd;le=I.type;I.type=Ge;Ve=I.offset;I.offset=xe;ld=I.stride;I.stride=He;Me=I.divisor;I.divisor=Be;($c=C.call(this,R,b,f))&&("object"===typeof $c||"function"===typeof $c)&&(sa($c)||x.getBuffer($c)||x.getBuffer($c.buffer)||sa($c.buffer)||"constant"in $c&&("number"===typeof $c.constant||Nc($c.constant)))||c.commandRaise(N,d);pd=!1;Wd=1;oc=Ce=Ye=Xe=0;Ke=null;hf=0;We=!1;df=5126;se=jf=lf=0;sa($c)?(pd=!0,Ke=x.createStream(34962,$c),df=Ke.dtype):(Ke=x.getBuffer($c))?df=Ke.dtype:
"constant"in $c?(Wd=2,"number"===typeof $c.constant?(Xe=$c.constant,Ye=Ce=oc=0):(Xe=0<$c.constant.length?$c.constant[0]:0,Ye=1<$c.constant.length?$c.constant[1]:0,Ce=2<$c.constant.length?$c.constant[2]:0,oc=3<$c.constant.length?$c.constant[3]:0)):(Ke=sa($c.buffer)?x.createStream(34962,$c.buffer):x.getBuffer($c.buffer),df="type"in $c?Bc[$c.type]:Ke.dtype,We=!!$c.normalized,hf=$c.size|0,lf=$c.offset|0,jf=$c.stride|0,se=$c.divisor|0);Jd=G.state;G.state=Wd;ve=G.x;G.x=Xe;ad=G.y;G.y=Ye;mf=G.z;G.z=Ce;he=
G.w;G.w=oc;nf=G.buffer;G.buffer=Ke;Ae=G.size;G.size=hf;Ie=G.normalized;G.normalized=We;of=G.type;G.type=df;Bf=G.offset;G.offset=lf;wf=G.stride;G.stride=jf;sf=G.divisor;G.divisor=se;(te=Ab.call(this,R,b,f))&&("object"===typeof te||"function"===typeof te)&&(sa(te)||x.getBuffer(te)||x.getBuffer(te.buffer)||sa(te.buffer)||"constant"in te&&("number"===typeof te.constant||Nc(te.constant)))||c.commandRaise(jb,d);Cf=!1;ze=1;Jf=If=tf=Df=0;pf=null;Ef=0;xf=!1;Kf=5126;Mf=Lf=Re=0;sa(te)?(Cf=!0,pf=x.createStream(34962,
te),Kf=pf.dtype):(pf=x.getBuffer(te))?Kf=pf.dtype:"constant"in te?(ze=2,"number"===typeof te.constant?(Df=te.constant,tf=If=Jf=0):(Df=0<te.constant.length?te.constant[0]:0,tf=1<te.constant.length?te.constant[1]:0,If=2<te.constant.length?te.constant[2]:0,Jf=3<te.constant.length?te.constant[3]:0)):(pf=sa(te.buffer)?x.createStream(34962,te.buffer):x.getBuffer(te.buffer),Kf="type"in te?Bc[te.type]:pf.dtype,xf=!!te.normalized,Ef=te.size|0,Re=te.offset|0,Lf=te.stride|0,Mf=te.divisor|0);ff=Fa.state;Fa.state=
ze;qf=Fa.x;Fa.x=Df;uf=Fa.y;Fa.y=tf;Rf=Fa.z;Fa.z=If;Of=Fa.w;Fa.w=Jf;yf=Fa.buffer;Fa.buffer=pf;Wf=Fa.size;Fa.size=Ef;Pf=Fa.normalized;Fa.normalized=xf;zf=Fa.type;Fa.type=Kf;Gf=Fa.offset;Fa.offset=Re;Hf=Fa.stride;Fa.stride=Lf;Sf=Fa.divisor;Fa.divisor=Mf;(Fe=n.call(this,R,b,f))&&("object"===typeof Fe||"function"===typeof Fe)&&(sa(Fe)||x.getBuffer(Fe)||x.getBuffer(Fe.buffer)||sa(Fe.buffer)||"constant"in Fe&&("number"===typeof Fe.constant||Nc(Fe.constant)))||c.commandRaise(t,d);Ff=!1;Ze=1;Xf=Vf=Uf=Tf=0;
Yf=null;$f=0;cg=!1;ig=5126;sg=jg=eg=0;sa(Fe)?(Ff=!0,Yf=x.createStream(34962,Fe),ig=Yf.dtype):(Yf=x.getBuffer(Fe))?ig=Yf.dtype:"constant"in Fe?(Ze=2,"number"===typeof Fe.constant?(Tf=Fe.constant,Uf=Vf=Xf=0):(Tf=0<Fe.constant.length?Fe.constant[0]:0,Uf=1<Fe.constant.length?Fe.constant[1]:0,Vf=2<Fe.constant.length?Fe.constant[2]:0,Xf=3<Fe.constant.length?Fe.constant[3]:0)):(Yf=sa(Fe.buffer)?x.createStream(34962,Fe.buffer):x.getBuffer(Fe.buffer),ig="type"in Fe?Bc[Fe.type]:Yf.dtype,cg=!!Fe.normalized,
$f=Fe.size|0,eg=Fe.offset|0,jg=Fe.stride|0,sg=Fe.divisor|0);gg=Sa.state;Sa.state=Ze;hg=Sa.x;Sa.x=Tf;og=Sa.y;Sa.y=Uf;Mh=Sa.z;Sa.z=Vf;Nh=Sa.w;Sa.w=Xf;zg=Sa.buffer;Sa.buffer=Yf;Ag=Sa.size;Sa.size=$f;Bg=Sa.normalized;Sa.normalized=cg;Cg=Sa.type;Sa.type=ig;Dg=Sa.offset;Sa.offset=eg;Eg=Sa.stride;Sa.stride=jg;Fg=Sa.divisor;Sa.divisor=sg;(ef=ca.call(this,R,b,f))&&("object"===typeof ef||"function"===typeof ef)&&(sa(ef)||x.getBuffer(ef)||x.getBuffer(ef.buffer)||sa(ef.buffer)||"constant"in ef&&("number"===typeof ef.constant||
Nc(ef.constant)))||c.commandRaise(Ka,d);wg=!1;$e=1;lg=kg=qg=pg=0;Zf=null;rg=0;dg=!1;mg=5126;ug=ng=tg=0;sa(ef)?(wg=!0,Zf=x.createStream(34962,ef),mg=Zf.dtype):(Zf=x.getBuffer(ef))?mg=Zf.dtype:"constant"in ef?($e=2,"number"===typeof ef.constant?(pg=ef.constant,qg=kg=lg=0):(pg=0<ef.constant.length?ef.constant[0]:0,qg=1<ef.constant.length?ef.constant[1]:0,kg=2<ef.constant.length?ef.constant[2]:0,lg=3<ef.constant.length?ef.constant[3]:0)):(Zf=sa(ef.buffer)?x.createStream(34962,ef.buffer):x.getBuffer(ef.buffer),
mg="type"in ef?Bc[ef.type]:Zf.dtype,dg=!!ef.normalized,rg=ef.size|0,tg=ef.offset|0,ng=ef.stride|0,ug=ef.divisor|0);xg=H.state;H.state=$e;yg=H.x;H.x=pg;Gg=H.y;H.y=qg;Hg=H.z;H.z=kg;Ig=H.w;H.w=lg;Jg=H.buffer;H.buffer=Zf;Kg=H.size;H.size=rg;Lg=H.normalized;H.normalized=dg;Mg=H.type;H.type=mg;Ng=H.offset;H.offset=tg;Og=H.stride;H.stride=ng;Pg=H.divisor;H.divisor=ug;Qg=wa.vert;wa.vert=a[42];Rg=wa.frag;wa.frag=a[43];T.dirty=!0;e(R,b,f);R.viewportWidth=u;R.viewportHeight=y;md[0]=F;md[1]=D;md[2]=ta;md[3]=
M;ba[0]=B;ba[1]=K;ba[2]=L;ba[3]=Y;z.blend_enable=P;Tc[0]=Q;Tc[1]=S;Tc[2]=X;Tc[3]=ga;z.depth_enable=ea;qd[0]=da;qd[1]=ia;qd[2]=U;qd[3]=Ba;z.scissor_enable=Ta;z.stencil_enable=ja;eb&&(v.cpuTime+=performance.now()-Qa);Va&&ma.destroyStream(ab);yb.elements=Xa;yb.offset=ob;yb.count=ua;yb.primitive=Vb;vb[a[32]]=Ua;vb[a[33]]=gb;vb[a[34]]=rb;vb[a[35]]=pb;vb[a[36]]=$b;vb[a[37]]=fb;vb[a[38]]=Wb;vb[a[39]]=Fb;vb[a[40]]=Ib;vb[a[41]]=Za;cb&&x.destroyStream(va);Wa.state=Gc;Wa.x=ac;Wa.y=Pa;Wa.z=Ub;Wa.w=bc;Wa.buffer=
Eb;Wa.size=Bb;Wa.normalized=fc;Wa.type=mb;Wa.offset=Kd;Wa.stride=la;Wa.divisor=hc;Rb&&x.destroyStream(Jc);p.state=Fc;p.x=nb;p.y=Zc;p.z=Da;p.w=Pd;p.buffer=cc;p.size=pc;p.normalized=Kc;p.type=Na;p.offset=Hc;p.stride=Mb;p.divisor=Vd;Dd&&x.destroyStream(Rc);fa.state=sc;fa.x=ed;fa.y=gd;fa.z=id;fa.w=rd;fa.buffer=Wc;fa.size=ae;fa.normalized=Sb;fa.type=ce;fa.offset=ec;fa.stride=me;fa.divisor=Tb;zc&&x.destroyStream(zd);za.state=Jb;za.x=de;za.y=dc;za.z=kf;za.w=Mc;za.buffer=Sd;za.size=ge;za.normalized=Je;za.type=
Gb;za.offset=Fd;za.stride=Zd;za.divisor=Gd;dd&&x.destroyStream(vc);I.state=we;I.x=Ee;I.y=bf;I.z=cf;I.w=Pe;I.buffer=Ne;I.size=Ue;I.normalized=Te;I.type=le;I.offset=Ve;I.stride=ld;I.divisor=Me;pd&&x.destroyStream(Ke);G.state=Jd;G.x=ve;G.y=ad;G.z=mf;G.w=he;G.buffer=nf;G.size=Ae;G.normalized=Ie;G.type=of;G.offset=Bf;G.stride=wf;G.divisor=sf;Cf&&x.destroyStream(pf);Fa.state=ff;Fa.x=qf;Fa.y=uf;Fa.z=Rf;Fa.w=Of;Fa.buffer=yf;Fa.size=Wf;Fa.normalized=Pf;Fa.type=zf;Fa.offset=Gf;Fa.stride=Hf;Fa.divisor=Sf;Ff&&
x.destroyStream(Yf);Sa.state=gg;Sa.x=hg;Sa.y=og;Sa.z=Mh;Sa.w=Nh;Sa.buffer=zg;Sa.size=Ag;Sa.normalized=Bg;Sa.type=Cg;Sa.offset=Dg;Sa.stride=Eg;Sa.divisor=Fg;wg&&x.destroyStream(Zf);H.state=xg;H.x=yg;H.y=Gg;H.z=Hg;H.w=Ig;H.buffer=Jg;H.size=Kg;H.normalized=Lg;H.type=Mg;H.offset=Ng;H.stride=Og;H.divisor=Pg;wa.vert=Qg;wa.frag=Rg;T.dirty=!0},batch:function(b,f){var p,H,I,G,ba,fa;p=Je.next;p!==Je.cur&&(p?D.bindFramebuffer(36160,p.framebuffer):D.bindFramebuffer(36160,null),Je.cur=p);if(T.dirty){var za,Wa,
wa,lb,Fa,Sa,vb,qd,md,nc,Tc,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc;za=z.dither;za!==T.dither&&(za?D.enable(3024):D.disable(3024),T.dither=za);Wa=id[0];wa=id[1];if(Wa!==Hc[0]||wa!==Hc[1])D.blendEquationSeparate(Wa,wa),Hc[0]=Wa,Hc[1]=wa;lb=z.depth_func;lb!==T.depth_func&&(D.depthFunc(lb),T.depth_func=lb);Fa=pb[0];Sa=pb[1];if(Fa!==Kc[0]||Sa!==Kc[1])D.depthRange(Fa,Sa),Kc[0]=Fa,Kc[1]=Sa;vb=z.depth_mask;vb!==T.depth_mask&&(D.depthMask(vb),T.depth_mask=vb);qd=tb[0];md=tb[1];
nc=tb[2];Tc=tb[3];if(qd!==Xa[0]||md!==Xa[1]||nc!==Xa[2]||Tc!==Xa[3])D.colorMask(qd,md,nc,Tc),Xa[0]=qd,Xa[1]=md,Xa[2]=nc,Xa[3]=Tc;zb=z.cull_enable;zb!==T.cull_enable&&(zb?D.enable(2884):D.disable(2884),T.cull_enable=zb);oe=z.cull_face;oe!==T.cull_face&&(D.cullFace(oe),T.cull_face=oe);Bd=z.frontFace;Bd!==T.frontFace&&(D.frontFace(Bd),T.frontFace=Bd);Sc=z.lineWidth;Sc!==T.lineWidth&&(D.lineWidth(Sc),T.lineWidth=Sc);ic=z.polygonOffset_enable;ic!==T.polygonOffset_enable&&(ic?D.enable(32823):D.disable(32823),
T.polygonOffset_enable=ic);jc=Ta[0];Nd=Ta[1];if(jc!==r[0]||Nd!==r[1])D.polygonOffset(jc,Nd),r[0]=jc,r[1]=Nd;bd=z.sample_alpha;bd!==T.sample_alpha&&(bd?D.enable(32926):D.disable(32926),T.sample_alpha=bd);Cb=z.sample_enable;Cb!==T.sample_enable&&(Cb?D.enable(32928):D.disable(32928),T.sample_enable=Cb);td=u[0];ud=u[1];if(td!==F[0]||ud!==F[1])D.sampleCoverage(td,ud),F[0]=td,F[1]=ud;cd=z.stencil_mask;cd!==T.stencil_mask&&(D.stencilMask(cd),T.stencil_mask=cd);Hb=y[0];Ya=y[1];ub=y[2];if(Hb!==M[0]||Ya!==
M[1]||ub!==M[2])D.stencilFunc(Hb,Ya,ub),M[0]=Hb,M[1]=Ya,M[2]=ub;ja=xa[0];eb=xa[1];Qa=xa[2];qb=xa[3];if(ja!==ga[0]||eb!==ga[1]||Qa!==ga[2]||qb!==ga[3])D.stencilOpSeparate(ja,eb,Qa,qb),ga[0]=ja,ga[1]=eb,ga[2]=Qa,ga[3]=qb;ab=oa[0];Va=oa[1];Pb=oa[2];Cc=oa[3];if(ab!==ea[0]||Va!==ea[1]||Pb!==ea[2]||Cc!==ea[3])D.stencilOpSeparate(ab,Va,Pb,Cc),ea[0]=ab,ea[1]=Va,ea[2]=Pb,ea[3]=Cc}D.blendColor(0,0,0,1);hc[0]=0;hc[1]=0;hc[2]=0;hc[3]=1;a[44]?D.enable(3042):D.disable(3042);T.blend_enable=a[45];D.blendFuncSeparate(770,
771,773,1);Eb[0]=770;Eb[1]=771;Eb[2]=773;Eb[3]=1;a[46]?D.enable(2929):D.disable(2929);T.depth_enable=a[47];a[48]?D.enable(3089):D.disable(3089);T.scissor_enable=a[49];a[50]?D.enable(2960):D.disable(2960);T.stencil_enable=a[51];if(H=T.profile)I=performance.now(),v.count+=f;D.useProgram(k.program);G=Ac.angle_instanced_arrays;var Oa;ed.setVAO(null);D.uniform1i(X.location,!1);D.uniform1i(Id.location,ta.bind());Oa=yb.instances;for(ba=0;ba<f;++ba){fa=b[ba];var ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,
Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,Gb,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,kf,Mc,Sd,ge,pd,oc,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me,$c,Jd,Wd,Xe,Ye,Ce,ad,Ke,hf,We,df,lf,jf,se,he,ve,Ae,mf,Ie,nf,Re,sf,of,Bf,wf,ff,te,Cf,ze,Df,tf,If,
Jf,pf,Ef,xf,Kf,qf,Lf,Mf,uf,Hf,Ff,Rf,Of,yf,Wf,Pf,zf;(ua=fa.viewport)&&"object"===typeof ua||c.commandRaise(J,d);Uc=ua.x|0;Ua=ua.y|0;gb="width"in ua?ua.width|0:R.framebufferWidth-Uc;kc="height"in ua?ua.height|0:R.framebufferHeight-Ua;0<=gb&&0<=kc||c.commandRaise(J,d);rb=R.viewportWidth;R.viewportWidth=gb;hb=R.viewportHeight;R.viewportHeight=kc;D.viewport(Uc,Ua,gb,kc);Vd[0]=Uc;Vd[1]=Ua;Vd[2]=gb;Vd[3]=kc;(wc=fa.viewport)&&"object"===typeof wc||c.commandRaise(A,d);ka=wc.x|0;qc=wc.y|0;Ra="width"in wc?wc.width|
0:R.framebufferWidth-ka;fb="height"in wc?wc.height|0:R.framebufferHeight-qc;0<=Ra&&0<=fb||c.commandRaise(A,d);D.scissor(ka,qc,Ra,fb);Kd[0]=ka;Kd[1]=qc;Kd[2]=Ra;Kd[3]=fb;(ya=n.call(this,R,fa,ba))&&("object"===typeof ya||"function"===typeof ya)&&(sa(ya)||x.getBuffer(ya)||x.getBuffer(ya.buffer)||sa(ya.buffer)||"constant"in ya&&("number"===typeof ya.constant||Nc(ya.constant)))||c.commandRaise(t,d);Wb=!1;Aa=1;Zb=Ib=wb=Fb=0;Za=null;pa=0;cb=!1;ra=5126;Ca=Db=Ha=0;sa(ya)?(Wb=!0,Za=x.createStream(34962,ya),
ra=Za.dtype):(Za=x.getBuffer(ya))?ra=Za.dtype:"constant"in ya?(Aa=2,"number"===typeof ya.constant?(Fb=ya.constant,wb=Ib=Zb=0):(Fb=0<ya.constant.length?ya.constant[0]:0,wb=1<ya.constant.length?ya.constant[1]:0,Ib=2<ya.constant.length?ya.constant[2]:0,Zb=3<ya.constant.length?ya.constant[3]:0)):(Za=sa(ya.buffer)?x.createStream(34962,ya.buffer):x.getBuffer(ya.buffer),ra="type"in ya?Bc[ya.type]:Za.dtype,cb=!!ya.normalized,pa=ya.size|0,Ha=ya.offset|0,Db=ya.stride|0,Ca=ya.divisor|0);gc=h.location;va=L[gc];
if(1===Aa){va.buffer||D.enableVertexAttribArray(gc);Ga=pa||4;if(va.type!==ra||va.size!==Ga||va.buffer!==Za||va.normalized!==cb||va.offset!==Ha||va.stride!==Db)D.bindBuffer(34962,Za.buffer),D.vertexAttribPointer(gc,Ga,ra,cb,Db,Ha),va.type=ra,va.size=Ga,va.buffer=Za,va.normalized=cb,va.offset=Ha,va.stride=Db;va.divisor!==Ca&&(G.vertexAttribDivisorANGLE(gc,Ca),va.divisor=Ca)}else if(va.buffer&&(D.disableVertexAttribArray(gc),va.buffer=null),va.x!==Fb||va.y!==wb||va.z!==Ib||va.w!==Zb)D.vertexAttrib4f(gc,
Fb,wb,Ib,Zb),va.x=Fb,va.y=wb,va.z=Ib,va.w=Zb;($a=C.call(this,R,fa,ba))&&("object"===typeof $a||"function"===typeof $a)&&(sa($a)||x.getBuffer($a)||x.getBuffer($a.buffer)||sa($a.buffer)||"constant"in $a&&("number"===typeof $a.constant||Nc($a.constant)))||c.commandRaise(N,d);Qb=!1;m=1;ac=Gc=Xc=w=0;Pa=null;Ic=0;bc=!1;od=5126;mb=Od=Bb=0;sa($a)?(Qb=!0,Pa=x.createStream(34962,$a),od=Pa.dtype):(Pa=x.getBuffer($a))?od=Pa.dtype:"constant"in $a?(m=2,"number"===typeof $a.constant?(w=$a.constant,Xc=Gc=ac=0):(w=
0<$a.constant.length?$a.constant[0]:0,Xc=1<$a.constant.length?$a.constant[1]:0,Gc=2<$a.constant.length?$a.constant[2]:0,ac=3<$a.constant.length?$a.constant[3]:0)):(Pa=sa($a.buffer)?x.createStream(34962,$a.buffer):x.getBuffer($a.buffer),od="type"in $a?Bc[$a.type]:Pa.dtype,bc=!!$a.normalized,Ic=$a.size|0,Bb=$a.offset|0,Od=$a.stride|0,mb=$a.divisor|0);Ld=U.location;la=L[Ld];if(1===m){la.buffer||D.enableVertexAttribArray(Ld);Xd=Ic||1;if(la.type!==od||la.size!==Xd||la.buffer!==Pa||la.normalized!==bc||
la.offset!==Bb||la.stride!==Od)D.bindBuffer(34962,Pa.buffer),D.vertexAttribPointer(Ld,Xd,od,bc,Od,Bb),la.type=od,la.size=Xd,la.buffer=Pa,la.normalized=bc,la.offset=Bb,la.stride=Od;la.divisor!==mb&&(G.vertexAttribDivisorANGLE(Ld,mb),la.divisor=mb)}else if(la.buffer&&(D.disableVertexAttribArray(Ld),la.buffer=null),la.x!==w||la.y!==Xc||la.z!==Gc||la.w!==ac)D.vertexAttrib4f(Ld,w,Xc,Gc,ac),la.x=w,la.y=Xc,la.z=Gc,la.w=ac;(ha=Ab.call(this,R,fa,ba))&&("object"===typeof ha||"function"===typeof ha)&&(sa(ha)||
x.getBuffer(ha)||x.getBuffer(ha.buffer)||sa(ha.buffer)||"constant"in ha&&("number"===typeof ha.constant||Nc(ha.constant)))||c.commandRaise(jb,d);Rb=!1;La=1;bb=Dc=re=Lb=0;Jc=null;xc=0;yc=!1;Yd=5126;db=hd=xb=0;sa(ha)?(Rb=!0,Jc=x.createStream(34962,ha),Yd=Jc.dtype):(Jc=x.getBuffer(ha))?Yd=Jc.dtype:"constant"in ha?(La=2,"number"===typeof ha.constant?(Lb=ha.constant,re=Dc=bb=0):(Lb=0<ha.constant.length?ha.constant[0]:0,re=1<ha.constant.length?ha.constant[1]:0,Dc=2<ha.constant.length?ha.constant[2]:0,bb=
3<ha.constant.length?ha.constant[3]:0)):(Jc=sa(ha.buffer)?x.createStream(34962,ha.buffer):x.getBuffer(ha.buffer),Yd="type"in ha?Bc[ha.type]:Jc.dtype,yc=!!ha.normalized,xc=ha.size|0,xb=ha.offset|0,hd=ha.stride|0,db=ha.divisor|0);Fc=ia.location;nb=L[Fc];if(1===La){nb.buffer||D.enableVertexAttribArray(Fc);Zc=xc||4;if(nb.type!==Yd||nb.size!==Zc||nb.buffer!==Jc||nb.normalized!==yc||nb.offset!==xb||nb.stride!==hd)D.bindBuffer(34962,Jc.buffer),D.vertexAttribPointer(Fc,Zc,Yd,yc,hd,xb),nb.type=Yd,nb.size=
Zc,nb.buffer=Jc,nb.normalized=yc,nb.offset=xb,nb.stride=hd;nb.divisor!==db&&(G.vertexAttribDivisorANGLE(Fc,db),nb.divisor=db)}else if(nb.buffer&&(D.disableVertexAttribArray(Fc),nb.buffer=null),nb.x!==Lb||nb.y!==re||nb.z!==Dc||nb.w!==bb)D.vertexAttrib4f(Fc,Lb,re,Dc,bb),nb.x=Lb,nb.y=re,nb.z=Dc,nb.w=bb;(Da=ca.call(this,R,fa,ba))&&("object"===typeof Da||"function"===typeof Da)&&(sa(Da)||x.getBuffer(Da)||x.getBuffer(Da.buffer)||sa(Da.buffer)||"constant"in Da&&("number"===typeof Da.constant||Nc(Da.constant)))||
c.commandRaise(Ka,d);Pd=!1;cc=1;Cd=Na=$d=pc=0;Mb=null;ie=0;sb=!1;Dd=5126;Ia=Vc=na=0;sa(Da)?(Pd=!0,Mb=x.createStream(34962,Da),Dd=Mb.dtype):(Mb=x.getBuffer(Da))?Dd=Mb.dtype:"constant"in Da?(cc=2,"number"===typeof Da.constant?(pc=Da.constant,$d=Na=Cd=0):(pc=0<Da.constant.length?Da.constant[0]:0,$d=1<Da.constant.length?Da.constant[1]:0,Na=2<Da.constant.length?Da.constant[2]:0,Cd=3<Da.constant.length?Da.constant[3]:0)):(Mb=sa(Da.buffer)?x.createStream(34962,Da.buffer):x.getBuffer(Da.buffer),Dd="type"in
Da?Bc[Da.type]:Mb.dtype,sb=!!Da.normalized,ie=Da.size|0,na=Da.offset|0,Vc=Da.stride|0,Ia=Da.divisor|0);fe=Ba.location;Ja=L[fe];if(1===cc){Ja.buffer||D.enableVertexAttribArray(fe);Rc=ie||1;if(Ja.type!==Dd||Ja.size!==Rc||Ja.buffer!==Mb||Ja.normalized!==sb||Ja.offset!==na||Ja.stride!==Vc)D.bindBuffer(34962,Mb.buffer),D.vertexAttribPointer(fe,Rc,Dd,sb,Vc,na),Ja.type=Dd,Ja.size=Rc,Ja.buffer=Mb,Ja.normalized=sb,Ja.offset=na,Ja.stride=Vc;Ja.divisor!==Ia&&(G.vertexAttribDivisorANGLE(fe,Ia),Ja.divisor=Ia)}else if(Ja.buffer&&
(D.disableVertexAttribArray(fe),Ja.buffer=null),Ja.x!==pc||Ja.y!==$d||Ja.z!==Na||Ja.w!==Cd)D.vertexAttrib4f(fe,pc,$d,Na,Cd),Ja.x=pc,Ja.y=$d,Ja.z=Na,Ja.w=Cd;(Ma=Ea.call(this,R,fa,ba))&&("object"===typeof Ma||"function"===typeof Ma)&&(sa(Ma)||x.getBuffer(Ma)||x.getBuffer(Ma.buffer)||sa(Ma.buffer)||"constant"in Ma&&("number"===typeof Ma.constant||Nc(Ma.constant)))||c.commandRaise(Oe,d);kd=!1;Xb=1;sc=fd=rc=Qd=0;Qe=null;gd=0;ye=!1;rd=5126;Sb=ae=Wc=0;sa(Ma)?(kd=!0,Qe=x.createStream(34962,Ma),rd=Qe.dtype):
(Qe=x.getBuffer(Ma))?rd=Qe.dtype:"constant"in Ma?(Xb=2,"number"===typeof Ma.constant?(Qd=Ma.constant,rc=fd=sc=0):(Qd=0<Ma.constant.length?Ma.constant[0]:0,rc=1<Ma.constant.length?Ma.constant[1]:0,fd=2<Ma.constant.length?Ma.constant[2]:0,sc=3<Ma.constant.length?Ma.constant[3]:0)):(Qe=sa(Ma.buffer)?x.createStream(34962,Ma.buffer):x.getBuffer(Ma.buffer),rd="type"in Ma?Bc[Ma.type]:Qe.dtype,ye=!!Ma.normalized,gd=Ma.size|0,Wc=Ma.offset|0,ae=Ma.stride|0,Sb=Ma.divisor|0);ce=Ub.location;ec=L[ce];if(1===Xb){ec.buffer||
D.enableVertexAttribArray(ce);Gb=gd||1;if(ec.type!==rd||ec.size!==Gb||ec.buffer!==Qe||ec.normalized!==ye||ec.offset!==Wc||ec.stride!==ae)D.bindBuffer(34962,Qe.buffer),D.vertexAttribPointer(ce,Gb,rd,ye,ae,Wc),ec.type=rd,ec.size=Gb,ec.buffer=Qe,ec.normalized=ye,ec.offset=Wc,ec.stride=ae;ec.divisor!==Sb&&(G.vertexAttribDivisorANGLE(ce,Sb),ec.divisor=Sb)}else if(ec.buffer&&(D.disableVertexAttribArray(ce),ec.buffer=null),ec.x!==Qd||ec.y!==rc||ec.z!==fd||ec.w!==sc)D.vertexAttrib4f(ce,Qd,rc,fd,sc),ec.x=
Qd,ec.y=rc,ec.z=fd,ec.w=sc;(Tb=Nb.call(this,R,fa,ba))&&("object"===typeof Tb||"function"===typeof Tb)&&(sa(Tb)||x.getBuffer(Tb)||x.getBuffer(Tb.buffer)||sa(Tb.buffer)||"constant"in Tb&&("number"===typeof Tb.constant||Nc(Tb.constant)))||c.commandRaise(kb,d);Oc=!1;zc=1;Rd=lc=Ed=tc=0;vd=null;zd=0;Hd=!1;yd=5126;uc=pe=wd=0;sa(Tb)?(Oc=!0,vd=x.createStream(34962,Tb),yd=vd.dtype):(vd=x.getBuffer(Tb))?yd=vd.dtype:"constant"in Tb?(zc=2,"number"===typeof Tb.constant?(tc=Tb.constant,Ed=lc=Rd=0):(tc=0<Tb.constant.length?
Tb.constant[0]:0,Ed=1<Tb.constant.length?Tb.constant[1]:0,lc=2<Tb.constant.length?Tb.constant[2]:0,Rd=3<Tb.constant.length?Tb.constant[3]:0)):(vd=sa(Tb.buffer)?x.createStream(34962,Tb.buffer):x.getBuffer(Tb.buffer),yd="type"in Tb?Bc[Tb.type]:vd.dtype,Hd=!!Tb.normalized,zd=Tb.size|0,wd=Tb.offset|0,pe=Tb.stride|0,uc=Tb.divisor|0);Ad=fc.location;Jb=L[Ad];if(1===zc){Jb.buffer||D.enableVertexAttribArray(Ad);de=zd||1;if(Jb.type!==yd||Jb.size!==de||Jb.buffer!==vd||Jb.normalized!==Hd||Jb.offset!==wd||Jb.stride!==
pe)D.bindBuffer(34962,vd.buffer),D.vertexAttribPointer(Ad,de,yd,Hd,pe,wd),Jb.type=yd,Jb.size=de,Jb.buffer=vd,Jb.normalized=Hd,Jb.offset=wd,Jb.stride=pe;Jb.divisor!==uc&&(G.vertexAttribDivisorANGLE(Ad,uc),Jb.divisor=uc)}else if(Jb.buffer&&(D.disableVertexAttribArray(Ad),Jb.buffer=null),Jb.x!==tc||Jb.y!==Ed||Jb.z!==lc||Jb.w!==Rd)D.vertexAttrib4f(Ad,tc,Ed,lc,Rd),Jb.x=tc,Jb.y=Ed,Jb.z=lc,Jb.w=Rd;(dc=Yb.call(this,R,fa,ba))&&("object"===typeof dc||"function"===typeof dc)&&(sa(dc)||x.getBuffer(dc)||x.getBuffer(dc.buffer)||
sa(dc.buffer)||"constant"in dc&&("number"===typeof dc.constant||Nc(dc.constant)))||c.commandRaise(Ob,d);kf=!1;Mc=1;oc=pd=ge=Sd=0;Fd=null;Zd=0;Gd=!1;mc=5126;Yc=Ec=dd=0;sa(dc)?(kf=!0,Fd=x.createStream(34962,dc),mc=Fd.dtype):(Fd=x.getBuffer(dc))?mc=Fd.dtype:"constant"in dc?(Mc=2,"number"===typeof dc.constant?(Sd=dc.constant,ge=pd=oc=0):(Sd=0<dc.constant.length?dc.constant[0]:0,ge=1<dc.constant.length?dc.constant[1]:0,pd=2<dc.constant.length?dc.constant[2]:0,oc=3<dc.constant.length?dc.constant[3]:0)):
(Fd=sa(dc.buffer)?x.createStream(34962,dc.buffer):x.getBuffer(dc.buffer),mc="type"in dc?Bc[dc.type]:Fd.dtype,Gd=!!dc.normalized,Zd=dc.size|0,dd=dc.offset|0,Ec=dc.stride|0,Yc=dc.divisor|0);Td=ob.location;Md=L[Td];if(1===Mc){Md.buffer||D.enableVertexAttribArray(Td);ue=Zd||1;if(Md.type!==mc||Md.size!==ue||Md.buffer!==Fd||Md.normalized!==Gd||Md.offset!==dd||Md.stride!==Ec)D.bindBuffer(34962,Fd.buffer),D.vertexAttribPointer(Td,ue,mc,Gd,Ec,dd),Md.type=mc,Md.size=ue,Md.buffer=Fd,Md.normalized=Gd,Md.offset=
dd,Md.stride=Ec;Md.divisor!==Yc&&(G.vertexAttribDivisorANGLE(Td,Yc),Md.divisor=Yc)}else if(Md.buffer&&(D.disableVertexAttribArray(Td),Md.buffer=null),Md.x!==Sd||Md.y!==ge||Md.z!==pd||Md.w!==oc)D.vertexAttrib4f(Td,Sd,ge,pd,oc),Md.x=Sd,Md.y=ge,Md.z=pd,Md.w=oc;(vc=ib.call(this,R,fa,ba))&&("object"===typeof vc||"function"===typeof vc)&&(sa(vc)||x.getBuffer(vc)||x.getBuffer(vc.buffer)||sa(vc.buffer)||"constant"in vc&&("number"===typeof vc.constant||Nc(vc.constant)))||c.commandRaise(aa,d);Se=!1;xd=1;Be=
He=xe=Ge=0;we=null;Ee=0;bf=!1;cf=5126;Ue=Ne=Pe=0;sa(vc)?(Se=!0,we=x.createStream(34962,vc),cf=we.dtype):(we=x.getBuffer(vc))?cf=we.dtype:"constant"in vc?(xd=2,"number"===typeof vc.constant?(Ge=vc.constant,xe=He=Be=0):(Ge=0<vc.constant.length?vc.constant[0]:0,xe=1<vc.constant.length?vc.constant[1]:0,He=2<vc.constant.length?vc.constant[2]:0,Be=3<vc.constant.length?vc.constant[3]:0)):(we=sa(vc.buffer)?x.createStream(34962,vc.buffer):x.getBuffer(vc.buffer),cf="type"in vc?Bc[vc.type]:we.dtype,bf=!!vc.normalized,
Ee=vc.size|0,Pe=vc.offset|0,Ne=vc.stride|0,Ue=vc.divisor|0);Te=da.location;le=L[Te];if(1===xd){le.buffer||D.enableVertexAttribArray(Te);Ve=Ee||1;if(le.type!==cf||le.size!==Ve||le.buffer!==we||le.normalized!==bf||le.offset!==Pe||le.stride!==Ne)D.bindBuffer(34962,we.buffer),D.vertexAttribPointer(Te,Ve,cf,bf,Ne,Pe),le.type=cf,le.size=Ve,le.buffer=we,le.normalized=bf,le.offset=Pe,le.stride=Ne;le.divisor!==Ue&&(G.vertexAttribDivisorANGLE(Te,Ue),le.divisor=Ue)}else if(le.buffer&&(D.disableVertexAttribArray(Te),
le.buffer=null),le.x!==Ge||le.y!==xe||le.z!==He||le.w!==Be)D.vertexAttrib4f(Te,Ge,xe,He,Be),le.x=Ge,le.y=xe,le.z=He,le.w=Be;(ld=O.call(this,R,fa,ba))&&("object"===typeof ld||"function"===typeof ld)&&(sa(ld)||x.getBuffer(ld)||x.getBuffer(ld.buffer)||sa(ld.buffer)||"constant"in ld&&("number"===typeof ld.constant||Nc(ld.constant)))||c.commandRaise(qa,d);Me=!1;$c=1;Ye=Xe=Wd=Jd=0;Ce=null;ad=0;Ke=!1;hf=5126;lf=df=We=0;sa(ld)?(Me=!0,Ce=x.createStream(34962,ld),hf=Ce.dtype):(Ce=x.getBuffer(ld))?hf=Ce.dtype:
"constant"in ld?($c=2,"number"===typeof ld.constant?(Jd=ld.constant,Wd=Xe=Ye=0):(Jd=0<ld.constant.length?ld.constant[0]:0,Wd=1<ld.constant.length?ld.constant[1]:0,Xe=2<ld.constant.length?ld.constant[2]:0,Ye=3<ld.constant.length?ld.constant[3]:0)):(Ce=sa(ld.buffer)?x.createStream(34962,ld.buffer):x.getBuffer(ld.buffer),hf="type"in ld?Bc[ld.type]:Ce.dtype,Ke=!!ld.normalized,ad=ld.size|0,We=ld.offset|0,df=ld.stride|0,lf=ld.divisor|0);jf=Z.location;se=L[jf];if(1===$c){se.buffer||D.enableVertexAttribArray(jf);
he=ad||1;if(se.type!==hf||se.size!==he||se.buffer!==Ce||se.normalized!==Ke||se.offset!==We||se.stride!==df)D.bindBuffer(34962,Ce.buffer),D.vertexAttribPointer(jf,he,hf,Ke,df,We),se.type=hf,se.size=he,se.buffer=Ce,se.normalized=Ke,se.offset=We,se.stride=df;se.divisor!==lf&&(G.vertexAttribDivisorANGLE(jf,lf),se.divisor=lf)}else if(se.buffer&&(D.disableVertexAttribArray(jf),se.buffer=null),se.x!==Jd||se.y!==Wd||se.z!==Xe||se.w!==Ye)D.vertexAttrib4f(jf,Jd,Wd,Xe,Ye),se.x=Jd,se.y=Wd,se.z=Xe,se.w=Ye;ve=
fa.opacity;"number"!==typeof ve&&c.commandRaise(Kb,d);ba&&Ae===ve||(Ae=ve,D.uniform1f(Vb.location,ve));mf=De.call(this,R,fa,ba);Nc(mf)&&2===mf.length||c.commandRaise(me,d);Ie=mf[0];Re=mf[1];ba&&nf===Ie&&sf===Re||(nf=Ie,sf=Re,D.uniform2f($b.location,Ie,Re));of=R.pixelRatio;"number"!==typeof of&&c.commandRaise(sd,d);ba&&Bf===of||(Bf=of,D.uniform1f(e.location,of));wf=fa.scale;Nc(wf)&&2===wf.length||c.commandRaise(Y,d);ff=wf[0];Cf=wf[1];ba&&te===ff&&ze===Cf||(te=ff,ze=Cf,D.uniform2f(q.location,ff,Cf));
Df=fa.scaleFract;Nc(Df)&&2===Df.length||c.commandRaise(B,d);tf=Df[0];Jf=Df[1];ba&&If===tf&&pf===Jf||(If=tf,pf=Jf,D.uniform2f(K.location,tf,Jf));Ef=fa.translate;Nc(Ef)&&2===Ef.length||c.commandRaise(S,d);xf=Ef[0];qf=Ef[1];ba&&Kf===xf&&Lf===qf||(Kf=xf,Lf=qf,D.uniform2f(Q.location,xf,qf));Mf=fa.translateFract;Nc(Mf)&&2===Mf.length||c.commandRaise(g,d);uf=Mf[0];Ff=Mf[1];ba&&Hf===uf&&Rf===Ff||(Hf=uf,Rf=Ff,D.uniform2f(P.location,uf,Ff));Of=fa.elements;yf=null;(Wf=sa(Of))?yf=ma.createStream(Of):(yf=ma.getElements(Of),
Of&&!yf&&c.commandRaise(W,d));yf&&D.bindBuffer(34963,yf.buffer.buffer);Pf=fa.offset;0<=Pf||c.commandRaise(V,d);zf=fa.count;"number"===typeof zf&&0<=zf&&zf===(zf|0)||c.commandRaise(l,d);zf&&(0<Oa?yf?G.drawElementsInstancedANGLE(0,zf,yf.type,Pf<<(yf.type-5121>>1),Oa):G.drawArraysInstancedANGLE(0,Pf,zf,Oa):0>Oa&&(yf?D.drawElements(0,zf,yf.type,Pf<<(yf.type-5121>>1)):D.drawArrays(0,Pf,zf)),R.viewportWidth=rb,R.viewportHeight=hb,Wb&&x.destroyStream(Za),Qb&&x.destroyStream(Pa),Rb&&x.destroyStream(Jc),Pd&&
x.destroyStream(Mb),kd&&x.destroyStream(Qe),Oc&&x.destroyStream(vd),kf&&x.destroyStream(Fd),Se&&x.destroyStream(we),Me&&x.destroyStream(Ce),Wf&&ma.destroyStream(yf))}ta.unbind();T.dirty=!0;ed.setVAO(null);H&&(v.cpuTime+=performance.now()-I)}}},"46895.244":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P){var g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R,z,T,yb,ma,x,wa,L,ed,vb,Gb,Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,
Xa,Ta,r,u,F,y;g=b.gl;W=b.context;V=b.next;l=b.current;lb=b.draw;Wa=b.elements;p=b.buffer;fa=b.shader;za=b.attributes;I=b.vao;G=b.uniforms;Fa=b.framebuffer;Sa=b.extensions;H=b.isBufferArgs;D=b.isArrayLike;R=V.blend_color;z=l.blend_color;T=V.blend_equation;yb=l.blend_equation;ma=V.blend_func;x=l.blend_func;wa=V.depth_range;L=l.depth_range;ed=V.colorMask;vb=l.colorMask;Gb=V.polygonOffset_offset;Ac=l.polygonOffset_offset;sa=V.sample_coverage;Nc=l.sample_coverage;ba=V.stencil_func;hc=l.stencil_func;id=
V.stencil_opFront;Hc=l.stencil_opFront;Tc=V.stencil_opBack;Eb=l.stencil_opBack;pb=V.scissor_box;Kc=l.scissor_box;tb=V.viewport;Xa=l.viewport;Ta={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};r={};r.buffer=J;r.divisor=1;u={};u.buffer=A;u.divisor=1;F={};F.buffer=k;F.divisor=1;y={};y.buffer=n;y.divisor=1;return{draw:function(b){var f,k,q,n,A,B,K,G,J,Y,E,P,Q,T,R,S,fa,ma,pb,tb,pd,Qc,oc,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,
qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La;f=Fa.next;f!==Fa.cur&&(f?g.bindFramebuffer(36160,f.framebuffer):g.bindFramebuffer(36160,null),Fa.cur=f);if(l.dirty){var Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd;Lb=V.dither;Lb!==l.dither&&(Lb?g.enable(3024):g.disable(3024),l.dither=Lb);re=V.depth_func;re!==l.depth_func&&(g.depthFunc(re),
l.depth_func=re);Dc=wa[0];bb=wa[1];if(Dc!==L[0]||bb!==L[1])g.depthRange(Dc,bb),L[0]=Dc,L[1]=bb;Jc=V.depth_mask;Jc!==l.depth_mask&&(g.depthMask(Jc),l.depth_mask=Jc);xc=ed[0];yc=ed[1];Yd=ed[2];xb=ed[3];if(xc!==vb[0]||yc!==vb[1]||Yd!==vb[2]||xb!==vb[3])g.colorMask(xc,yc,Yd,xb),vb[0]=xc,vb[1]=yc,vb[2]=Yd,vb[3]=xb;hd=V.cull_enable;hd!==l.cull_enable&&(hd?g.enable(2884):g.disable(2884),l.cull_enable=hd);db=V.cull_face;db!==l.cull_face&&(g.cullFace(db),l.cull_face=db);Fc=V.frontFace;Fc!==l.frontFace&&(g.frontFace(Fc),
l.frontFace=Fc);nb=V.lineWidth;nb!==l.lineWidth&&(g.lineWidth(nb),l.lineWidth=nb);Zc=V.polygonOffset_enable;Zc!==l.polygonOffset_enable&&(Zc?g.enable(32823):g.disable(32823),l.polygonOffset_enable=Zc);Da=Gb[0];Pd=Gb[1];if(Da!==Ac[0]||Pd!==Ac[1])g.polygonOffset(Da,Pd),Ac[0]=Da,Ac[1]=Pd;cc=V.sample_alpha;cc!==l.sample_alpha&&(cc?g.enable(32926):g.disable(32926),l.sample_alpha=cc);pc=V.sample_enable;pc!==l.sample_enable&&(pc?g.enable(32928):g.disable(32928),l.sample_enable=pc);$d=sa[0];Na=sa[1];if($d!==
Nc[0]||Na!==Nc[1])g.sampleCoverage($d,Na),Nc[0]=$d,Nc[1]=Na;Cd=V.stencil_enable;Cd!==l.stencil_enable&&(Cd?g.enable(2960):g.disable(2960),l.stencil_enable=Cd);Mb=V.stencil_mask;Mb!==l.stencil_mask&&(g.stencilMask(Mb),l.stencil_mask=Mb);ie=ba[0];sb=ba[1];Dd=ba[2];if(ie!==hc[0]||sb!==hc[1]||Dd!==hc[2])g.stencilFunc(ie,sb,Dd),hc[0]=ie,hc[1]=sb,hc[2]=Dd;na=id[0];Vc=id[1];Ia=id[2];fe=id[3];if(na!==Hc[0]||Vc!==Hc[1]||Ia!==Hc[2]||fe!==Hc[3])g.stencilOpSeparate(na,Vc,Ia,fe),Hc[0]=na,Hc[1]=Vc,Hc[2]=Ia,Hc[3]=
fe;Ja=Tc[0];Rc=Tc[1];Ma=Tc[2];kd=Tc[3];if(Ja!==Eb[0]||Rc!==Eb[1]||Ma!==Eb[2]||kd!==Eb[3])g.stencilOpSeparate(Ja,Rc,Ma,kd),Eb[0]=Ja,Eb[1]=Rc,Eb[2]=Ma,Eb[3]=kd}(k=b.viewport)&&"object"===typeof k||c.commandRaise(t,d);q=k.x|0;n=k.y|0;A="width"in k?k.width|0:W.framebufferWidth-q;B="height"in k?k.height|0:W.framebufferHeight-n;0<=A&&0<=B||c.commandRaise(t,d);K=W.viewportWidth;W.viewportWidth=A;G=W.viewportHeight;W.viewportHeight=B;g.viewport(q,n,A,B);Xa[0]=q;Xa[1]=n;Xa[2]=A;Xa[3]=B;g.blendColor(0,0,0,
0);z[0]=0;z[1]=0;z[2]=0;z[3]=0;a[0]?g.enable(3042):g.disable(3042);l.blend_enable=a[1];g.blendEquationSeparate(32774,32774);yb[0]=32774;yb[1]=32774;g.blendFuncSeparate(770,771,773,1);x[0]=770;x[1]=771;x[2]=773;x[3]=1;a[2]?g.enable(2929):g.disable(2929);l.depth_enable=a[3];(J=b.viewport)&&"object"===typeof J||c.commandRaise(h,d);Y=J.x|0;E=J.y|0;P="width"in J?J.width|0:W.framebufferWidth-Y;Q="height"in J?J.height|0:W.framebufferHeight-E;0<=P&&0<=Q||c.commandRaise(h,d);g.scissor(Y,E,P,Q);Kc[0]=Y;Kc[1]=
E;Kc[2]=P;Kc[3]=Q;a[4]?g.enable(3089):g.disable(3089);l.scissor_enable=a[5];if(T=l.profile)R=performance.now(),v.count++;g.useProgram(C.program);S=Sa.angle_instanced_arrays;I.setVAO(null);fa=U.location;ma=za[fa];ma.buffer||g.enableVertexAttribArray(fa);if(5126!==ma.type||2!==ma.size||ma.buffer!==N||!1!==ma.normalized||16!==ma.offset||24!==ma.stride)g.bindBuffer(34962,N.buffer),g.vertexAttribPointer(fa,2,5126,!1,24,16),ma.type=5126,ma.size=2,ma.buffer=N,ma.normalized=!1,ma.offset=16,ma.stride=24;0!==
ma.divisor&&(S.vertexAttribDivisorANGLE(fa,0),ma.divisor=0);pb=Ab.call(this,W,b,0);r.offset=pb;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(jb,d);tb=!1;pd=1;jd=qe=oc=Qc=0;be=null;nc=0;ne=!1;zb=5126;Sc=Bd=oe=0;H(r)?(tb=!0,be=p.createStream(34962,r),zb=be.dtype):(be=p.getBuffer(r))?zb=be.dtype:"constant"in r?(pd=2,"number"===typeof r.constant?(Qc=r.constant,oc=
qe=jd=0):(Qc=0<r.constant.length?r.constant[0]:0,oc=1<r.constant.length?r.constant[1]:0,qe=2<r.constant.length?r.constant[2]:0,jd=3<r.constant.length?r.constant[3]:0)):(be=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),zb="type"in r?Ta[r.type]:be.dtype,ne=!!r.normalized,nc=r.size|0,oe=r.offset|0,Bd=r.stride|0,Sc=r.divisor|0);ic=ia.location;jc=za[ic];if(1===pd){jc.buffer||g.enableVertexAttribArray(ic);Nd=nc||4;if(jc.type!==zb||jc.size!==Nd||jc.buffer!==be||jc.normalized!==ne||jc.offset!==
oe||jc.stride!==Bd)g.bindBuffer(34962,be.buffer),g.vertexAttribPointer(ic,Nd,zb,ne,Bd,oe),jc.type=zb,jc.size=Nd,jc.buffer=be,jc.normalized=ne,jc.offset=oe,jc.stride=Bd;jc.divisor!==Sc&&(S.vertexAttribDivisorANGLE(ic,Sc),jc.divisor=Sc)}else if(jc.buffer&&(g.disableVertexAttribArray(ic),jc.buffer=null),jc.x!==Qc||jc.y!==oc||jc.z!==qe||jc.w!==jd)g.vertexAttrib4f(ic,Qc,oc,qe,jd),jc.x=Qc,jc.y=oc,jc.z=qe,jc.w=jd;bd=ca.location;Cb=za[bd];Cb.buffer||g.enableVertexAttribArray(bd);if(5126!==Cb.type||2!==Cb.size||
Cb.buffer!==N||!1!==Cb.normalized||0!==Cb.offset||24!==Cb.stride)g.bindBuffer(34962,N.buffer),g.vertexAttribPointer(bd,2,5126,!1,24,0),Cb.type=5126,Cb.size=2,Cb.buffer=N,Cb.normalized=!1,Cb.offset=0,Cb.stride=24;0!==Cb.divisor&&(S.vertexAttribDivisorANGLE(bd,0),Cb.divisor=0);td=Ka.call(this,W,b,0);y.offset=td;y&&("object"===typeof y||"function"===typeof y)&&(H(y)||p.getBuffer(y)||p.getBuffer(y.buffer)||H(y.buffer)||"constant"in y&&("number"===typeof y.constant||D(y.constant)))||c.commandRaise(Ba,
d);ud=!1;cd=1;ja=ub=Ya=Hb=0;eb=null;Qa=0;qb=!1;ab=5126;Cc=Pb=Va=0;H(y)?(ud=!0,eb=p.createStream(34962,y),ab=eb.dtype):(eb=p.getBuffer(y))?ab=eb.dtype:"constant"in y?(cd=2,"number"===typeof y.constant?(Hb=y.constant,Ya=ub=ja=0):(Hb=0<y.constant.length?y.constant[0]:0,Ya=1<y.constant.length?y.constant[1]:0,ub=2<y.constant.length?y.constant[2]:0,ja=3<y.constant.length?y.constant[3]:0)):(eb=H(y.buffer)?p.createStream(34962,y.buffer):p.getBuffer(y.buffer),ab="type"in y?Ta[y.type]:eb.dtype,qb=!!y.normalized,
Qa=y.size|0,Va=y.offset|0,Pb=y.stride|0,Cc=y.divisor|0);Oa=Ea.location;ua=za[Oa];if(1===cd){ua.buffer||g.enableVertexAttribArray(Oa);Uc=Qa||4;if(ua.type!==ab||ua.size!==Uc||ua.buffer!==eb||ua.normalized!==qb||ua.offset!==Va||ua.stride!==Pb)g.bindBuffer(34962,eb.buffer),g.vertexAttribPointer(Oa,Uc,ab,qb,Pb,Va),ua.type=ab,ua.size=Uc,ua.buffer=eb,ua.normalized=qb,ua.offset=Va,ua.stride=Pb;ua.divisor!==Cc&&(S.vertexAttribDivisorANGLE(Oa,Cc),ua.divisor=Cc)}else if(ua.buffer&&(g.disableVertexAttribArray(Oa),
ua.buffer=null),ua.x!==Hb||ua.y!==Ya||ua.z!==ub||ua.w!==ja)g.vertexAttrib4f(Oa,Hb,Ya,ub,ja),ua.x=Hb,ua.y=Ya,ua.z=ub,ua.w=ja;Ua=Oe.location;gb=za[Ua];gb.buffer||g.enableVertexAttribArray(Ua);if(5126!==gb.type||2!==gb.size||gb.buffer!==N||!1!==gb.normalized||8!==gb.offset||24!==gb.stride)g.bindBuffer(34962,N.buffer),g.vertexAttribPointer(Ua,2,5126,!1,24,8),gb.type=5126,gb.size=2,gb.buffer=N,gb.normalized=!1,gb.offset=8,gb.stride=24;0!==gb.divisor&&(S.vertexAttribDivisorANGLE(Ua,0),gb.divisor=0);kc=
Ub.call(this,W,b,0);u.offset=kc;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(Nb,d);rb=!1;hb=1;Ra=qc=ka=wc=0;fb=null;ya=0;Wb=!1;Aa=5126;Ib=wb=Fb=0;H(u)?(rb=!0,fb=p.createStream(34962,u),Aa=fb.dtype):(fb=p.getBuffer(u))?Aa=fb.dtype:"constant"in u?(hb=2,"number"===typeof u.constant?(wc=u.constant,ka=qc=Ra=0):(wc=0<u.constant.length?u.constant[0]:0,ka=1<u.constant.length?
u.constant[1]:0,qc=2<u.constant.length?u.constant[2]:0,Ra=3<u.constant.length?u.constant[3]:0)):(fb=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),Aa="type"in u?Ta[u.type]:fb.dtype,Wb=!!u.normalized,ya=u.size|0,Fb=u.offset|0,wb=u.stride|0,Ib=u.divisor|0);Zb=kb.location;Za=za[Zb];if(1===hb){Za.buffer||g.enableVertexAttribArray(Zb);pa=ya||2;if(Za.type!==Aa||Za.size!==pa||Za.buffer!==fb||Za.normalized!==Wb||Za.offset!==Fb||Za.stride!==wb)g.bindBuffer(34962,fb.buffer),g.vertexAttribPointer(Zb,
pa,Aa,Wb,wb,Fb),Za.type=Aa,Za.size=pa,Za.buffer=fb,Za.normalized=Wb,Za.offset=Fb,Za.stride=wb;Za.divisor!==Ib&&(S.vertexAttribDivisorANGLE(Zb,Ib),Za.divisor=Ib)}else if(Za.buffer&&(g.disableVertexAttribArray(Zb),Za.buffer=null),Za.x!==wc||Za.y!==ka||Za.z!==qc||Za.w!==Ra)g.vertexAttrib4f(Zb,wc,ka,qc,Ra),Za.x=wc,Za.y=ka,Za.z=qc,Za.w=Ra;cb=fc.call(this,W,b,0);F.offset=cb;F&&("object"===typeof F||"function"===typeof F)&&(H(F)||p.getBuffer(F)||p.getBuffer(F.buffer)||H(F.buffer)||"constant"in F&&("number"===
typeof F.constant||D(F.constant)))||c.commandRaise(Yb,d);ra=!1;Ha=1;va=gc=Ca=Db=0;Ga=null;$a=0;Qb=!1;m=5126;Gc=Xc=w=0;H(F)?(ra=!0,Ga=p.createStream(34962,F),m=Ga.dtype):(Ga=p.getBuffer(F))?m=Ga.dtype:"constant"in F?(Ha=2,"number"===typeof F.constant?(Db=F.constant,Ca=gc=va=0):(Db=0<F.constant.length?F.constant[0]:0,Ca=1<F.constant.length?F.constant[1]:0,gc=2<F.constant.length?F.constant[2]:0,va=3<F.constant.length?F.constant[3]:0)):(Ga=H(F.buffer)?p.createStream(34962,F.buffer):p.getBuffer(F.buffer),
m="type"in F?Ta[F.type]:Ga.dtype,Qb=!!F.normalized,$a=F.size|0,w=F.offset|0,Xc=F.stride|0,Gc=F.divisor|0);ac=Ob.location;Pa=za[ac];if(1===Ha){Pa.buffer||g.enableVertexAttribArray(ac);Ic=$a||2;if(Pa.type!==m||Pa.size!==Ic||Pa.buffer!==Ga||Pa.normalized!==Qb||Pa.offset!==w||Pa.stride!==Xc)g.bindBuffer(34962,Ga.buffer),g.vertexAttribPointer(ac,Ic,m,Qb,Xc,w),Pa.type=m,Pa.size=Ic,Pa.buffer=Ga,Pa.normalized=Qb,Pa.offset=w,Pa.stride=Xc;Pa.divisor!==Gc&&(S.vertexAttribDivisorANGLE(ac,Gc),Pa.divisor=Gc)}else if(Pa.buffer&&
(g.disableVertexAttribArray(ac),Pa.buffer=null),Pa.x!==Db||Pa.y!==Ca||Pa.z!==gc||Pa.w!==va)g.vertexAttrib4f(ac,Db,Ca,gc,va),Pa.x=Db,Pa.y=Ca,Pa.z=gc,Pa.w=va;bc=b.capSize;"number"!==typeof bc&&c.commandRaise(ib,d);g.uniform1f(ob.location,bc);od=b.lineWidth;"number"!==typeof od&&c.commandRaise(da,d);g.uniform1f(aa.location,od);Bb=b.opacity;"number"!==typeof Bb&&c.commandRaise(qa,d);g.uniform1f(O.location,Bb);Od=b.scale;D(Od)&&2===Od.length||c.commandRaise(X,d);g.uniform2f(Z.location,Od[0],Od[1]);mb=
b.scaleFract;D(mb)&&2===mb.length||c.commandRaise(Kb,d);g.uniform2f(Vb.location,mb[0],mb[1]);Ld=b.translate;D(Ld)&&2===Ld.length||c.commandRaise(De,d);g.uniform2f($b.location,Ld[0],Ld[1]);la=b.translateFract;D(la)&&2===la.length||c.commandRaise(Id,d);g.uniform2f(me.location,la[0],la[1]);Xd=e.call(this,W,b,0);D(Xd)&&4===Xd.length||c.commandRaise(sd,d);g.uniform4f(ta.location,Xd[0],Xd[1],Xd[2],Xd[3]);(ha=lb.elements)?g.bindBuffer(34963,ha.buffer.buffer):I.currentVAO&&(ha=Wa.getElements(I.currentVAO.elements))&&
g.bindBuffer(34963,ha.buffer.buffer);Rb=lb.offset;La=b.count;0<La?ha?S.drawElementsInstancedANGLE(4,36,ha.type,Rb<<(ha.type-5121>>1),La):S.drawArraysInstancedANGLE(4,Rb,36,La):0>La&&(ha?g.drawElements(4,36,ha.type,Rb<<(ha.type-5121>>1)):g.drawArrays(4,Rb,36));l.dirty=!0;I.setVAO(null);W.viewportWidth=K;W.viewportHeight=G;T&&(v.cpuTime+=performance.now()-R);tb&&p.destroyStream(be);ud&&p.destroyStream(eb);rb&&p.destroyStream(fb);ra&&p.destroyStream(Ga)},scope:function(b,f,g){var k,n,x,z,C,ta,A,I,E,
J,L,O,X,Z,Id,sd,aa,ba,da,ia,U,za,qa,Wa,wa,sa,Ea,Fa,ca,Sa,Xa,kb,ib,ob,Cb,vb,Vb,Kb,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,$b,yb,Oa,ua,Ob,Ua,gb,Eb,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,hc,Bb,Le,mb,Ac,la,Kc,ha,Rb,La,Lb,Hc,Dc,bb,Jc,xc,yc,Nc,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,Tc,Na,Cd,Mb,ed,sb,Dd,na,Vc,Ia,id,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,me,gd,gf,rd,Wc,ae,Sb,ce,ec,Oe,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad,Jb,de,dc,De,Mc,Sd,ge,Gb,oc,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,
Md,ue,vc,pd,xd,Ge,xe,He,Be,we,Ee,Je,Jd,Pe,Ne,Ue,Te,le,Ve;(k=b.viewport)&&"object"===typeof k||c.commandRaise(t,d);n=k.x|0;x=k.y|0;z="width"in k?k.width|0:W.framebufferWidth-n;C="height"in k?k.height|0:W.framebufferHeight-x;0<=z&&0<=C||c.commandRaise(t,d);ta=W.viewportWidth;W.viewportWidth=z;A=W.viewportHeight;W.viewportHeight=C;I=tb[0];tb[0]=a[6];E=tb[1];tb[1]=a[7];J=tb[2];tb[2]=a[8];L=tb[3];tb[3]=a[9];O=R[0];R[0]=a[10];X=R[1];R[1]=a[11];Z=R[2];R[2]=a[12];Id=R[3];R[3]=a[13];sd=V.blend_enable;V.blend_enable=
a[14];aa=T[0];T[0]=a[15];ba=T[1];T[1]=a[16];da=ma[0];ma[0]=a[17];ia=ma[1];ma[1]=a[18];U=ma[2];ma[2]=a[19];za=ma[3];ma[3]=a[20];qa=V.depth_enable;V.depth_enable=a[21];(Wa=b.viewport)&&"object"===typeof Wa||c.commandRaise(h,d);wa=Wa.x|0;sa=Wa.y|0;Ea="width"in Wa?Wa.width|0:W.framebufferWidth-wa;Fa="height"in Wa?Wa.height|0:W.framebufferHeight-sa;0<=Ea&&0<=Fa||c.commandRaise(h,d);ca=pb[0];pb[0]=a[22];Sa=pb[1];pb[1]=a[23];Xa=pb[2];pb[2]=a[24];kb=pb[3];pb[3]=a[25];ib=V.scissor_enable;V.scissor_enable=
a[26];if(ob=l.profile)Cb=performance.now(),v.count++;vb=lb.count;lb.count=a[27];Vb=lb.instances;lb.instances=a[28];Kb=lb.primitive;lb.primitive=a[29];Hb=b.range;Ya=G[a[30]];G[a[30]]=Hb;ub=b.lineWidth;ja=G[a[31]];G[a[31]]=ub;eb=b.capSize;Qa=G[a[32]];G[a[32]]=eb;qb=b.opacity;ab=G[a[33]];G[a[33]]=qb;Va=b.scale;$b=G[a[34]];G[a[34]]=Va;yb=b.translate;Oa=G[a[35]];G[a[35]]=yb;ua=b.scaleFract;Ob=G[a[36]];G[a[36]]=ua;Ua=b.translateFract;gb=G[a[37]];G[a[37]]=Ua;Eb=e.call(this,W,b,g);rb=G[a[38]];G[a[38]]=Eb;
hb=q.state;q.state=1;wc=q.x;q.x=0;ka=q.y;q.y=0;qc=q.z;q.z=0;Ra=q.w;q.w=0;fb=q.buffer;q.buffer=N;ya=q.size;q.size=0;Wb=q.normalized;q.normalized=!1;Aa=q.type;q.type=5126;Fb=q.offset;q.offset=0;wb=q.stride;q.stride=24;Ib=q.divisor;q.divisor=0;Zb=Y.state;Y.state=1;Za=Y.x;Y.x=0;pa=Y.y;Y.y=0;cb=Y.z;Y.z=0;ra=Y.w;Y.w=0;Ha=Y.buffer;Y.buffer=N;Db=Y.size;Y.size=0;Ca=Y.normalized;Y.normalized=!1;gc=Y.type;Y.type=5126;va=Y.offset;Y.offset=8;Ga=Y.stride;Y.stride=24;$a=Y.divisor;Y.divisor=0;Qb=K.state;K.state=
1;m=K.x;K.x=0;w=K.y;K.y=0;Xc=K.z;K.z=0;Gc=K.w;K.w=0;ac=K.buffer;K.buffer=N;Pa=K.size;K.size=0;Ic=K.normalized;K.normalized=!1;bc=K.type;K.type=5126;hc=K.offset;K.offset=16;Bb=K.stride;K.stride=24;Le=K.divisor;K.divisor=0;mb=Ab.call(this,W,b,g);r.offset=mb;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(jb,d);Ac=!1;la=1;La=Rb=ha=Kc=0;Lb=null;Hc=0;Dc=!1;bb=5126;
yc=xc=Jc=0;H(r)?(Ac=!0,Lb=p.createStream(34962,r),bb=Lb.dtype):(Lb=p.getBuffer(r))?bb=Lb.dtype:"constant"in r?(la=2,"number"===typeof r.constant?(Kc=r.constant,ha=Rb=La=0):(Kc=0<r.constant.length?r.constant[0]:0,ha=1<r.constant.length?r.constant[1]:0,Rb=2<r.constant.length?r.constant[2]:0,La=3<r.constant.length?r.constant[3]:0)):(Lb=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),bb="type"in r?Ta[r.type]:Lb.dtype,Dc=!!r.normalized,Hc=r.size|0,Jc=r.offset|0,xc=r.stride|0,yc=r.divisor|
0);Nc=B.state;B.state=la;xb=B.x;B.x=Kc;hd=B.y;B.y=ha;db=B.z;B.z=Rb;Fc=B.w;B.w=La;nb=B.buffer;B.buffer=Lb;Zc=B.size;B.size=Hc;Da=B.normalized;B.normalized=Dc;Pd=B.type;B.type=bb;cc=B.offset;B.offset=Jc;pc=B.stride;B.stride=xc;Tc=B.divisor;B.divisor=yc;Na=Ub.call(this,W,b,g);u.offset=Na;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(Nb,d);Cd=!1;Mb=1;na=Dd=sb=ed=
0;Vc=null;Ia=0;id=!1;Ja=5126;kd=Ma=Rc=0;H(u)?(Cd=!0,Vc=p.createStream(34962,u),Ja=Vc.dtype):(Vc=p.getBuffer(u))?Ja=Vc.dtype:"constant"in u?(Mb=2,"number"===typeof u.constant?(ed=u.constant,sb=Dd=na=0):(ed=0<u.constant.length?u.constant[0]:0,sb=1<u.constant.length?u.constant[1]:0,Dd=2<u.constant.length?u.constant[2]:0,na=3<u.constant.length?u.constant[3]:0)):(Vc=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),Ja="type"in u?Ta[u.type]:Vc.dtype,id=!!u.normalized,Ia=u.size|0,Rc=u.offset|
0,Ma=u.stride|0,kd=u.divisor|0);Xb=Q.state;Q.state=Mb;Qd=Q.x;Q.x=ed;rc=Q.y;Q.y=sb;fd=Q.z;Q.z=Dd;sc=Q.w;Q.w=na;me=Q.buffer;Q.buffer=Vc;gd=Q.size;Q.size=Ia;gf=Q.normalized;Q.normalized=id;rd=Q.type;Q.type=Ja;Wc=Q.offset;Q.offset=Rc;ae=Q.stride;Q.stride=Ma;Sb=Q.divisor;Q.divisor=kd;ce=fc.call(this,W,b,g);F.offset=ce;F&&("object"===typeof F||"function"===typeof F)&&(H(F)||p.getBuffer(F)||p.getBuffer(F.buffer)||H(F.buffer)||"constant"in F&&("number"===typeof F.constant||D(F.constant)))||c.commandRaise(Yb,
d);ec=!1;Oe=1;tc=zc=Oc=Tb=0;Ed=null;lc=0;Rd=!1;vd=5126;yd=Hd=zd=0;H(F)?(ec=!0,Ed=p.createStream(34962,F),vd=Ed.dtype):(Ed=p.getBuffer(F))?vd=Ed.dtype:"constant"in F?(Oe=2,"number"===typeof F.constant?(Tb=F.constant,Oc=zc=tc=0):(Tb=0<F.constant.length?F.constant[0]:0,Oc=1<F.constant.length?F.constant[1]:0,zc=2<F.constant.length?F.constant[2]:0,tc=3<F.constant.length?F.constant[3]:0)):(Ed=H(F.buffer)?p.createStream(34962,F.buffer):p.getBuffer(F.buffer),vd="type"in F?Ta[F.type]:Ed.dtype,Rd=!!F.normalized,
lc=F.size|0,zd=F.offset|0,Hd=F.stride|0,yd=F.divisor|0);wd=S.state;S.state=Oe;pe=S.x;S.x=Tb;uc=S.y;S.y=Oc;Ad=S.z;S.z=zc;Jb=S.w;S.w=tc;de=S.buffer;S.buffer=Ed;dc=S.size;S.size=lc;De=S.normalized;S.normalized=Rd;Mc=S.type;S.type=vd;Sd=S.offset;S.offset=zd;ge=S.stride;S.stride=Hd;Gb=S.divisor;S.divisor=yd;oc=Ka.call(this,W,b,g);y.offset=oc;y&&("object"===typeof y||"function"===typeof y)&&(H(y)||p.getBuffer(y)||p.getBuffer(y.buffer)||H(y.buffer)||"constant"in y&&("number"===typeof y.constant||D(y.constant)))||
c.commandRaise(Ba,d);Fd=!1;Zd=1;Ec=dd=mc=Gd=0;Yc=null;Td=0;Md=!1;ue=5126;xd=pd=vc=0;H(y)?(Fd=!0,Yc=p.createStream(34962,y),ue=Yc.dtype):(Yc=p.getBuffer(y))?ue=Yc.dtype:"constant"in y?(Zd=2,"number"===typeof y.constant?(Gd=y.constant,mc=dd=Ec=0):(Gd=0<y.constant.length?y.constant[0]:0,mc=1<y.constant.length?y.constant[1]:0,dd=2<y.constant.length?y.constant[2]:0,Ec=3<y.constant.length?y.constant[3]:0)):(Yc=H(y.buffer)?p.createStream(34962,y.buffer):p.getBuffer(y.buffer),ue="type"in y?Ta[y.type]:Yc.dtype,
Md=!!y.normalized,Td=y.size|0,vc=y.offset|0,pd=y.stride|0,xd=y.divisor|0);Ge=P.state;P.state=Zd;xe=P.x;P.x=Gd;He=P.y;P.y=mc;Be=P.z;P.z=dd;we=P.w;P.w=Ec;Ee=P.buffer;P.buffer=Yc;Je=P.size;P.size=Td;Jd=P.normalized;P.normalized=Md;Pe=P.type;P.type=ue;Ne=P.offset;P.offset=vc;Ue=P.stride;P.stride=pd;Te=P.divisor;P.divisor=xd;le=fa.vert;fa.vert=a[39];Ve=fa.frag;fa.frag=a[40];l.dirty=!0;f(W,b,g);W.viewportWidth=ta;W.viewportHeight=A;tb[0]=I;tb[1]=E;tb[2]=J;tb[3]=L;R[0]=O;R[1]=X;R[2]=Z;R[3]=Id;V.blend_enable=
sd;T[0]=aa;T[1]=ba;ma[0]=da;ma[1]=ia;ma[2]=U;ma[3]=za;V.depth_enable=qa;pb[0]=ca;pb[1]=Sa;pb[2]=Xa;pb[3]=kb;V.scissor_enable=ib;ob&&(v.cpuTime+=performance.now()-Cb);lb.count=vb;lb.instances=Vb;lb.primitive=Kb;G[a[30]]=Ya;G[a[31]]=ja;G[a[32]]=Qa;G[a[33]]=ab;G[a[34]]=$b;G[a[35]]=Oa;G[a[36]]=Ob;G[a[37]]=gb;G[a[38]]=rb;q.state=hb;q.x=wc;q.y=ka;q.z=qc;q.w=Ra;q.buffer=fb;q.size=ya;q.normalized=Wb;q.type=Aa;q.offset=Fb;q.stride=wb;q.divisor=Ib;Y.state=Zb;Y.x=Za;Y.y=pa;Y.z=cb;Y.w=ra;Y.buffer=Ha;Y.size=Db;
Y.normalized=Ca;Y.type=gc;Y.offset=va;Y.stride=Ga;Y.divisor=$a;K.state=Qb;K.x=m;K.y=w;K.z=Xc;K.w=Gc;K.buffer=ac;K.size=Pa;K.normalized=Ic;K.type=bc;K.offset=hc;K.stride=Bb;K.divisor=Le;Ac&&p.destroyStream(Lb);B.state=Nc;B.x=xb;B.y=hd;B.z=db;B.w=Fc;B.buffer=nb;B.size=Zc;B.normalized=Da;B.type=Pd;B.offset=cc;B.stride=pc;B.divisor=Tc;Cd&&p.destroyStream(Vc);Q.state=Xb;Q.x=Qd;Q.y=rc;Q.z=fd;Q.w=sc;Q.buffer=me;Q.size=gd;Q.normalized=gf;Q.type=rd;Q.offset=Wc;Q.stride=ae;Q.divisor=Sb;ec&&p.destroyStream(Ed);
S.state=wd;S.x=pe;S.y=uc;S.z=Ad;S.w=Jb;S.buffer=de;S.size=dc;S.normalized=De;S.type=Mc;S.offset=Sd;S.stride=ge;S.divisor=Gb;Fd&&p.destroyStream(Yc);P.state=Ge;P.x=xe;P.y=He;P.z=Be;P.w=we;P.buffer=Ee;P.size=Je;P.normalized=Jd;P.type=Pe;P.offset=Ne;P.stride=Ue;P.divisor=Te;fa.vert=le;fa.frag=Ve;l.dirty=!0},batch:function(b,f){var k,q,n,A,B,K;k=Fa.next;k!==Fa.cur&&(k?g.bindFramebuffer(36160,k.framebuffer):g.bindFramebuffer(36160,null),Fa.cur=k);if(l.dirty){var G,J,Y,E,P,Q,T,S,R,fa,ma,pb,tb,oc,Qc,pd,
qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd;G=V.dither;G!==l.dither&&(G?g.enable(3024):g.disable(3024),l.dither=G);J=V.depth_func;J!==l.depth_func&&(g.depthFunc(J),l.depth_func=J);Y=wa[0];E=wa[1];if(Y!==L[0]||E!==L[1])g.depthRange(Y,E),L[0]=Y,L[1]=E;P=V.depth_mask;P!==l.depth_mask&&(g.depthMask(P),l.depth_mask=P);Q=ed[0];T=ed[1];S=ed[2];R=ed[3];if(Q!==vb[0]||T!==vb[1]||S!==vb[2]||R!==vb[3])g.colorMask(Q,T,S,R),vb[0]=Q,vb[1]=T,vb[2]=S,vb[3]=R;fa=V.cull_enable;fa!==l.cull_enable&&(fa?g.enable(2884):
g.disable(2884),l.cull_enable=fa);ma=V.cull_face;ma!==l.cull_face&&(g.cullFace(ma),l.cull_face=ma);pb=V.frontFace;pb!==l.frontFace&&(g.frontFace(pb),l.frontFace=pb);tb=V.lineWidth;tb!==l.lineWidth&&(g.lineWidth(tb),l.lineWidth=tb);oc=V.polygonOffset_enable;oc!==l.polygonOffset_enable&&(oc?g.enable(32823):g.disable(32823),l.polygonOffset_enable=oc);Qc=Gb[0];pd=Gb[1];if(Qc!==Ac[0]||pd!==Ac[1])g.polygonOffset(Qc,pd),Ac[0]=Qc,Ac[1]=pd;qe=V.sample_alpha;qe!==l.sample_alpha&&(qe?g.enable(32926):g.disable(32926),
l.sample_alpha=qe);jd=V.sample_enable;jd!==l.sample_enable&&(jd?g.enable(32928):g.disable(32928),l.sample_enable=jd);be=sa[0];nc=sa[1];if(be!==Nc[0]||nc!==Nc[1])g.sampleCoverage(be,nc),Nc[0]=be,Nc[1]=nc;ne=V.stencil_enable;ne!==l.stencil_enable&&(ne?g.enable(2960):g.disable(2960),l.stencil_enable=ne);zb=V.stencil_mask;zb!==l.stencil_mask&&(g.stencilMask(zb),l.stencil_mask=zb);oe=ba[0];Bd=ba[1];Sc=ba[2];if(oe!==hc[0]||Bd!==hc[1]||Sc!==hc[2])g.stencilFunc(oe,Bd,Sc),hc[0]=oe,hc[1]=Bd,hc[2]=Sc;ic=id[0];
jc=id[1];Nd=id[2];bd=id[3];if(ic!==Hc[0]||jc!==Hc[1]||Nd!==Hc[2]||bd!==Hc[3])g.stencilOpSeparate(ic,jc,Nd,bd),Hc[0]=ic,Hc[1]=jc,Hc[2]=Nd,Hc[3]=bd;Cb=Tc[0];td=Tc[1];ud=Tc[2];cd=Tc[3];if(Cb!==Eb[0]||td!==Eb[1]||ud!==Eb[2]||cd!==Eb[3])g.stencilOpSeparate(Cb,td,ud,cd),Eb[0]=Cb,Eb[1]=td,Eb[2]=ud,Eb[3]=cd}g.blendColor(0,0,0,0);z[0]=0;z[1]=0;z[2]=0;z[3]=0;a[41]?g.enable(3042):g.disable(3042);l.blend_enable=a[42];g.blendEquationSeparate(32774,32774);yb[0]=32774;yb[1]=32774;g.blendFuncSeparate(770,771,773,
1);x[0]=770;x[1]=771;x[2]=773;x[3]=1;a[43]?g.enable(2929):g.disable(2929);l.depth_enable=a[44];a[45]?g.enable(3089):g.disable(3089);l.scissor_enable=a[46];if(q=l.profile)n=performance.now(),v.count+=f;g.useProgram(C.program);A=Sa.angle_instanced_arrays;var Hb,Ya,ub,ja,eb,Qa,qb,ab;I.setVAO(null);Hb=U.location;Ya=za[Hb];Ya.buffer||g.enableVertexAttribArray(Hb);if(5126!==Ya.type||2!==Ya.size||Ya.buffer!==N||!1!==Ya.normalized||16!==Ya.offset||24!==Ya.stride)g.bindBuffer(34962,N.buffer),g.vertexAttribPointer(Hb,
2,5126,!1,24,16),Ya.type=5126,Ya.size=2,Ya.buffer=N,Ya.normalized=!1,Ya.offset=16,Ya.stride=24;0!==Ya.divisor&&(A.vertexAttribDivisorANGLE(Hb,0),Ya.divisor=0);ub=ca.location;ja=za[ub];ja.buffer||g.enableVertexAttribArray(ub);if(5126!==ja.type||2!==ja.size||ja.buffer!==N||!1!==ja.normalized||0!==ja.offset||24!==ja.stride)g.bindBuffer(34962,N.buffer),g.vertexAttribPointer(ub,2,5126,!1,24,0),ja.type=5126,ja.size=2,ja.buffer=N,ja.normalized=!1,ja.offset=0,ja.stride=24;0!==ja.divisor&&(A.vertexAttribDivisorANGLE(ub,
0),ja.divisor=0);eb=Oe.location;Qa=za[eb];Qa.buffer||g.enableVertexAttribArray(eb);if(5126!==Qa.type||2!==Qa.size||Qa.buffer!==N||!1!==Qa.normalized||8!==Qa.offset||24!==Qa.stride)g.bindBuffer(34962,N.buffer),g.vertexAttribPointer(eb,2,5126,!1,24,8),Qa.type=5126,Qa.size=2,Qa.buffer=N,Qa.normalized=!1,Qa.offset=8,Qa.stride=24;0!==Qa.divisor&&(A.vertexAttribDivisorANGLE(eb,0),Qa.divisor=0);(qb=lb.elements)?g.bindBuffer(34963,qb.buffer.buffer):I.currentVAO&&(qb=Wa.getElements(I.currentVAO.elements))&&
g.bindBuffer(34963,qb.buffer.buffer);ab=lb.offset;for(B=0;B<f;++B){K=b[B];var Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,Jd,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,pe,uc,Ad;(Va=K.viewport)&&"object"===typeof Va||c.commandRaise(t,d);Pb=Va.x|0;Cc=Va.y|
0;Oa="width"in Va?Va.width|0:W.framebufferWidth-Pb;ua="height"in Va?Va.height|0:W.framebufferHeight-Cc;0<=Oa&&0<=ua||c.commandRaise(t,d);Uc=W.viewportWidth;W.viewportWidth=Oa;Ua=W.viewportHeight;W.viewportHeight=ua;g.viewport(Pb,Cc,Oa,ua);Xa[0]=Pb;Xa[1]=Cc;Xa[2]=Oa;Xa[3]=ua;(gb=K.viewport)&&"object"===typeof gb||c.commandRaise(h,d);kc=gb.x|0;rb=gb.y|0;hb="width"in gb?gb.width|0:W.framebufferWidth-kc;wc="height"in gb?gb.height|0:W.framebufferHeight-rb;0<=hb&&0<=wc||c.commandRaise(h,d);g.scissor(kc,
rb,hb,wc);Kc[0]=kc;Kc[1]=rb;Kc[2]=hb;Kc[3]=wc;ka=Ab.call(this,W,K,B);r.offset=ka;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(jb,d);qc=!1;Ra=1;Aa=Wb=ya=fb=0;Fb=null;wb=0;Ib=!1;Zb=5126;cb=pa=Za=0;H(r)?(qc=!0,Fb=p.createStream(34962,r),Zb=Fb.dtype):(Fb=p.getBuffer(r))?Zb=Fb.dtype:"constant"in r?(Ra=2,"number"===typeof r.constant?(fb=r.constant,ya=Wb=Aa=0):(fb=
0<r.constant.length?r.constant[0]:0,ya=1<r.constant.length?r.constant[1]:0,Wb=2<r.constant.length?r.constant[2]:0,Aa=3<r.constant.length?r.constant[3]:0)):(Fb=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),Zb="type"in r?Ta[r.type]:Fb.dtype,Ib=!!r.normalized,wb=r.size|0,Za=r.offset|0,pa=r.stride|0,cb=r.divisor|0);ra=ia.location;Ha=za[ra];if(1===Ra){Ha.buffer||g.enableVertexAttribArray(ra);Db=wb||4;if(Ha.type!==Zb||Ha.size!==Db||Ha.buffer!==Fb||Ha.normalized!==Ib||Ha.offset!==Za||
Ha.stride!==pa)g.bindBuffer(34962,Fb.buffer),g.vertexAttribPointer(ra,Db,Zb,Ib,pa,Za),Ha.type=Zb,Ha.size=Db,Ha.buffer=Fb,Ha.normalized=Ib,Ha.offset=Za,Ha.stride=pa;Ha.divisor!==cb&&(A.vertexAttribDivisorANGLE(ra,cb),Ha.divisor=cb)}else if(Ha.buffer&&(g.disableVertexAttribArray(ra),Ha.buffer=null),Ha.x!==fb||Ha.y!==ya||Ha.z!==Wb||Ha.w!==Aa)g.vertexAttrib4f(ra,fb,ya,Wb,Aa),Ha.x=fb,Ha.y=ya,Ha.z=Wb,Ha.w=Aa;Ca=Ka.call(this,W,K,B);y.offset=Ca;y&&("object"===typeof y||"function"===typeof y)&&(H(y)||p.getBuffer(y)||
p.getBuffer(y.buffer)||H(y.buffer)||"constant"in y&&("number"===typeof y.constant||D(y.constant)))||c.commandRaise(Ba,d);gc=!1;va=1;m=Qb=$a=Ga=0;w=null;Xc=0;Gc=!1;ac=5126;bc=Ic=Pa=0;H(y)?(gc=!0,w=p.createStream(34962,y),ac=w.dtype):(w=p.getBuffer(y))?ac=w.dtype:"constant"in y?(va=2,"number"===typeof y.constant?(Ga=y.constant,$a=Qb=m=0):(Ga=0<y.constant.length?y.constant[0]:0,$a=1<y.constant.length?y.constant[1]:0,Qb=2<y.constant.length?y.constant[2]:0,m=3<y.constant.length?y.constant[3]:0)):(w=H(y.buffer)?
p.createStream(34962,y.buffer):p.getBuffer(y.buffer),ac="type"in y?Ta[y.type]:w.dtype,Gc=!!y.normalized,Xc=y.size|0,Pa=y.offset|0,Ic=y.stride|0,bc=y.divisor|0);od=Ea.location;Bb=za[od];if(1===va){Bb.buffer||g.enableVertexAttribArray(od);Od=Xc||4;if(Bb.type!==ac||Bb.size!==Od||Bb.buffer!==w||Bb.normalized!==Gc||Bb.offset!==Pa||Bb.stride!==Ic)g.bindBuffer(34962,w.buffer),g.vertexAttribPointer(od,Od,ac,Gc,Ic,Pa),Bb.type=ac,Bb.size=Od,Bb.buffer=w,Bb.normalized=Gc,Bb.offset=Pa,Bb.stride=Ic;Bb.divisor!==
bc&&(A.vertexAttribDivisorANGLE(od,bc),Bb.divisor=bc)}else if(Bb.buffer&&(g.disableVertexAttribArray(od),Bb.buffer=null),Bb.x!==Ga||Bb.y!==$a||Bb.z!==Qb||Bb.w!==m)g.vertexAttrib4f(od,Ga,$a,Qb,m),Bb.x=Ga,Bb.y=$a,Bb.z=Qb,Bb.w=m;mb=Ub.call(this,W,K,B);u.offset=mb;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(Nb,d);Ld=!1;la=1;La=Rb=ha=Xd=0;Lb=null;re=0;Dc=!1;bb=
5126;yc=xc=Jc=0;H(u)?(Ld=!0,Lb=p.createStream(34962,u),bb=Lb.dtype):(Lb=p.getBuffer(u))?bb=Lb.dtype:"constant"in u?(la=2,"number"===typeof u.constant?(Xd=u.constant,ha=Rb=La=0):(Xd=0<u.constant.length?u.constant[0]:0,ha=1<u.constant.length?u.constant[1]:0,Rb=2<u.constant.length?u.constant[2]:0,La=3<u.constant.length?u.constant[3]:0)):(Lb=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),bb="type"in u?Ta[u.type]:Lb.dtype,Dc=!!u.normalized,re=u.size|0,Jc=u.offset|0,xc=u.stride|0,yc=u.divisor|
0);Yd=kb.location;xb=za[Yd];if(1===la){xb.buffer||g.enableVertexAttribArray(Yd);hd=re||2;if(xb.type!==bb||xb.size!==hd||xb.buffer!==Lb||xb.normalized!==Dc||xb.offset!==Jc||xb.stride!==xc)g.bindBuffer(34962,Lb.buffer),g.vertexAttribPointer(Yd,hd,bb,Dc,xc,Jc),xb.type=bb,xb.size=hd,xb.buffer=Lb,xb.normalized=Dc,xb.offset=Jc,xb.stride=xc;xb.divisor!==yc&&(A.vertexAttribDivisorANGLE(Yd,yc),xb.divisor=yc)}else if(xb.buffer&&(g.disableVertexAttribArray(Yd),xb.buffer=null),xb.x!==Xd||xb.y!==ha||xb.z!==Rb||
xb.w!==La)g.vertexAttrib4f(Yd,Xd,ha,Rb,La),xb.x=Xd,xb.y=ha,xb.z=Rb,xb.w=La;db=fc.call(this,W,K,B);F.offset=db;F&&("object"===typeof F||"function"===typeof F)&&(H(F)||p.getBuffer(F)||p.getBuffer(F.buffer)||H(F.buffer)||"constant"in F&&("number"===typeof F.constant||D(F.constant)))||c.commandRaise(Yb,d);Fc=!1;nb=1;cc=Pd=Da=Zc=0;pc=null;$d=0;Na=!1;Cd=5126;sb=ie=Mb=0;H(F)?(Fc=!0,pc=p.createStream(34962,F),Cd=pc.dtype):(pc=p.getBuffer(F))?Cd=pc.dtype:"constant"in F?(nb=2,"number"===typeof F.constant?(Zc=
F.constant,Da=Pd=cc=0):(Zc=0<F.constant.length?F.constant[0]:0,Da=1<F.constant.length?F.constant[1]:0,Pd=2<F.constant.length?F.constant[2]:0,cc=3<F.constant.length?F.constant[3]:0)):(pc=H(F.buffer)?p.createStream(34962,F.buffer):p.getBuffer(F.buffer),Cd="type"in F?Ta[F.type]:pc.dtype,Na=!!F.normalized,$d=F.size|0,Mb=F.offset|0,ie=F.stride|0,sb=F.divisor|0);Dd=Ob.location;na=za[Dd];if(1===nb){na.buffer||g.enableVertexAttribArray(Dd);Vc=$d||2;if(na.type!==Cd||na.size!==Vc||na.buffer!==pc||na.normalized!==
Na||na.offset!==Mb||na.stride!==ie)g.bindBuffer(34962,pc.buffer),g.vertexAttribPointer(Dd,Vc,Cd,Na,ie,Mb),na.type=Cd,na.size=Vc,na.buffer=pc,na.normalized=Na,na.offset=Mb,na.stride=ie;na.divisor!==sb&&(A.vertexAttribDivisorANGLE(Dd,sb),na.divisor=sb)}else if(na.buffer&&(g.disableVertexAttribArray(Dd),na.buffer=null),na.x!==Zc||na.y!==Da||na.z!==Pd||na.w!==cc)g.vertexAttrib4f(Dd,Zc,Da,Pd,cc),na.x=Zc,na.y=Da,na.z=Pd,na.w=cc;Ia=K.capSize;"number"!==typeof Ia&&c.commandRaise(ib,d);B&&fe===Ia||(fe=Ia,
g.uniform1f(ob.location,Ia));Ja=K.lineWidth;"number"!==typeof Ja&&c.commandRaise(da,d);B&&Rc===Ja||(Rc=Ja,g.uniform1f(aa.location,Ja));Ma=K.opacity;"number"!==typeof Ma&&c.commandRaise(qa,d);B&&kd===Ma||(kd=Ma,g.uniform1f(O.location,Ma));Xb=K.scale;D(Xb)&&2===Xb.length||c.commandRaise(X,d);Qd=Xb[0];fd=Xb[1];B&&rc===Qd&&sc===fd||(rc=Qd,sc=fd,g.uniform2f(Z.location,Qd,fd));Qe=K.scaleFract;D(Qe)&&2===Qe.length||c.commandRaise(Kb,d);gd=Qe[0];rd=Qe[1];B&&ye===gd&&Wc===rd||(ye=gd,Wc=rd,g.uniform2f(Vb.location,
gd,rd));ae=K.translate;D(ae)&&2===ae.length||c.commandRaise(De,d);Sb=ae[0];ec=ae[1];B&&ce===Sb&&Jd===ec||(ce=Sb,Jd=ec,g.uniform2f($b.location,Sb,ec));Tb=K.translateFract;D(Tb)&&2===Tb.length||c.commandRaise(Id,d);Oc=Tb[0];tc=Tb[1];B&&zc===Oc&&Ed===tc||(zc=Oc,Ed=tc,g.uniform2f(me.location,Oc,tc));lc=e.call(this,W,K,B);D(lc)&&4===lc.length||c.commandRaise(sd,d);Rd=lc[0];zd=lc[1];yd=lc[2];pe=lc[3];B&&vd===Rd&&Hd===zd&&wd===yd&&uc===pe||(vd=Rd,Hd=zd,wd=yd,uc=pe,g.uniform4f(ta.location,Rd,zd,yd,pe));Ad=
K.count;0<Ad?qb?A.drawElementsInstancedANGLE(4,36,qb.type,ab<<(qb.type-5121>>1),Ad):A.drawArraysInstancedANGLE(4,ab,36,Ad):0>Ad&&(qb?g.drawElements(4,36,qb.type,ab<<(qb.type-5121>>1)):g.drawArrays(4,ab,36));W.viewportWidth=Uc;W.viewportHeight=Ua;qc&&p.destroyStream(Fb);gc&&p.destroyStream(w);Ld&&p.destroyStream(Lb);Fc&&p.destroyStream(pc)}l.dirty=!0;I.setVAO(null);q&&(v.cpuTime+=performance.now()-n)}}},"43931.248":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Oe,Ub,Nb,kb,fc,Yb,Ob,ob,ib,
aa,da,O,qa,Z,X,Vb,Kb,$b,De,me,Id,ta,e,sd,q,Y,K,B,Q,S,P){var g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R,z,T,yb,ma,x,wa,L,ed,vb,oc,Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u;g=b.gl;W=b.context;V=b.next;l=b.current;lb=b.draw;Wa=b.elements;p=b.buffer;fa=b.shader;za=b.attributes;I=b.vao;G=b.uniforms;Fa=b.framebuffer;Sa=b.extensions;H=b.isBufferArgs;D=b.isArrayLike;R=V.blend_color;z=l.blend_color;T=V.blend_equation;yb=l.blend_equation;ma=V.blend_func;x=l.blend_func;wa=V.depth_range;L=l.depth_range;ed=V.colorMask;
vb=l.colorMask;oc=V.polygonOffset_offset;Ac=l.polygonOffset_offset;sa=V.sample_coverage;Nc=l.sample_coverage;ba=V.stencil_func;hc=l.stencil_func;id=V.stencil_opFront;Hc=l.stencil_opFront;Tc=V.stencil_opBack;Eb=l.stencil_opBack;pb=V.scissor_box;Kc=l.scissor_box;tb=V.viewport;Xa=l.viewport;Ta={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};r={offset:4,stride:8};u={offset:0,stride:8};return{draw:function(b){var f,B,G,P,Q,S,R,fa,ma,tb,Bc,Pc,E,pd,ke,nd,Gb,
Jd,ad,ee,he,Lc,Ae,Qc,af,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb;f=Fa.next;f!==Fa.cur&&(f?g.bindFramebuffer(36160,f.framebuffer):g.bindFramebuffer(36160,null),Fa.cur=f);if(l.dirty){var Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd,Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc;Od=V.dither;Od!==l.dither&&(Od?g.enable(3024):
g.disable(3024),l.dither=Od);mb=T[0];Ld=T[1];if(mb!==yb[0]||Ld!==yb[1])g.blendEquationSeparate(mb,Ld),yb[0]=mb,yb[1]=Ld;la=V.depth_func;la!==l.depth_func&&(g.depthFunc(la),l.depth_func=la);Xd=wa[0];ha=wa[1];if(Xd!==L[0]||ha!==L[1])g.depthRange(Xd,ha),L[0]=Xd,L[1]=ha;Rb=V.depth_mask;Rb!==l.depth_mask&&(g.depthMask(Rb),l.depth_mask=Rb);La=ed[0];Lb=ed[1];re=ed[2];Dc=ed[3];if(La!==vb[0]||Lb!==vb[1]||re!==vb[2]||Dc!==vb[3])g.colorMask(La,Lb,re,Dc),vb[0]=La,vb[1]=Lb,vb[2]=re,vb[3]=Dc;bb=V.cull_enable;bb!==
l.cull_enable&&(bb?g.enable(2884):g.disable(2884),l.cull_enable=bb);Jc=V.cull_face;Jc!==l.cull_face&&(g.cullFace(Jc),l.cull_face=Jc);xc=V.frontFace;xc!==l.frontFace&&(g.frontFace(xc),l.frontFace=xc);yc=V.lineWidth;yc!==l.lineWidth&&(g.lineWidth(yc),l.lineWidth=yc);Yd=V.polygonOffset_enable;Yd!==l.polygonOffset_enable&&(Yd?g.enable(32823):g.disable(32823),l.polygonOffset_enable=Yd);xb=oc[0];hd=oc[1];if(xb!==Ac[0]||hd!==Ac[1])g.polygonOffset(xb,hd),Ac[0]=xb,Ac[1]=hd;db=V.sample_alpha;db!==l.sample_alpha&&
(db?g.enable(32926):g.disable(32926),l.sample_alpha=db);Fc=V.sample_enable;Fc!==l.sample_enable&&(Fc?g.enable(32928):g.disable(32928),l.sample_enable=Fc);nb=sa[0];Zc=sa[1];if(nb!==Nc[0]||Zc!==Nc[1])g.sampleCoverage(nb,Zc),Nc[0]=nb,Nc[1]=Zc;Da=V.stencil_mask;Da!==l.stencil_mask&&(g.stencilMask(Da),l.stencil_mask=Da);Pd=ba[0];cc=ba[1];pc=ba[2];if(Pd!==hc[0]||cc!==hc[1]||pc!==hc[2])g.stencilFunc(Pd,cc,pc),hc[0]=Pd,hc[1]=cc,hc[2]=pc;$d=id[0];Na=id[1];Cd=id[2];Mb=id[3];if($d!==Hc[0]||Na!==Hc[1]||Cd!==
Hc[2]||Mb!==Hc[3])g.stencilOpSeparate($d,Na,Cd,Mb),Hc[0]=$d,Hc[1]=Na,Hc[2]=Cd,Hc[3]=Mb;ie=Tc[0];sb=Tc[1];Dd=Tc[2];na=Tc[3];if(ie!==Eb[0]||sb!==Eb[1]||Dd!==Eb[2]||na!==Eb[3])g.stencilOpSeparate(ie,sb,Dd,na),Eb[0]=ie,Eb[1]=sb,Eb[2]=Dd,Eb[3]=na;Vc=V.scissor_enable;Vc!==l.scissor_enable&&(Vc?g.enable(3089):g.disable(3089),l.scissor_enable=Vc);Ia=pb[0];fe=pb[1];Ja=pb[2];Rc=pb[3];if(Ia!==Kc[0]||fe!==Kc[1]||Ja!==Kc[2]||Rc!==Kc[3])g.scissor(Ia,fe,Ja,Rc),Kc[0]=Ia,Kc[1]=fe,Kc[2]=Ja,Kc[3]=Rc}(B=this.viewport)&&
"object"===typeof B||c.commandRaise(J,d);G=B.x|0;P=B.y|0;Q="width"in B?B.width|0:W.framebufferWidth-G;S="height"in B?B.height|0:W.framebufferHeight-P;0<=Q&&0<=S||c.commandRaise(J,d);R=W.viewportWidth;W.viewportWidth=Q;fa=W.viewportHeight;W.viewportHeight=S;g.viewport(G,P,Q,S);Xa[0]=G;Xa[1]=P;Xa[2]=Q;Xa[3]=S;g.blendColor(0,0,0,1);z[0]=0;z[1]=0;z[2]=0;z[3]=1;a[0]?g.enable(3042):g.disable(3042);l.blend_enable=a[1];g.blendFuncSeparate(770,771,773,1);x[0]=770;x[1]=771;x[2]=773;x[3]=1;a[2]?g.enable(2929):
g.disable(2929);l.depth_enable=a[3];a[4]?g.enable(2960):g.disable(2960);l.stencil_enable=a[5];if(ma=l.profile)tb=performance.now(),v.count++;g.useProgram(A.program);Bc=Sa.angle_instanced_arrays;I.setVAO(null);(Pc=this.charBuffer)&&("object"===typeof Pc||"function"===typeof Pc)&&(H(Pc)||p.getBuffer(Pc)||p.getBuffer(Pc.buffer)||H(Pc.buffer)||"constant"in Pc&&("number"===typeof Pc.constant||D(Pc.constant)))||c.commandRaise(k,d);E=!1;pd=1;Jd=Gb=nd=ke=0;ad=null;ee=0;he=!1;Lc=5126;af=Qc=Ae=0;H(Pc)?(E=!0,
ad=p.createStream(34962,Pc),Lc=ad.dtype):(ad=p.getBuffer(Pc))?Lc=ad.dtype:"constant"in Pc?(pd=2,"number"===typeof Pc.constant?(ke=Pc.constant,nd=Gb=Jd=0):(ke=0<Pc.constant.length?Pc.constant[0]:0,nd=1<Pc.constant.length?Pc.constant[1]:0,Gb=2<Pc.constant.length?Pc.constant[2]:0,Jd=3<Pc.constant.length?Pc.constant[3]:0)):(ad=H(Pc.buffer)?p.createStream(34962,Pc.buffer):p.getBuffer(Pc.buffer),Lc="type"in Pc?Ta[Pc.type]:ad.dtype,he=!!Pc.normalized,ee=Pc.size|0,Ae=Pc.offset|0,Qc=Pc.stride|0,af=Pc.divisor|
0);qe=n.location;jd=za[qe];if(1===pd){jd.buffer||g.enableVertexAttribArray(qe);be=ee||1;if(jd.type!==Lc||jd.size!==be||jd.buffer!==ad||jd.normalized!==he||jd.offset!==Ae||jd.stride!==Qc)g.bindBuffer(34962,ad.buffer),g.vertexAttribPointer(qe,be,Lc,he,Qc,Ae),jd.type=Lc,jd.size=be,jd.buffer=ad,jd.normalized=he,jd.offset=Ae,jd.stride=Qc;jd.divisor!==af&&(Bc.vertexAttribDivisorANGLE(qe,af),jd.divisor=af)}else if(jd.buffer&&(g.disableVertexAttribArray(qe),jd.buffer=null),jd.x!==ke||jd.y!==nd||jd.z!==Gb||
jd.w!==Jd)g.vertexAttrib4f(qe,ke,nd,Gb,Jd),jd.x=ke,jd.y=nd,jd.z=Gb,jd.w=Jd;r.buffer=this.sizeBuffer;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(t,d);nc=!1;ne=1;Sc=Bd=oe=zb=0;ic=null;jc=0;Nd=!1;bd=5126;ud=td=Cb=0;H(r)?(nc=!0,ic=p.createStream(34962,r),bd=ic.dtype):(ic=p.getBuffer(r))?bd=ic.dtype:"constant"in r?(ne=2,"number"===typeof r.constant?(zb=r.constant,
oe=Bd=Sc=0):(zb=0<r.constant.length?r.constant[0]:0,oe=1<r.constant.length?r.constant[1]:0,Bd=2<r.constant.length?r.constant[2]:0,Sc=3<r.constant.length?r.constant[3]:0)):(ic=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),bd="type"in r?Ta[r.type]:ic.dtype,Nd=!!r.normalized,jc=r.size|0,Cb=r.offset|0,td=r.stride|0,ud=r.divisor|0);cd=h.location;Hb=za[cd];if(1===ne){Hb.buffer||g.enableVertexAttribArray(cd);Ya=jc||1;if(Hb.type!==bd||Hb.size!==Ya||Hb.buffer!==ic||Hb.normalized!==Nd||Hb.offset!==
Cb||Hb.stride!==td)g.bindBuffer(34962,ic.buffer),g.vertexAttribPointer(cd,Ya,bd,Nd,td,Cb),Hb.type=bd,Hb.size=Ya,Hb.buffer=ic,Hb.normalized=Nd,Hb.offset=Cb,Hb.stride=td;Hb.divisor!==ud&&(Bc.vertexAttribDivisorANGLE(cd,ud),Hb.divisor=ud)}else if(Hb.buffer&&(g.disableVertexAttribArray(cd),Hb.buffer=null),Hb.x!==zb||Hb.y!==oe||Hb.z!==Bd||Hb.w!==Sc)g.vertexAttrib4f(cd,zb,oe,Bd,Sc),Hb.x=zb,Hb.y=oe,Hb.z=Bd,Hb.w=Sc;(ub=this.position)&&("object"===typeof ub||"function"===typeof ub)&&(H(ub)||p.getBuffer(ub)||
p.getBuffer(ub.buffer)||H(ub.buffer)||"constant"in ub&&("number"===typeof ub.constant||D(ub.constant)))||c.commandRaise(C,d);ja=!1;eb=1;Va=ab=qb=Qa=0;Pb=null;Cc=0;Oa=!1;ua=5126;gb=Ua=Uc=0;H(ub)?(ja=!0,Pb=p.createStream(34962,ub),ua=Pb.dtype):(Pb=p.getBuffer(ub))?ua=Pb.dtype:"constant"in ub?(eb=2,"number"===typeof ub.constant?(Qa=ub.constant,qb=ab=Va=0):(Qa=0<ub.constant.length?ub.constant[0]:0,qb=1<ub.constant.length?ub.constant[1]:0,ab=2<ub.constant.length?ub.constant[2]:0,Va=3<ub.constant.length?
ub.constant[3]:0)):(Pb=H(ub.buffer)?p.createStream(34962,ub.buffer):p.getBuffer(ub.buffer),ua="type"in ub?Ta[ub.type]:Pb.dtype,Oa=!!ub.normalized,Cc=ub.size|0,Uc=ub.offset|0,Ua=ub.stride|0,gb=ub.divisor|0);kc=N.location;rb=za[kc];if(1===eb){rb.buffer||g.enableVertexAttribArray(kc);hb=Cc||2;if(rb.type!==ua||rb.size!==hb||rb.buffer!==Pb||rb.normalized!==Oa||rb.offset!==Uc||rb.stride!==Ua)g.bindBuffer(34962,Pb.buffer),g.vertexAttribPointer(kc,hb,ua,Oa,Ua,Uc),rb.type=ua,rb.size=hb,rb.buffer=Pb,rb.normalized=
Oa,rb.offset=Uc,rb.stride=Ua;rb.divisor!==gb&&(Bc.vertexAttribDivisorANGLE(kc,gb),rb.divisor=gb)}else if(rb.buffer&&(g.disableVertexAttribArray(kc),rb.buffer=null),rb.x!==Qa||rb.y!==qb||rb.z!==ab||rb.w!==Va)g.vertexAttrib4f(kc,Qa,qb,ab,Va),rb.x=Qa,rb.y=qb,rb.z=ab,rb.w=Va;u.buffer=this.sizeBuffer;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(U,d);wc=!1;ka=1;ya=
fb=Ra=qc=0;Wb=null;Aa=0;Fb=!1;wb=5126;Za=Zb=Ib=0;H(u)?(wc=!0,Wb=p.createStream(34962,u),wb=Wb.dtype):(Wb=p.getBuffer(u))?wb=Wb.dtype:"constant"in u?(ka=2,"number"===typeof u.constant?(qc=u.constant,Ra=fb=ya=0):(qc=0<u.constant.length?u.constant[0]:0,Ra=1<u.constant.length?u.constant[1]:0,fb=2<u.constant.length?u.constant[2]:0,ya=3<u.constant.length?u.constant[3]:0)):(Wb=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),wb="type"in u?Ta[u.type]:Wb.dtype,Fb=!!u.normalized,Aa=u.size|0,
Ib=u.offset|0,Zb=u.stride|0,Za=u.divisor|0);pa=Ab.location;cb=za[pa];if(1===ka){cb.buffer||g.enableVertexAttribArray(pa);ra=Aa||1;if(cb.type!==wb||cb.size!==ra||cb.buffer!==Wb||cb.normalized!==Fb||cb.offset!==Ib||cb.stride!==Zb)g.bindBuffer(34962,Wb.buffer),g.vertexAttribPointer(pa,ra,wb,Fb,Zb,Ib),cb.type=wb,cb.size=ra,cb.buffer=Wb,cb.normalized=Fb,cb.offset=Ib,cb.stride=Zb;cb.divisor!==Za&&(Bc.vertexAttribDivisorANGLE(pa,Za),cb.divisor=Za)}else if(cb.buffer&&(g.disableVertexAttribArray(pa),cb.buffer=
null),cb.x!==qc||cb.y!==Ra||cb.z!==fb||cb.w!==ya)g.vertexAttrib4f(pa,qc,Ra,fb,ya),cb.x=qc,cb.y=Ra,cb.z=fb,cb.w=ya;Ha=b.align;"number"!==typeof Ha&&c.commandRaise(ia,d);g.uniform1f(jb.location,Ha);(Db=Ka.call(this,W,b,0))&&"framebuffer"===Db._reglType&&(Db=Db.color[0]);"function"===typeof Db&&"texture2d"===Db._reglType||c.commandRaise(Ba,d);Ca=Db._texture;g.uniform1i(ca.location,Ca.bind());gc=Oe.call(this,W,b,0);D(gc)&&2===gc.length||c.commandRaise(Ub,d);g.uniform2f(Ea.location,gc[0],gc[1]);va=kb.call(this,
W,b,0);D(va)&&2===va.length||c.commandRaise(fc,d);g.uniform2f(Nb.location,va[0],va[1]);Ga=b.baseline;"number"!==typeof Ga&&c.commandRaise(Ob,d);g.uniform1f(Yb.location,Ga);$a=ib.call(this,W,b,0);"number"!==typeof $a&&c.commandRaise(aa,d);g.uniform1f(ob.location,$a);Qb=b.color;D(Qb)&&4===Qb.length||c.commandRaise(O,d);g.uniform4f(da.location,Qb[0],Qb[1],Qb[2],Qb[3]);m=Z.call(this,W,b,0);"number"!==typeof m&&c.commandRaise(X,d);g.uniform1f(qa.location,m);w=b.opacity;"number"!==typeof w&&c.commandRaise(Kb,
d);g.uniform1f(Vb.location,w);Xc=b.positionOffset;D(Xc)&&2===Xc.length||c.commandRaise(De,d);g.uniform2f($b.location,Xc[0],Xc[1]);Gc=this.scale;D(Gc)&&2===Gc.length||c.commandRaise(Id,d);g.uniform2f(me.location,Gc[0],Gc[1]);ac=this.translate;D(ac)&&2===ac.length||c.commandRaise(e,d);g.uniform2f(ta.location,ac[0],ac[1]);Pa=this.viewportArray;D(Pa)&&4===Pa.length||c.commandRaise(q,d);g.uniform4f(sd.location,Pa[0],Pa[1],Pa[2],Pa[3]);(Ic=lb.elements)?g.bindBuffer(34963,Ic.buffer.buffer):I.currentVAO&&
(Ic=Wa.getElements(I.currentVAO.elements))&&g.bindBuffer(34963,Ic.buffer.buffer);bc=b.offset;0<=bc||c.commandRaise(Y,d);od=b.count;"number"===typeof od&&0<=od&&od===(od|0)||c.commandRaise(K,d);od&&(Bb=lb.instances,0<Bb?Ic?Bc.drawElementsInstancedANGLE(0,od,Ic.type,bc<<(Ic.type-5121>>1),Bb):Bc.drawArraysInstancedANGLE(0,bc,od,Bb):0>Bb&&(Ic?g.drawElements(0,od,Ic.type,bc<<(Ic.type-5121>>1)):g.drawArrays(0,bc,od)),l.dirty=!0,I.setVAO(null),W.viewportWidth=R,W.viewportHeight=fa,ma&&(v.cpuTime+=performance.now()-
tb),E&&p.destroyStream(ad),nc&&p.destroyStream(ic),ja&&p.destroyStream(Pb),wc&&p.destroyStream(Wb),Ca.unbind())},scope:function(b,e,g){var f,h,q,n,x,z,A,ta,I,L,E,O,T,X,N,Id,sd,aa,ba,da,ia,Wa,za,qa,wa,sa,Ba,Ea,Ab,Fa,jb,ca,Sa,Xa,ob,pb,vb,Vb,Kb,$b,yb,Ya,ub,ja,eb,Qa,qb,ab,Va,je,Ub,Oa,ua,Nb,Ua,gb,Yb,rb,hb,Ob,ka,Eb,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,fc,Bb,hc,mb,Ac,la,Kc,ha,Rb,La,Lb,Hc,Dc,bb,Jc,xc,yc,Nc,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,Tc,Na,Cd,Mb,ed,sb,Dd,
na,Vc,Ia,id,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,me,gd,oc,rd,Wc,ae,Sb,ce,ec,Gb,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd;(f=this.viewport)&&"object"===typeof f||c.commandRaise(J,d);h=f.x|0;q=f.y|0;n="width"in f?f.width|0:W.framebufferWidth-h;x="height"in f?f.height|0:W.framebufferHeight-q;0<=n&&0<=x||c.commandRaise(J,d);z=W.viewportWidth;W.viewportWidth=n;A=W.viewportHeight;W.viewportHeight=x;ta=tb[0];tb[0]=a[6];I=tb[1];tb[1]=a[7];L=tb[2];tb[2]=a[8];E=tb[3];tb[3]=a[9];O=R[0];R[0]=a[10];T=R[1];R[1]=a[11];X=R[2];R[2]=a[12];
N=R[3];R[3]=a[13];Id=V.blend_enable;V.blend_enable=a[14];sd=ma[0];ma[0]=a[15];aa=ma[1];ma[1]=a[16];ba=ma[2];ma[2]=a[17];da=ma[3];ma[3]=a[18];ia=V.depth_enable;V.depth_enable=a[19];Wa=V.stencil_enable;V.stencil_enable=a[20];if(za=l.profile)qa=performance.now(),v.count++;0<=b.offset||c.commandRaise(Y,d);wa=lb.offset;lb.offset=a[21];sa=b.count;"number"===typeof sa&&0<=sa&&sa===(sa|0)||c.commandRaise(K,d);Ba=lb.count;lb.count=a[22];Ea=lb.primitive;lb.primitive=a[23];Ab=kb.call(this,W,b,g);Fa=G[a[24]];
G[a[24]]=Ab;jb=Oe.call(this,W,b,g);ca=G[a[25]];G[a[25]]=jb;Sa=Ka.call(this,W,b,g);Xa=G[a[26]];G[a[26]]=Sa;ob=ib.call(this,W,b,g);pb=G[a[27]];G[a[27]]=ob;vb=Z.call(this,W,b,g);Vb=G[a[28]];G[a[28]]=vb;Kb=b.color;$b=G[a[29]];G[a[29]]=Kb;yb=b.opacity;Ya=G[a[30]];G[a[30]]=yb;ub=this.viewportArray;ja=G[a[31]];G[a[31]]=ub;eb=this.scale;Qa=G[a[32]];G[a[32]]=eb;qb=b.align;ab=G[a[33]];G[a[33]]=qb;Va=b.baseline;je=G[a[34]];G[a[34]]=Va;Ub=this.translate;Oa=G[a[35]];G[a[35]]=Ub;ua=b.positionOffset;Nb=G[a[36]];
G[a[36]]=ua;(Ua=this.charBuffer)&&("object"===typeof Ua||"function"===typeof Ua)&&(H(Ua)||p.getBuffer(Ua)||p.getBuffer(Ua.buffer)||H(Ua.buffer)||"constant"in Ua&&("number"===typeof Ua.constant||D(Ua.constant)))||c.commandRaise(k,d);gb=!1;Yb=1;ka=Ob=hb=rb=0;Eb=null;Ra=0;fb=!1;ya=5126;Fb=Aa=Wb=0;H(Ua)?(gb=!0,Eb=p.createStream(34962,Ua),ya=Eb.dtype):(Eb=p.getBuffer(Ua))?ya=Eb.dtype:"constant"in Ua?(Yb=2,"number"===typeof Ua.constant?(rb=Ua.constant,hb=Ob=ka=0):(rb=0<Ua.constant.length?Ua.constant[0]:
0,hb=1<Ua.constant.length?Ua.constant[1]:0,Ob=2<Ua.constant.length?Ua.constant[2]:0,ka=3<Ua.constant.length?Ua.constant[3]:0)):(Eb=H(Ua.buffer)?p.createStream(34962,Ua.buffer):p.getBuffer(Ua.buffer),ya="type"in Ua?Ta[Ua.type]:Eb.dtype,fb=!!Ua.normalized,Ra=Ua.size|0,Wb=Ua.offset|0,Aa=Ua.stride|0,Fb=Ua.divisor|0);wb=B.state;B.state=Yb;Ib=B.x;B.x=rb;Zb=B.y;B.y=hb;Za=B.z;B.z=Ob;pa=B.w;B.w=ka;cb=B.buffer;B.buffer=Eb;ra=B.size;B.size=Ra;Ha=B.normalized;B.normalized=fb;Db=B.type;B.type=ya;Ca=B.offset;B.offset=
Wb;gc=B.stride;B.stride=Aa;va=B.divisor;B.divisor=Fb;(Ga=this.position)&&("object"===typeof Ga||"function"===typeof Ga)&&(H(Ga)||p.getBuffer(Ga)||p.getBuffer(Ga.buffer)||H(Ga.buffer)||"constant"in Ga&&("number"===typeof Ga.constant||D(Ga.constant)))||c.commandRaise(C,d);$a=!1;Qb=1;Gc=Xc=w=m=0;ac=null;Pa=0;Ic=!1;bc=5126;hc=Bb=fc=0;H(Ga)?($a=!0,ac=p.createStream(34962,Ga),bc=ac.dtype):(ac=p.getBuffer(Ga))?bc=ac.dtype:"constant"in Ga?(Qb=2,"number"===typeof Ga.constant?(m=Ga.constant,w=Xc=Gc=0):(m=0<
Ga.constant.length?Ga.constant[0]:0,w=1<Ga.constant.length?Ga.constant[1]:0,Xc=2<Ga.constant.length?Ga.constant[2]:0,Gc=3<Ga.constant.length?Ga.constant[3]:0)):(ac=H(Ga.buffer)?p.createStream(34962,Ga.buffer):p.getBuffer(Ga.buffer),bc="type"in Ga?Ta[Ga.type]:ac.dtype,Ic=!!Ga.normalized,Pa=Ga.size|0,fc=Ga.offset|0,Bb=Ga.stride|0,hc=Ga.divisor|0);mb=Q.state;Q.state=Qb;Ac=Q.x;Q.x=m;la=Q.y;Q.y=w;Kc=Q.z;Q.z=Xc;ha=Q.w;Q.w=Gc;Rb=Q.buffer;Q.buffer=ac;La=Q.size;Q.size=Pa;Lb=Q.normalized;Q.normalized=Ic;Hc=
Q.type;Q.type=bc;Dc=Q.offset;Q.offset=fc;bb=Q.stride;Q.stride=Bb;Jc=Q.divisor;Q.divisor=hc;r.buffer=this.sizeBuffer;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||D(r.constant)))||c.commandRaise(t,d);xc=!1;yc=1;db=hd=xb=Nc=0;Fc=null;nb=0;Zc=!1;Da=5126;pc=cc=Pd=0;H(r)?(xc=!0,Fc=p.createStream(34962,r),Da=Fc.dtype):(Fc=p.getBuffer(r))?Da=Fc.dtype:"constant"in r?(yc=2,"number"===typeof r.constant?
(Nc=r.constant,xb=hd=db=0):(Nc=0<r.constant.length?r.constant[0]:0,xb=1<r.constant.length?r.constant[1]:0,hd=2<r.constant.length?r.constant[2]:0,db=3<r.constant.length?r.constant[3]:0)):(Fc=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),Da="type"in r?Ta[r.type]:Fc.dtype,Zc=!!r.normalized,nb=r.size|0,Pd=r.offset|0,cc=r.stride|0,pc=r.divisor|0);Tc=S.state;S.state=yc;Na=S.x;S.x=Nc;Cd=S.y;S.y=xb;Mb=S.z;S.z=hd;ed=S.w;S.w=db;sb=S.buffer;S.buffer=Fc;Dd=S.size;S.size=nb;na=S.normalized;
S.normalized=Zc;Vc=S.type;S.type=Da;Ia=S.offset;S.offset=Pd;id=S.stride;S.stride=cc;Ja=S.divisor;S.divisor=pc;u.buffer=this.sizeBuffer;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(U,d);Rc=!1;Ma=1;rc=Qd=Xb=kd=0;fd=null;sc=0;me=!1;gd=5126;Wc=rd=oc=0;H(u)?(Rc=!0,fd=p.createStream(34962,u),gd=fd.dtype):(fd=p.getBuffer(u))?gd=fd.dtype:"constant"in u?(Ma=2,"number"===
typeof u.constant?(kd=u.constant,Xb=Qd=rc=0):(kd=0<u.constant.length?u.constant[0]:0,Xb=1<u.constant.length?u.constant[1]:0,Qd=2<u.constant.length?u.constant[2]:0,rc=3<u.constant.length?u.constant[3]:0)):(fd=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),gd="type"in u?Ta[u.type]:fd.dtype,me=!!u.normalized,sc=u.size|0,oc=u.offset|0,rd=u.stride|0,Wc=u.divisor|0);ae=P.state;P.state=Ma;Sb=P.x;P.x=kd;ce=P.y;P.y=Xb;ec=P.z;P.z=Qd;Gb=P.w;P.w=rc;Tb=P.buffer;P.buffer=fd;Oc=P.size;P.size=sc;
zc=P.normalized;P.normalized=me;tc=P.type;P.type=gd;Ed=P.offset;P.offset=oc;lc=P.stride;P.stride=rd;Rd=P.divisor;P.divisor=Wc;vd=fa.vert;fa.vert=a[37];zd=fa.frag;fa.frag=a[38];l.dirty=!0;e(W,b,g);W.viewportWidth=z;W.viewportHeight=A;tb[0]=ta;tb[1]=I;tb[2]=L;tb[3]=E;R[0]=O;R[1]=T;R[2]=X;R[3]=N;V.blend_enable=Id;ma[0]=sd;ma[1]=aa;ma[2]=ba;ma[3]=da;V.depth_enable=ia;V.stencil_enable=Wa;za&&(v.cpuTime+=performance.now()-qa);lb.offset=wa;lb.count=Ba;lb.primitive=Ea;G[a[24]]=Fa;G[a[25]]=ca;G[a[26]]=Xa;
G[a[27]]=pb;G[a[28]]=Vb;G[a[29]]=$b;G[a[30]]=Ya;G[a[31]]=ja;G[a[32]]=Qa;G[a[33]]=ab;G[a[34]]=je;G[a[35]]=Oa;G[a[36]]=Nb;gb&&p.destroyStream(Eb);B.state=wb;B.x=Ib;B.y=Zb;B.z=Za;B.w=pa;B.buffer=cb;B.size=ra;B.normalized=Ha;B.type=Db;B.offset=Ca;B.stride=gc;B.divisor=va;$a&&p.destroyStream(ac);Q.state=mb;Q.x=Ac;Q.y=la;Q.z=Kc;Q.w=ha;Q.buffer=Rb;Q.size=La;Q.normalized=Lb;Q.type=Hc;Q.offset=Dc;Q.stride=bb;Q.divisor=Jc;xc&&p.destroyStream(Fc);S.state=Tc;S.x=Na;S.y=Cd;S.z=Mb;S.w=ed;S.buffer=sb;S.size=Dd;
S.normalized=na;S.type=Vc;S.offset=Ia;S.stride=id;S.divisor=Ja;Rc&&p.destroyStream(fd);P.state=ae;P.x=Sb;P.y=ce;P.z=ec;P.w=Gb;P.buffer=Tb;P.size=Oc;P.normalized=zc;P.type=tc;P.offset=Ed;P.stride=lc;P.divisor=Rd;fa.vert=vd;fa.frag=zd;l.dirty=!0},batch:function(b,f){var B,G,P,Q,S,R,fa,ma,tb,Bc,Pc,E,Gb;B=Fa.next;B!==Fa.cur&&(B?g.bindFramebuffer(36160,B.framebuffer):g.bindFramebuffer(36160,null),Fa.cur=B);if(l.dirty){var pd,nd,Jd,ad,he,ee,Ae,Lc,Ie,Qc,af,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,
cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc;pd=V.dither;pd!==l.dither&&(pd?g.enable(3024):g.disable(3024),l.dither=pd);nd=T[0];Jd=T[1];if(nd!==yb[0]||Jd!==yb[1])g.blendEquationSeparate(nd,Jd),yb[0]=nd,yb[1]=Jd;ad=V.depth_func;ad!==l.depth_func&&(g.depthFunc(ad),l.depth_func=ad);he=wa[0];ee=wa[1];if(he!==L[0]||ee!==L[1])g.depthRange(he,ee),L[0]=he,L[1]=ee;Ae=V.depth_mask;Ae!==l.depth_mask&&(g.depthMask(Ae),l.depth_mask=Ae);Lc=ed[0];Ie=ed[1];Qc=ed[2];af=ed[3];if(Lc!==vb[0]||Ie!==vb[1]||Qc!==vb[2]||af!==vb[3])g.colorMask(Lc,
Ie,Qc,af),vb[0]=Lc,vb[1]=Ie,vb[2]=Qc,vb[3]=af;qe=V.cull_enable;qe!==l.cull_enable&&(qe?g.enable(2884):g.disable(2884),l.cull_enable=qe);jd=V.cull_face;jd!==l.cull_face&&(g.cullFace(jd),l.cull_face=jd);be=V.frontFace;be!==l.frontFace&&(g.frontFace(be),l.frontFace=be);nc=V.lineWidth;nc!==l.lineWidth&&(g.lineWidth(nc),l.lineWidth=nc);ne=V.polygonOffset_enable;ne!==l.polygonOffset_enable&&(ne?g.enable(32823):g.disable(32823),l.polygonOffset_enable=ne);zb=oc[0];oe=oc[1];if(zb!==Ac[0]||oe!==Ac[1])g.polygonOffset(zb,
oe),Ac[0]=zb,Ac[1]=oe;Bd=V.sample_alpha;Bd!==l.sample_alpha&&(Bd?g.enable(32926):g.disable(32926),l.sample_alpha=Bd);Sc=V.sample_enable;Sc!==l.sample_enable&&(Sc?g.enable(32928):g.disable(32928),l.sample_enable=Sc);ic=sa[0];jc=sa[1];if(ic!==Nc[0]||jc!==Nc[1])g.sampleCoverage(ic,jc),Nc[0]=ic,Nc[1]=jc;Nd=V.stencil_mask;Nd!==l.stencil_mask&&(g.stencilMask(Nd),l.stencil_mask=Nd);bd=ba[0];Cb=ba[1];td=ba[2];if(bd!==hc[0]||Cb!==hc[1]||td!==hc[2])g.stencilFunc(bd,Cb,td),hc[0]=bd,hc[1]=Cb,hc[2]=td;ud=id[0];
cd=id[1];Hb=id[2];Ya=id[3];if(ud!==Hc[0]||cd!==Hc[1]||Hb!==Hc[2]||Ya!==Hc[3])g.stencilOpSeparate(ud,cd,Hb,Ya),Hc[0]=ud,Hc[1]=cd,Hc[2]=Hb,Hc[3]=Ya;ub=Tc[0];ja=Tc[1];eb=Tc[2];Qa=Tc[3];if(ub!==Eb[0]||ja!==Eb[1]||eb!==Eb[2]||Qa!==Eb[3])g.stencilOpSeparate(ub,ja,eb,Qa),Eb[0]=ub,Eb[1]=ja,Eb[2]=eb,Eb[3]=Qa;qb=V.scissor_enable;qb!==l.scissor_enable&&(qb?g.enable(3089):g.disable(3089),l.scissor_enable=qb);ab=pb[0];Va=pb[1];Pb=pb[2];Cc=pb[3];if(ab!==Kc[0]||Va!==Kc[1]||Pb!==Kc[2]||Cc!==Kc[3])g.scissor(ab,Va,
Pb,Cc),Kc[0]=ab,Kc[1]=Va,Kc[2]=Pb,Kc[3]=Cc}(G=this.viewport)&&"object"===typeof G||c.commandRaise(J,d);P=G.x|0;Q=G.y|0;S="width"in G?G.width|0:W.framebufferWidth-P;R="height"in G?G.height|0:W.framebufferHeight-Q;0<=S&&0<=R||c.commandRaise(J,d);fa=W.viewportWidth;W.viewportWidth=S;ma=W.viewportHeight;W.viewportHeight=R;g.viewport(P,Q,S,R);Xa[0]=P;Xa[1]=Q;Xa[2]=S;Xa[3]=R;g.blendColor(0,0,0,1);z[0]=0;z[1]=0;z[2]=0;z[3]=1;a[39]?g.enable(3042):g.disable(3042);l.blend_enable=a[40];g.blendFuncSeparate(770,
771,773,1);x[0]=770;x[1]=771;x[2]=773;x[3]=1;a[41]?g.enable(2929):g.disable(2929);l.depth_enable=a[42];a[43]?g.enable(2960):g.disable(2960);l.stencil_enable=a[44];if(tb=l.profile)Bc=performance.now(),v.count+=f;g.useProgram(A.program);Pc=Sa.angle_instanced_arrays;var Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va,Ga,$a,Qb,m,w,Xc,Gc,ac,Pa,Ic,bc,od,Bb,Od,mb,Ld,la,Xd,ha,Rb,La,Lb,re,Dc,bb,Jc,xc,yc,Yd,xb,hd,db,Fc,nb,Zc,Da,Pd,cc,pc,$d,Na,Cd;I.setVAO(null);(Oa=this.charBuffer)&&
("object"===typeof Oa||"function"===typeof Oa)&&(H(Oa)||p.getBuffer(Oa)||p.getBuffer(Oa.buffer)||H(Oa.buffer)||"constant"in Oa&&("number"===typeof Oa.constant||D(Oa.constant)))||c.commandRaise(k,d);ua=!1;Uc=1;rb=kc=gb=Ua=0;hb=null;wc=0;ka=!1;qc=5126;ya=fb=Ra=0;H(Oa)?(ua=!0,hb=p.createStream(34962,Oa),qc=hb.dtype):(hb=p.getBuffer(Oa))?qc=hb.dtype:"constant"in Oa?(Uc=2,"number"===typeof Oa.constant?(Ua=Oa.constant,gb=kc=rb=0):(Ua=0<Oa.constant.length?Oa.constant[0]:0,gb=1<Oa.constant.length?Oa.constant[1]:
0,kc=2<Oa.constant.length?Oa.constant[2]:0,rb=3<Oa.constant.length?Oa.constant[3]:0)):(hb=H(Oa.buffer)?p.createStream(34962,Oa.buffer):p.getBuffer(Oa.buffer),qc="type"in Oa?Ta[Oa.type]:hb.dtype,ka=!!Oa.normalized,wc=Oa.size|0,Ra=Oa.offset|0,fb=Oa.stride|0,ya=Oa.divisor|0);Wb=n.location;Aa=za[Wb];if(1===Uc){Aa.buffer||g.enableVertexAttribArray(Wb);Fb=wc||1;if(Aa.type!==qc||Aa.size!==Fb||Aa.buffer!==hb||Aa.normalized!==ka||Aa.offset!==Ra||Aa.stride!==fb)g.bindBuffer(34962,hb.buffer),g.vertexAttribPointer(Wb,
Fb,qc,ka,fb,Ra),Aa.type=qc,Aa.size=Fb,Aa.buffer=hb,Aa.normalized=ka,Aa.offset=Ra,Aa.stride=fb;Aa.divisor!==ya&&(Pc.vertexAttribDivisorANGLE(Wb,ya),Aa.divisor=ya)}else if(Aa.buffer&&(g.disableVertexAttribArray(Wb),Aa.buffer=null),Aa.x!==Ua||Aa.y!==gb||Aa.z!==kc||Aa.w!==rb)g.vertexAttrib4f(Wb,Ua,gb,kc,rb),Aa.x=Ua,Aa.y=gb,Aa.z=kc,Aa.w=rb;r.buffer=this.sizeBuffer;r&&("object"===typeof r||"function"===typeof r)&&(H(r)||p.getBuffer(r)||p.getBuffer(r.buffer)||H(r.buffer)||"constant"in r&&("number"===typeof r.constant||
D(r.constant)))||c.commandRaise(t,d);wb=!1;Ib=1;cb=pa=Za=Zb=0;ra=null;Ha=0;Db=!1;Ca=5126;Ga=va=gc=0;H(r)?(wb=!0,ra=p.createStream(34962,r),Ca=ra.dtype):(ra=p.getBuffer(r))?Ca=ra.dtype:"constant"in r?(Ib=2,"number"===typeof r.constant?(Zb=r.constant,Za=pa=cb=0):(Zb=0<r.constant.length?r.constant[0]:0,Za=1<r.constant.length?r.constant[1]:0,pa=2<r.constant.length?r.constant[2]:0,cb=3<r.constant.length?r.constant[3]:0)):(ra=H(r.buffer)?p.createStream(34962,r.buffer):p.getBuffer(r.buffer),Ca="type"in r?
Ta[r.type]:ra.dtype,Db=!!r.normalized,Ha=r.size|0,gc=r.offset|0,va=r.stride|0,Ga=r.divisor|0);$a=h.location;Qb=za[$a];if(1===Ib){Qb.buffer||g.enableVertexAttribArray($a);m=Ha||1;if(Qb.type!==Ca||Qb.size!==m||Qb.buffer!==ra||Qb.normalized!==Db||Qb.offset!==gc||Qb.stride!==va)g.bindBuffer(34962,ra.buffer),g.vertexAttribPointer($a,m,Ca,Db,va,gc),Qb.type=Ca,Qb.size=m,Qb.buffer=ra,Qb.normalized=Db,Qb.offset=gc,Qb.stride=va;Qb.divisor!==Ga&&(Pc.vertexAttribDivisorANGLE($a,Ga),Qb.divisor=Ga)}else if(Qb.buffer&&
(g.disableVertexAttribArray($a),Qb.buffer=null),Qb.x!==Zb||Qb.y!==Za||Qb.z!==pa||Qb.w!==cb)g.vertexAttrib4f($a,Zb,Za,pa,cb),Qb.x=Zb,Qb.y=Za,Qb.z=pa,Qb.w=cb;(w=this.position)&&("object"===typeof w||"function"===typeof w)&&(H(w)||p.getBuffer(w)||p.getBuffer(w.buffer)||H(w.buffer)||"constant"in w&&("number"===typeof w.constant||D(w.constant)))||c.commandRaise(C,d);Xc=!1;Gc=1;bc=Ic=Pa=ac=0;od=null;Bb=0;Od=!1;mb=5126;Xd=la=Ld=0;H(w)?(Xc=!0,od=p.createStream(34962,w),mb=od.dtype):(od=p.getBuffer(w))?mb=
od.dtype:"constant"in w?(Gc=2,"number"===typeof w.constant?(ac=w.constant,Pa=Ic=bc=0):(ac=0<w.constant.length?w.constant[0]:0,Pa=1<w.constant.length?w.constant[1]:0,Ic=2<w.constant.length?w.constant[2]:0,bc=3<w.constant.length?w.constant[3]:0)):(od=H(w.buffer)?p.createStream(34962,w.buffer):p.getBuffer(w.buffer),mb="type"in w?Ta[w.type]:od.dtype,Od=!!w.normalized,Bb=w.size|0,Ld=w.offset|0,la=w.stride|0,Xd=w.divisor|0);ha=N.location;Rb=za[ha];if(1===Gc){Rb.buffer||g.enableVertexAttribArray(ha);La=
Bb||2;if(Rb.type!==mb||Rb.size!==La||Rb.buffer!==od||Rb.normalized!==Od||Rb.offset!==Ld||Rb.stride!==la)g.bindBuffer(34962,od.buffer),g.vertexAttribPointer(ha,La,mb,Od,la,Ld),Rb.type=mb,Rb.size=La,Rb.buffer=od,Rb.normalized=Od,Rb.offset=Ld,Rb.stride=la;Rb.divisor!==Xd&&(Pc.vertexAttribDivisorANGLE(ha,Xd),Rb.divisor=Xd)}else if(Rb.buffer&&(g.disableVertexAttribArray(ha),Rb.buffer=null),Rb.x!==ac||Rb.y!==Pa||Rb.z!==Ic||Rb.w!==bc)g.vertexAttrib4f(ha,ac,Pa,Ic,bc),Rb.x=ac,Rb.y=Pa,Rb.z=Ic,Rb.w=bc;u.buffer=
this.sizeBuffer;u&&("object"===typeof u||"function"===typeof u)&&(H(u)||p.getBuffer(u)||p.getBuffer(u.buffer)||H(u.buffer)||"constant"in u&&("number"===typeof u.constant||D(u.constant)))||c.commandRaise(U,d);Lb=!1;re=1;xc=Jc=bb=Dc=0;yc=null;Yd=0;xb=!1;hd=5126;nb=Fc=db=0;H(u)?(Lb=!0,yc=p.createStream(34962,u),hd=yc.dtype):(yc=p.getBuffer(u))?hd=yc.dtype:"constant"in u?(re=2,"number"===typeof u.constant?(Dc=u.constant,bb=Jc=xc=0):(Dc=0<u.constant.length?u.constant[0]:0,bb=1<u.constant.length?u.constant[1]:
0,Jc=2<u.constant.length?u.constant[2]:0,xc=3<u.constant.length?u.constant[3]:0)):(yc=H(u.buffer)?p.createStream(34962,u.buffer):p.getBuffer(u.buffer),hd="type"in u?Ta[u.type]:yc.dtype,xb=!!u.normalized,Yd=u.size|0,db=u.offset|0,Fc=u.stride|0,nb=u.divisor|0);Zc=Ab.location;Da=za[Zc];if(1===re){Da.buffer||g.enableVertexAttribArray(Zc);Pd=Yd||1;if(Da.type!==hd||Da.size!==Pd||Da.buffer!==yc||Da.normalized!==xb||Da.offset!==db||Da.stride!==Fc)g.bindBuffer(34962,yc.buffer),g.vertexAttribPointer(Zc,Pd,
hd,xb,Fc,db),Da.type=hd,Da.size=Pd,Da.buffer=yc,Da.normalized=xb,Da.offset=db,Da.stride=Fc;Da.divisor!==nb&&(Pc.vertexAttribDivisorANGLE(Zc,nb),Da.divisor=nb)}else if(Da.buffer&&(g.disableVertexAttribArray(Zc),Da.buffer=null),Da.x!==Dc||Da.y!==bb||Da.z!==Jc||Da.w!==xc)g.vertexAttrib4f(Zc,Dc,bb,Jc,xc),Da.x=Dc,Da.y=bb,Da.z=Jc,Da.w=xc;cc=this.scale;D(cc)&&2===cc.length||c.commandRaise(Id,d);g.uniform2f(me.location,cc[0],cc[1]);pc=this.translate;D(pc)&&2===pc.length||c.commandRaise(e,d);g.uniform2f(ta.location,
pc[0],pc[1]);$d=this.viewportArray;D($d)&&4===$d.length||c.commandRaise(q,d);g.uniform4f(sd.location,$d[0],$d[1],$d[2],$d[3]);(Na=lb.elements)?g.bindBuffer(34963,Na.buffer.buffer):I.currentVAO&&(Na=Wa.getElements(I.currentVAO.elements))&&g.bindBuffer(34963,Na.buffer.buffer);Cd=lb.instances;for(E=0;E<f;++E){Gb=b[E];var Mb,ie,sb,Dd,na,Vc,Ia,fe,Ja,Rc,Ma,kd,Xb,Qd,rc,fd,sc,Qe,gd,ye,rd,Wc,ae,Sb,ce,ec,rf,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd;Mb=Gb.align;"number"!==typeof Mb&&c.commandRaise(ia,d);E&&ie===Mb||
(ie=Mb,g.uniform1f(jb.location,Mb));(sb=Ka.call(this,W,Gb,E))&&"framebuffer"===sb._reglType&&(sb=sb.color[0]);"function"===typeof sb&&"texture2d"===sb._reglType||c.commandRaise(Ba,d);Dd=sb._texture;g.uniform1i(ca.location,Dd.bind());na=Oe.call(this,W,Gb,E);D(na)&&2===na.length||c.commandRaise(Ub,d);Vc=na[0];fe=na[1];E&&Ia===Vc&&Ja===fe||(Ia=Vc,Ja=fe,g.uniform2f(Ea.location,Vc,fe));Rc=kb.call(this,W,Gb,E);D(Rc)&&2===Rc.length||c.commandRaise(fc,d);Ma=Rc[0];Xb=Rc[1];E&&kd===Ma&&Qd===Xb||(kd=Ma,Qd=Xb,
g.uniform2f(Nb.location,Ma,Xb));rc=Gb.baseline;"number"!==typeof rc&&c.commandRaise(Ob,d);E&&fd===rc||(fd=rc,g.uniform1f(Yb.location,rc));sc=ib.call(this,W,Gb,E);"number"!==typeof sc&&c.commandRaise(aa,d);E&&Qe===sc||(Qe=sc,g.uniform1f(ob.location,sc));gd=Gb.color;D(gd)&&4===gd.length||c.commandRaise(O,d);ye=gd[0];Wc=gd[1];Sb=gd[2];ec=gd[3];E&&rd===ye&&ae===Wc&&ce===Sb&&rf===ec||(rd=ye,ae=Wc,ce=Sb,rf=ec,g.uniform4f(da.location,ye,Wc,Sb,ec));Tb=Z.call(this,W,Gb,E);"number"!==typeof Tb&&c.commandRaise(X,
d);E&&Oc===Tb||(Oc=Tb,g.uniform1f(qa.location,Tb));zc=Gb.opacity;"number"!==typeof zc&&c.commandRaise(Kb,d);E&&tc===zc||(tc=zc,g.uniform1f(Vb.location,zc));Ed=Gb.positionOffset;D(Ed)&&2===Ed.length||c.commandRaise(De,d);lc=Ed[0];vd=Ed[1];E&&Rd===lc&&zd===vd||(Rd=lc,zd=vd,g.uniform2f($b.location,lc,vd));Hd=Gb.offset;0<=Hd||c.commandRaise(Y,d);yd=Gb.count;"number"===typeof yd&&0<=yd&&yd===(yd|0)||c.commandRaise(K,d);yd&&(0<Cd?Na?Pc.drawElementsInstancedANGLE(0,yd,Na.type,Hd<<(Na.type-5121>>1),Cd):Pc.drawArraysInstancedANGLE(0,
Hd,yd,Cd):0>Cd&&(Na?g.drawElements(0,yd,Na.type,Hd<<(Na.type-5121>>1)):g.drawArrays(0,Hd,yd)),Dd.unbind())}ua&&p.destroyStream(hb);wb&&p.destroyStream(ra);Xc&&p.destroyStream(od);Lb&&p.destroyStream(yc);l.dirty=!0;I.setVAO(null);W.viewportWidth=fa;W.viewportHeight=ma;tb&&(v.cpuTime+=performance.now()-Bc)}}},"12563.28":function(a,b,c,d,v,J,A,k){var n,t,h,C,N,U,Ab,jb,ia,ca,Ka,Ba,Ea,Gb,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,oc,me;n=b.gl;t=b.context;h=b.next;C=b.current;N=b.shader;U=b.vao;Ab=
b.framebuffer;jb=h.blend_color;ia=C.blend_color;ca=h.blend_equation;Ka=C.blend_equation;Ba=h.blend_func;Ea=C.blend_func;Gb=h.depth_range;Ub=C.depth_range;Nb=h.colorMask;kb=C.colorMask;fc=h.polygonOffset_offset;Yb=C.polygonOffset_offset;Ob=h.sample_coverage;ob=C.sample_coverage;ib=h.stencil_func;aa=C.stencil_func;da=h.stencil_opFront;O=C.stencil_opFront;qa=h.stencil_opBack;Z=C.stencil_opBack;X=h.scissor_box;Vb=C.scissor_box;Kb=h.viewport;$b=C.viewport;oc={};me={};return{draw:function(a){var b,e,f,
k,Y,K,B,Q,S,P;b=a.framebuffer;e=Ab.getFramebuffer(b);b&&!e&&c.commandRaise(J,d);b=Ab.next;Ab.next=e;f=t.framebufferWidth;t.framebufferWidth=e?e.width:t.drawingBufferWidth;k=t.framebufferHeight;t.framebufferHeight=e?e.height:t.drawingBufferHeight;e!==Ab.cur&&(e?n.bindFramebuffer(36160,e.framebuffer):n.bindFramebuffer(36160,null),Ab.cur=e);if(C.dirty){e=h.dither;e!==C.dither&&(e?n.enable(3024):n.disable(3024),C.dither=e);e=h.blend_enable;e!==C.blend_enable&&(e?n.enable(3042):n.disable(3042),C.blend_enable=
e);e=jb[0];B=jb[1];Y=jb[2];K=jb[3];if(e!==ia[0]||B!==ia[1]||Y!==ia[2]||K!==ia[3])n.blendColor(e,B,Y,K),ia[0]=e,ia[1]=B,ia[2]=Y,ia[3]=K;e=ca[0];B=ca[1];if(e!==Ka[0]||B!==Ka[1])n.blendEquationSeparate(e,B),Ka[0]=e,Ka[1]=B;e=Ba[0];B=Ba[1];Y=Ba[2];K=Ba[3];if(e!==Ea[0]||B!==Ea[1]||Y!==Ea[2]||K!==Ea[3])n.blendFuncSeparate(e,B,Y,K),Ea[0]=e,Ea[1]=B,Ea[2]=Y,Ea[3]=K;e=h.depth_enable;e!==C.depth_enable&&(e?n.enable(2929):n.disable(2929),C.depth_enable=e);e=h.depth_func;e!==C.depth_func&&(n.depthFunc(e),C.depth_func=
e);e=Gb[0];B=Gb[1];if(e!==Ub[0]||B!==Ub[1])n.depthRange(e,B),Ub[0]=e,Ub[1]=B;e=h.depth_mask;e!==C.depth_mask&&(n.depthMask(e),C.depth_mask=e);e=Nb[0];B=Nb[1];Y=Nb[2];K=Nb[3];if(e!==kb[0]||B!==kb[1]||Y!==kb[2]||K!==kb[3])n.colorMask(e,B,Y,K),kb[0]=e,kb[1]=B,kb[2]=Y,kb[3]=K;e=h.cull_enable;e!==C.cull_enable&&(e?n.enable(2884):n.disable(2884),C.cull_enable=e);e=h.cull_face;e!==C.cull_face&&(n.cullFace(e),C.cull_face=e);e=h.frontFace;e!==C.frontFace&&(n.frontFace(e),C.frontFace=e);e=h.lineWidth;e!==C.lineWidth&&
(n.lineWidth(e),C.lineWidth=e);e=h.polygonOffset_enable;e!==C.polygonOffset_enable&&(e?n.enable(32823):n.disable(32823),C.polygonOffset_enable=e);e=fc[0];B=fc[1];if(e!==Yb[0]||B!==Yb[1])n.polygonOffset(e,B),Yb[0]=e,Yb[1]=B;e=h.sample_alpha;e!==C.sample_alpha&&(e?n.enable(32926):n.disable(32926),C.sample_alpha=e);e=h.sample_enable;e!==C.sample_enable&&(e?n.enable(32928):n.disable(32928),C.sample_enable=e);e=Ob[0];B=Ob[1];if(e!==ob[0]||B!==ob[1])n.sampleCoverage(e,B),ob[0]=e,ob[1]=B;e=h.stencil_enable;
e!==C.stencil_enable&&(e?n.enable(2960):n.disable(2960),C.stencil_enable=e);e=h.stencil_mask;e!==C.stencil_mask&&(n.stencilMask(e),C.stencil_mask=e);e=ib[0];B=ib[1];Y=ib[2];if(e!==aa[0]||B!==aa[1]||Y!==aa[2])n.stencilFunc(e,B,Y),aa[0]=e,aa[1]=B,aa[2]=Y;e=da[0];B=da[1];Y=da[2];K=da[3];if(e!==O[0]||B!==O[1]||Y!==O[2]||K!==O[3])n.stencilOpSeparate(e,B,Y,K),O[0]=e,O[1]=B,O[2]=Y,O[3]=K;e=qa[0];B=qa[1];Y=qa[2];K=qa[3];if(e!==Z[0]||B!==Z[1]||Y!==Z[2]||K!==Z[3])n.stencilOpSeparate(e,B,Y,K),Z[0]=e,Z[1]=B,
Z[2]=Y,Z[3]=K;e=h.scissor_enable;e!==C.scissor_enable&&(e?n.enable(3089):n.disable(3089),C.scissor_enable=e)}Y=t.framebufferWidth;K=t.framebufferHeight;e=t.viewportWidth;t.viewportWidth=Y;B=t.viewportHeight;t.viewportHeight=K;n.viewport(0,0,Y,K);$b[0]=0;$b[1]=0;$b[2]=Y;$b[3]=K;Y=t.framebufferWidth;K=t.framebufferHeight;n.scissor(0,0,Y,K);Vb[0]=0;Vb[1]=0;Vb[2]=Y;Vb[3]=K;if(Y=C.profile)Q=performance.now(),v.count++;K=N.program(N.vert,N.frag,d);n.useProgram(K.program);U.setVAO(null);S=K.id;(P=oc[S])||
(P=oc[S]=A(K));P.call(this,a);C.dirty=!0;U.setVAO(null);Ab.next=b;t.framebufferWidth=f;t.framebufferHeight=k;t.viewportWidth=e;t.viewportHeight=B;Y&&(v.cpuTime+=performance.now()-Q)},scope:function(b,f,e){var h,k,n,A,B,O,S,P,g,N,V,l,Z,aa,p;h=b.framebuffer;k=Ab.getFramebuffer(h);h&&!k&&c.commandRaise(J,d);h=Ab.next;Ab.next=k;n=t.framebufferWidth;t.framebufferWidth=k?k.width:t.drawingBufferWidth;A=t.framebufferHeight;t.framebufferHeight=k?k.height:t.drawingBufferHeight;B=t.framebufferWidth;O=t.framebufferHeight;
k=t.viewportWidth;t.viewportWidth=B;B=t.viewportHeight;t.viewportHeight=O;O=Kb[0];Kb[0]=a[0];S=Kb[1];Kb[1]=a[1];P=Kb[2];Kb[2]=a[2];g=Kb[3];Kb[3]=a[3];N=X[0];X[0]=a[4];V=X[1];X[1]=a[5];l=X[2];X[2]=a[6];Z=X[3];X[3]=a[7];if(aa=C.profile)p=performance.now(),v.count++;C.dirty=!0;f(t,b,e);Ab.next=h;t.framebufferWidth=n;t.framebufferHeight=A;t.viewportWidth=k;t.viewportHeight=B;Kb[0]=O;Kb[1]=S;Kb[2]=P;Kb[3]=g;X[0]=N;X[1]=V;X[2]=l;X[3]=Z;aa&&(v.cpuTime+=performance.now()-p);C.dirty=!0},batch:function(a,c){var b,
f,q,t,A;if(C.dirty){b=h.dither;b!==C.dither&&(b?n.enable(3024):n.disable(3024),C.dither=b);b=h.blend_enable;b!==C.blend_enable&&(b?n.enable(3042):n.disable(3042),C.blend_enable=b);b=jb[0];q=jb[1];t=jb[2];A=jb[3];if(b!==ia[0]||q!==ia[1]||t!==ia[2]||A!==ia[3])n.blendColor(b,q,t,A),ia[0]=b,ia[1]=q,ia[2]=t,ia[3]=A;b=ca[0];q=ca[1];if(b!==Ka[0]||q!==Ka[1])n.blendEquationSeparate(b,q),Ka[0]=b,Ka[1]=q;b=Ba[0];q=Ba[1];t=Ba[2];A=Ba[3];if(b!==Ea[0]||q!==Ea[1]||t!==Ea[2]||A!==Ea[3])n.blendFuncSeparate(b,q,t,
A),Ea[0]=b,Ea[1]=q,Ea[2]=t,Ea[3]=A;b=h.depth_enable;b!==C.depth_enable&&(b?n.enable(2929):n.disable(2929),C.depth_enable=b);b=h.depth_func;b!==C.depth_func&&(n.depthFunc(b),C.depth_func=b);b=Gb[0];q=Gb[1];if(b!==Ub[0]||q!==Ub[1])n.depthRange(b,q),Ub[0]=b,Ub[1]=q;b=h.depth_mask;b!==C.depth_mask&&(n.depthMask(b),C.depth_mask=b);b=Nb[0];q=Nb[1];t=Nb[2];A=Nb[3];if(b!==kb[0]||q!==kb[1]||t!==kb[2]||A!==kb[3])n.colorMask(b,q,t,A),kb[0]=b,kb[1]=q,kb[2]=t,kb[3]=A;b=h.cull_enable;b!==C.cull_enable&&(b?n.enable(2884):
n.disable(2884),C.cull_enable=b);b=h.cull_face;b!==C.cull_face&&(n.cullFace(b),C.cull_face=b);b=h.frontFace;b!==C.frontFace&&(n.frontFace(b),C.frontFace=b);b=h.lineWidth;b!==C.lineWidth&&(n.lineWidth(b),C.lineWidth=b);b=h.polygonOffset_enable;b!==C.polygonOffset_enable&&(b?n.enable(32823):n.disable(32823),C.polygonOffset_enable=b);b=fc[0];q=fc[1];if(b!==Yb[0]||q!==Yb[1])n.polygonOffset(b,q),Yb[0]=b,Yb[1]=q;b=h.sample_alpha;b!==C.sample_alpha&&(b?n.enable(32926):n.disable(32926),C.sample_alpha=b);
b=h.sample_enable;b!==C.sample_enable&&(b?n.enable(32928):n.disable(32928),C.sample_enable=b);b=Ob[0];q=Ob[1];if(b!==ob[0]||q!==ob[1])n.sampleCoverage(b,q),ob[0]=b,ob[1]=q;b=h.stencil_enable;b!==C.stencil_enable&&(b?n.enable(2960):n.disable(2960),C.stencil_enable=b);b=h.stencil_mask;b!==C.stencil_mask&&(n.stencilMask(b),C.stencil_mask=b);b=ib[0];q=ib[1];t=ib[2];if(b!==aa[0]||q!==aa[1]||t!==aa[2])n.stencilFunc(b,q,t),aa[0]=b,aa[1]=q,aa[2]=t;b=da[0];q=da[1];t=da[2];A=da[3];if(b!==O[0]||q!==O[1]||t!==
O[2]||A!==O[3])n.stencilOpSeparate(b,q,t,A),O[0]=b,O[1]=q,O[2]=t,O[3]=A;b=qa[0];q=qa[1];t=qa[2];A=qa[3];if(b!==Z[0]||q!==Z[1]||t!==Z[2]||A!==Z[3])n.stencilOpSeparate(b,q,t,A),Z[0]=b,Z[1]=q,Z[2]=t,Z[3]=A;b=h.scissor_enable;b!==C.scissor_enable&&(b?n.enable(3089):n.disable(3089),C.scissor_enable=b)}if(b=C.profile)f=performance.now(),v.count+=c;q=N.program(N.vert,N.frag,d);n.useProgram(q.program);U.setVAO(null);t=q.id;(A=me[t])||(A=me[t]=k(q));A.call(this,a,c);C.dirty=!0;U.setVAO(null);b&&(v.cpuTime+=
performance.now()-f)}}},"9814.14":function(a,b,c,d,v){var J,A,k,n,t,h,C,N,U,Ab,ca,ia,Gb,Ka,Ba,Ea,oc,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z;J=b.gl;A=b.next;k=b.current;n=b.attributes;t=b.vao;h=b.framebuffer;C=A.blend_color;N=k.blend_color;U=A.blend_equation;Ab=k.blend_equation;ca=A.blend_func;ia=k.blend_func;Gb=A.depth_range;Ka=k.depth_range;Ba=A.colorMask;Ea=k.colorMask;oc=A.polygonOffset_offset;Ub=k.polygonOffset_offset;Nb=A.sample_coverage;kb=k.sample_coverage;fc=A.stencil_func;Yb=k.stencil_func;
Ob=A.stencil_opFront;ob=k.stencil_opFront;ib=A.stencil_opBack;aa=k.stencil_opBack;da=A.scissor_box;O=k.scissor_box;qa=A.viewport;Z=k.viewport;return{poll:function(){var a,c,b,d,f,n,t,v,e,sd,q,Y,K,B,Q,S,P,g,W,V,l,lb;k.dirty=!1;c=A.dither;b=A.blend_enable;d=A.depth_enable;f=A.cull_enable;n=A.polygonOffset_enable;t=A.sample_alpha;v=A.sample_enable;e=A.stencil_enable;sd=A.scissor_enable;q=A.depth_func;Y=k.depth_func;K=A.depth_mask;B=k.depth_mask;Q=A.cull_face;S=k.cull_face;P=A.frontFace;g=k.frontFace;
W=A.lineWidth;V=k.lineWidth;l=A.stencil_mask;lb=k.stencil_mask;a=h.next;a!==h.cur&&(a?J.bindFramebuffer(36160,a.framebuffer):J.bindFramebuffer(36160,null),h.cur=a);c!==k.dither&&(c?J.enable(3024):J.disable(3024),k.dither=c);b!==k.blend_enable&&(b?J.enable(3042):J.disable(3042),k.blend_enable=b);d!==k.depth_enable&&(d?J.enable(2929):J.disable(2929),k.depth_enable=d);f!==k.cull_enable&&(f?J.enable(2884):J.disable(2884),k.cull_enable=f);n!==k.polygonOffset_enable&&(n?J.enable(32823):J.disable(32823),
k.polygonOffset_enable=n);t!==k.sample_alpha&&(t?J.enable(32926):J.disable(32926),k.sample_alpha=t);v!==k.sample_enable&&(v?J.enable(32928):J.disable(32928),k.sample_enable=v);e!==k.stencil_enable&&(e?J.enable(2960):J.disable(2960),k.stencil_enable=e);sd!==k.scissor_enable&&(sd?J.enable(3089):J.disable(3089),k.scissor_enable=sd);if(C[0]!==N[0]||C[1]!==N[1]||C[2]!==N[2]||C[3]!==N[3])J.blendColor(C[0],C[1],C[2],C[3]),N[0]=C[0],N[1]=C[1],N[2]=C[2],N[3]=C[3];if(U[0]!==Ab[0]||U[1]!==Ab[1])J.blendEquationSeparate(U[0],
U[1]),Ab[0]=U[0],Ab[1]=U[1];if(ca[0]!==ia[0]||ca[1]!==ia[1]||ca[2]!==ia[2]||ca[3]!==ia[3])J.blendFuncSeparate(ca[0],ca[1],ca[2],ca[3]),ia[0]=ca[0],ia[1]=ca[1],ia[2]=ca[2],ia[3]=ca[3];q!==Y&&(J.depthFunc(q),k.depth_func=q);if(Gb[0]!==Ka[0]||Gb[1]!==Ka[1])J.depthRange(Gb[0],Gb[1]),Ka[0]=Gb[0],Ka[1]=Gb[1];K!==B&&(J.depthMask(K),k.depth_mask=K);if(Ba[0]!==Ea[0]||Ba[1]!==Ea[1]||Ba[2]!==Ea[2]||Ba[3]!==Ea[3])J.colorMask(Ba[0],Ba[1],Ba[2],Ba[3]),Ea[0]=Ba[0],Ea[1]=Ba[1],Ea[2]=Ba[2],Ea[3]=Ba[3];Q!==S&&(J.cullFace(Q),
k.cull_face=Q);P!==g&&(J.frontFace(P),k.frontFace=P);W!==V&&(J.lineWidth(W),k.lineWidth=W);if(oc[0]!==Ub[0]||oc[1]!==Ub[1])J.polygonOffset(oc[0],oc[1]),Ub[0]=oc[0],Ub[1]=oc[1];if(Nb[0]!==kb[0]||Nb[1]!==kb[1])J.sampleCoverage(Nb[0],Nb[1]),kb[0]=Nb[0],kb[1]=Nb[1];l!==lb&&(J.stencilMask(l),k.stencil_mask=l);if(fc[0]!==Yb[0]||fc[1]!==Yb[1]||fc[2]!==Yb[2])J.stencilFunc(fc[0],fc[1],fc[2]),Yb[0]=fc[0],Yb[1]=fc[1],Yb[2]=fc[2];if(Ob[0]!==ob[0]||Ob[1]!==ob[1]||Ob[2]!==ob[2]||Ob[3]!==ob[3])J.stencilOpSeparate(Ob[0],
Ob[1],Ob[2],Ob[3]),ob[0]=Ob[0],ob[1]=Ob[1],ob[2]=Ob[2],ob[3]=Ob[3];if(ib[0]!==aa[0]||ib[1]!==aa[1]||ib[2]!==aa[2]||ib[3]!==aa[3])J.stencilOpSeparate(ib[0],ib[1],ib[2],ib[3]),aa[0]=ib[0],aa[1]=ib[1],aa[2]=ib[2],aa[3]=ib[3];if(da[0]!==O[0]||da[1]!==O[1]||da[2]!==O[2]||da[3]!==O[3])J.scissor(da[0],da[1],da[2],da[3]),O[0]=da[0],O[1]=da[1],O[2]=da[2],O[3]=da[3];if(qa[0]!==Z[0]||qa[1]!==Z[1]||qa[2]!==Z[2]||qa[3]!==Z[3])J.viewport(qa[0],qa[1],qa[2],qa[3]),Z[0]=qa[0],Z[1]=qa[1],Z[2]=qa[2],Z[3]=qa[3]},refresh:function(){var a,
c,b,d,f,pd,Id,ta,e,sd,q,Y,K,B,Q,S;k.dirty=!1;c=A.dither;b=A.blend_enable;d=A.depth_enable;f=A.cull_enable;pd=A.polygonOffset_enable;Id=A.sample_alpha;ta=A.sample_enable;e=A.stencil_enable;sd=A.scissor_enable;q=A.depth_func;Y=A.depth_mask;K=A.cull_face;B=A.frontFace;Q=A.lineWidth;S=A.stencil_mask;(a=h.next)?J.bindFramebuffer(36160,a.framebuffer):J.bindFramebuffer(36160,null);h.cur=a;for(a=0;a<v;++a)n[a].buffer?(J.enableVertexAttribArray(a),J.bindBuffer(34962,n[a].buffer.buffer),J.vertexAttribPointer(a,
n[a].size,n[a].type,n[a].normalized,n[a].stride,n[a].offset)):(J.disableVertexAttribArray(a),J.vertexAttrib4f(a,n[a].x,n[a].y,n[a].z,n[a].w),n[a].buffer=null);t.currentVAO=null;t.setVAO(t.targetVAO);c?J.enable(3024):J.disable(3024);k.dither=c;b?J.enable(3042):J.disable(3042);k.blend_enable=b;d?J.enable(2929):J.disable(2929);k.depth_enable=d;f?J.enable(2884):J.disable(2884);k.cull_enable=f;pd?J.enable(32823):J.disable(32823);k.polygonOffset_enable=pd;Id?J.enable(32926):J.disable(32926);k.sample_alpha=
Id;ta?J.enable(32928):J.disable(32928);k.sample_enable=ta;e?J.enable(2960):J.disable(2960);k.stencil_enable=e;sd?J.enable(3089):J.disable(3089);k.scissor_enable=sd;J.blendColor(C[0],C[1],C[2],C[3]);N[0]=C[0];N[1]=C[1];N[2]=C[2];N[3]=C[3];J.blendEquationSeparate(U[0],U[1]);Ab[0]=U[0];Ab[1]=U[1];J.blendFuncSeparate(ca[0],ca[1],ca[2],ca[3]);ia[0]=ca[0];ia[1]=ca[1];ia[2]=ca[2];ia[3]=ca[3];J.depthFunc(q);k.depth_func=q;J.depthRange(Gb[0],Gb[1]);Ka[0]=Gb[0];Ka[1]=Gb[1];J.depthMask(Y);k.depth_mask=Y;J.colorMask(Ba[0],
Ba[1],Ba[2],Ba[3]);Ea[0]=Ba[0];Ea[1]=Ba[1];Ea[2]=Ba[2];Ea[3]=Ba[3];J.cullFace(K);k.cull_face=K;J.frontFace(B);k.frontFace=B;J.lineWidth(Q);k.lineWidth=Q;J.polygonOffset(oc[0],oc[1]);Ub[0]=oc[0];Ub[1]=oc[1];J.sampleCoverage(Nb[0],Nb[1]);kb[0]=Nb[0];kb[1]=Nb[1];J.stencilMask(S);k.stencil_mask=S;J.stencilFunc(fc[0],fc[1],fc[2]);Yb[0]=fc[0];Yb[1]=fc[1];Yb[2]=fc[2];J.stencilOpSeparate(Ob[0],Ob[1],Ob[2],Ob[3]);ob[0]=Ob[0];ob[1]=Ob[1];ob[2]=Ob[2];ob[3]=Ob[3];J.stencilOpSeparate(ib[0],ib[1],ib[2],ib[3]);
aa[0]=ib[0];aa[1]=ib[1];aa[2]=ib[2];aa[3]=ib[3];J.scissor(da[0],da[1],da[2],da[3]);O[0]=da[0];O[1]=da[1];O[2]=da[2];O[3]=da[3];J.viewport(qa[0],qa[1],qa[2],qa[3]);Z[0]=qa[0];Z[1]=qa[1];Z[2]=qa[2];Z[3]=qa[3]}}},"11732.24":function(a,b,c,d,v,J,A){var k,n,t,h,C,N,U,ca,jb,ia,Gb,Ka,Ba,Ea,oc,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,pd;k=b.gl;n=b.context;t=b.next;h=b.current;C=b.shader;N=b.vao;U=b.framebuffer;ca=t.blend_color;jb=h.blend_color;ia=t.blend_equation;Gb=h.blend_equation;Ka=t.blend_func;
Ba=h.blend_func;Ea=t.depth_range;oc=h.depth_range;Ub=t.colorMask;Nb=h.colorMask;kb=t.polygonOffset_offset;fc=h.polygonOffset_offset;Yb=t.sample_coverage;Ob=h.sample_coverage;ob=t.stencil_func;ib=h.stencil_func;aa=t.stencil_opFront;da=h.stencil_opFront;O=t.stencil_opBack;qa=h.stencil_opBack;Z=t.scissor_box;X=h.scissor_box;Vb=t.viewport;Kb=h.viewport;$b={};pd={};return{draw:function(a){var c,b,e,f,q;c=U.next;c!==U.cur&&(c?k.bindFramebuffer(36160,c.framebuffer):k.bindFramebuffer(36160,null),U.cur=c);
if(h.dirty){c=t.dither;c!==h.dither&&(c?k.enable(3024):k.disable(3024),h.dither=c);c=t.blend_enable;c!==h.blend_enable&&(c?k.enable(3042):k.disable(3042),h.blend_enable=c);c=ca[0];e=ca[1];f=ca[2];q=ca[3];if(c!==jb[0]||e!==jb[1]||f!==jb[2]||q!==jb[3])k.blendColor(c,e,f,q),jb[0]=c,jb[1]=e,jb[2]=f,jb[3]=q;c=ia[0];e=ia[1];if(c!==Gb[0]||e!==Gb[1])k.blendEquationSeparate(c,e),Gb[0]=c,Gb[1]=e;c=Ka[0];e=Ka[1];f=Ka[2];q=Ka[3];if(c!==Ba[0]||e!==Ba[1]||f!==Ba[2]||q!==Ba[3])k.blendFuncSeparate(c,e,f,q),Ba[0]=
c,Ba[1]=e,Ba[2]=f,Ba[3]=q;c=t.depth_enable;c!==h.depth_enable&&(c?k.enable(2929):k.disable(2929),h.depth_enable=c);c=t.depth_func;c!==h.depth_func&&(k.depthFunc(c),h.depth_func=c);c=Ea[0];e=Ea[1];if(c!==oc[0]||e!==oc[1])k.depthRange(c,e),oc[0]=c,oc[1]=e;c=t.depth_mask;c!==h.depth_mask&&(k.depthMask(c),h.depth_mask=c);c=Ub[0];e=Ub[1];f=Ub[2];q=Ub[3];if(c!==Nb[0]||e!==Nb[1]||f!==Nb[2]||q!==Nb[3])k.colorMask(c,e,f,q),Nb[0]=c,Nb[1]=e,Nb[2]=f,Nb[3]=q;c=t.cull_enable;c!==h.cull_enable&&(c?k.enable(2884):
k.disable(2884),h.cull_enable=c);c=t.cull_face;c!==h.cull_face&&(k.cullFace(c),h.cull_face=c);c=t.frontFace;c!==h.frontFace&&(k.frontFace(c),h.frontFace=c);c=t.lineWidth;c!==h.lineWidth&&(k.lineWidth(c),h.lineWidth=c);c=t.polygonOffset_enable;c!==h.polygonOffset_enable&&(c?k.enable(32823):k.disable(32823),h.polygonOffset_enable=c);c=kb[0];e=kb[1];if(c!==fc[0]||e!==fc[1])k.polygonOffset(c,e),fc[0]=c,fc[1]=e;c=t.sample_alpha;c!==h.sample_alpha&&(c?k.enable(32926):k.disable(32926),h.sample_alpha=c);
c=t.sample_enable;c!==h.sample_enable&&(c?k.enable(32928):k.disable(32928),h.sample_enable=c);c=Yb[0];e=Yb[1];if(c!==Ob[0]||e!==Ob[1])k.sampleCoverage(c,e),Ob[0]=c,Ob[1]=e;c=t.stencil_enable;c!==h.stencil_enable&&(c?k.enable(2960):k.disable(2960),h.stencil_enable=c);c=t.stencil_mask;c!==h.stencil_mask&&(k.stencilMask(c),h.stencil_mask=c);c=ob[0];e=ob[1];f=ob[2];if(c!==ib[0]||e!==ib[1]||f!==ib[2])k.stencilFunc(c,e,f),ib[0]=c,ib[1]=e,ib[2]=f;c=aa[0];e=aa[1];f=aa[2];q=aa[3];if(c!==da[0]||e!==da[1]||
f!==da[2]||q!==da[3])k.stencilOpSeparate(c,e,f,q),da[0]=c,da[1]=e,da[2]=f,da[3]=q;c=O[0];e=O[1];f=O[2];q=O[3];if(c!==qa[0]||e!==qa[1]||f!==qa[2]||q!==qa[3])k.stencilOpSeparate(c,e,f,q),qa[0]=c,qa[1]=e,qa[2]=f,qa[3]=q;c=t.scissor_enable;c!==h.scissor_enable&&(c?k.enable(3089):k.disable(3089),h.scissor_enable=c);c=Z[0];e=Z[1];f=Z[2];q=Z[3];if(c!==X[0]||e!==X[1]||f!==X[2]||q!==X[3])k.scissor(c,e,f,q),X[0]=c,X[1]=e,X[2]=f,X[3]=q;c=Vb[0];e=Vb[1];f=Vb[2];q=Vb[3];if(c!==Kb[0]||e!==Kb[1]||f!==Kb[2]||q!==
Kb[3])k.viewport(c,e,f,q),Kb[0]=c,Kb[1]=e,Kb[2]=f,Kb[3]=q;h.dirty=!1}if(c=h.profile)b=performance.now(),v.count++;e=C.program(C.vert,C.frag,d);k.useProgram(e.program);N.setVAO(null);f=e.id;(q=$b[f])||(q=$b[f]=J(e));q.call(this,a);N.setVAO(null);c&&(v.cpuTime+=performance.now()-b)},scope:function(a,c,b){var e,d;if(e=h.profile)d=performance.now(),v.count++;c(n,a,b);e&&(v.cpuTime+=performance.now()-d)},batch:function(a,c){var b,e,f,q,n;b=U.next;b!==U.cur&&(b?k.bindFramebuffer(36160,b.framebuffer):k.bindFramebuffer(36160,
null),U.cur=b);if(h.dirty){b=t.dither;b!==h.dither&&(b?k.enable(3024):k.disable(3024),h.dither=b);b=t.blend_enable;b!==h.blend_enable&&(b?k.enable(3042):k.disable(3042),h.blend_enable=b);b=ca[0];f=ca[1];q=ca[2];n=ca[3];if(b!==jb[0]||f!==jb[1]||q!==jb[2]||n!==jb[3])k.blendColor(b,f,q,n),jb[0]=b,jb[1]=f,jb[2]=q,jb[3]=n;b=ia[0];f=ia[1];if(b!==Gb[0]||f!==Gb[1])k.blendEquationSeparate(b,f),Gb[0]=b,Gb[1]=f;b=Ka[0];f=Ka[1];q=Ka[2];n=Ka[3];if(b!==Ba[0]||f!==Ba[1]||q!==Ba[2]||n!==Ba[3])k.blendFuncSeparate(b,
f,q,n),Ba[0]=b,Ba[1]=f,Ba[2]=q,Ba[3]=n;b=t.depth_enable;b!==h.depth_enable&&(b?k.enable(2929):k.disable(2929),h.depth_enable=b);b=t.depth_func;b!==h.depth_func&&(k.depthFunc(b),h.depth_func=b);b=Ea[0];f=Ea[1];if(b!==oc[0]||f!==oc[1])k.depthRange(b,f),oc[0]=b,oc[1]=f;b=t.depth_mask;b!==h.depth_mask&&(k.depthMask(b),h.depth_mask=b);b=Ub[0];f=Ub[1];q=Ub[2];n=Ub[3];if(b!==Nb[0]||f!==Nb[1]||q!==Nb[2]||n!==Nb[3])k.colorMask(b,f,q,n),Nb[0]=b,Nb[1]=f,Nb[2]=q,Nb[3]=n;b=t.cull_enable;b!==h.cull_enable&&(b?
k.enable(2884):k.disable(2884),h.cull_enable=b);b=t.cull_face;b!==h.cull_face&&(k.cullFace(b),h.cull_face=b);b=t.frontFace;b!==h.frontFace&&(k.frontFace(b),h.frontFace=b);b=t.lineWidth;b!==h.lineWidth&&(k.lineWidth(b),h.lineWidth=b);b=t.polygonOffset_enable;b!==h.polygonOffset_enable&&(b?k.enable(32823):k.disable(32823),h.polygonOffset_enable=b);b=kb[0];f=kb[1];if(b!==fc[0]||f!==fc[1])k.polygonOffset(b,f),fc[0]=b,fc[1]=f;b=t.sample_alpha;b!==h.sample_alpha&&(b?k.enable(32926):k.disable(32926),h.sample_alpha=
b);b=t.sample_enable;b!==h.sample_enable&&(b?k.enable(32928):k.disable(32928),h.sample_enable=b);b=Yb[0];f=Yb[1];if(b!==Ob[0]||f!==Ob[1])k.sampleCoverage(b,f),Ob[0]=b,Ob[1]=f;b=t.stencil_enable;b!==h.stencil_enable&&(b?k.enable(2960):k.disable(2960),h.stencil_enable=b);b=t.stencil_mask;b!==h.stencil_mask&&(k.stencilMask(b),h.stencil_mask=b);b=ob[0];f=ob[1];q=ob[2];if(b!==ib[0]||f!==ib[1]||q!==ib[2])k.stencilFunc(b,f,q),ib[0]=b,ib[1]=f,ib[2]=q;b=aa[0];f=aa[1];q=aa[2];n=aa[3];if(b!==da[0]||f!==da[1]||
q!==da[2]||n!==da[3])k.stencilOpSeparate(b,f,q,n),da[0]=b,da[1]=f,da[2]=q,da[3]=n;b=O[0];f=O[1];q=O[2];n=O[3];if(b!==qa[0]||f!==qa[1]||q!==qa[2]||n!==qa[3])k.stencilOpSeparate(b,f,q,n),qa[0]=b,qa[1]=f,qa[2]=q,qa[3]=n;b=t.scissor_enable;b!==h.scissor_enable&&(b?k.enable(3089):k.disable(3089),h.scissor_enable=b);b=Z[0];f=Z[1];q=Z[2];n=Z[3];if(b!==X[0]||f!==X[1]||q!==X[2]||n!==X[3])k.scissor(b,f,q,n),X[0]=b,X[1]=f,X[2]=q,X[3]=n;b=Vb[0];f=Vb[1];q=Vb[2];n=Vb[3];if(b!==Kb[0]||f!==Kb[1]||q!==Kb[2]||n!==
Kb[3])k.viewport(b,f,q,n),Kb[0]=b,Kb[1]=f,Kb[2]=q,Kb[3]=n;h.dirty=!1}if(b=h.profile)e=performance.now(),v.count+=c;f=C.program(C.vert,C.frag,d);k.useProgram(f.program);N.setVAO(null);q=f.id;(n=pd[q])||(n=pd[q]=A(f));n.call(this,a,c);N.setVAO(null);b&&(v.cpuTime+=performance.now()-e)}}},"59191.522":function(a,b,c,d,v,J,A,k,n,t,h,C,N,U,ca,jb,ia,Gb,Ka,Ba,Ea,oc,Ub,Nb,kb,fc,Yb,Ob,ob,ib,aa,da,O,qa,Z,X,Vb,Kb,$b,pd,me,Id,ta,e,sd,q,Y,K,B,Q,S,P,g,W,V,l,lb,Wa,p,fa,za,I,G,Fa,Sa,H,D,R,z,T,yb,ma,x,wa,L,ed,vb,Jd,
Ac,sa,Nc,ba,hc,id,Hc,Tc,Eb,pb,Kc,tb,Xa,Ta,r,u,F,y,M,xa,ga,oa,ea,qd,Kd,md,Vd,Bc,Pc){var E,ad,ke,nd,he,Ae,Ie,ee,Re,Lc,ff,Qc,af,qe,jd,be,nc,ne,zb,oe,Bd,Sc,ic,jc,Nd,bd,Cb,td,ud,cd,Hb,Ya,ub,ja,eb,Qa,qb,ab,Va,Pb,Cc,Oa,ua,Uc,Ua,gb,kc,rb,hb,wc,ka,qc,Ra,fb,ya,Wb,Aa,Fb,wb,Ib,Zb,Za,pa,cb,ra,Ha,Db,Ca,gc,va;E=b.gl;ad=b.context;ke=b.next;nd=b.current;he=b.draw;Ae=b.elements;Ie=b.shader;ee=b.attributes;Re=b.vao;Lc=b.uniforms;ff=b.framebuffer;Qc=b.isArrayLike;af=ke.blend_color;qe=nd.blend_color;jd=ke.blend_equation;
be=nd.blend_equation;nc=ke.blend_func;ne=nd.blend_func;zb=ke.depth_range;oe=nd.depth_range;Bd=ke.colorMask;Sc=nd.colorMask;ic=ke.polygonOffset_offset;jc=nd.polygonOffset_offset;Nd=ke.sample_coverage;bd=nd.sample_coverage;Cb=ke.stencil_func;td=nd.stencil_func;ud=ke.stencil_opFront;cd=nd.stencil_opFront;Hb=ke.stencil_opBack;Ya=nd.stencil_opBack;ub=ke.scissor_box;ja=nd.scissor_box;eb=ke.viewport;Qa=nd.viewport;qb={};ab={};Va=new Float32Array(16);Pb=new Float32Array(16);Cc=new Float32Array(16);Oa=new Float32Array(16);
ua=new Float32Array(16);Uc=new Float32Array(16);Ua=new Float32Array(16);gb=new Float32Array(16);kc=new Float32Array(16);rb=new Float32Array(16);hb=new Float32Array(16);wc=new Float32Array(16);ka=new Float32Array(16);qc=new Float32Array(16);Ra=new Float32Array(16);fb=new Float32Array(16);ya=new Float32Array(16);Wb=new Float32Array(16);Aa=new Float32Array(16);Fb=new Float32Array(16);wb=new Float32Array(16);Ib=new Float32Array(16);Zb=new Float32Array(16);Za=new Float32Array(16);pa=new Float32Array(16);
cb=new Float32Array(16);ra=new Float32Array(16);Ha=new Float32Array(16);Db=new Float32Array(16);Ca=new Float32Array(16);gc=new Float32Array(16);va=new Float32Array(16);return{draw:function(b){var f,r,m,w,u,v;f=ff.next;f!==ff.cur&&(f?E.bindFramebuffer(36160,f.framebuffer):E.bindFramebuffer(36160,null),ff.cur=f);if(nd.dirty){f=Bd[0];v=Bd[1];r=Bd[2];m=Bd[3];if(f!==Sc[0]||v!==Sc[1]||r!==Sc[2]||m!==Sc[3])E.colorMask(f,v,r,m),Sc[0]=f,Sc[1]=v,Sc[2]=r,Sc[3]=m;f=ke.frontFace;f!==nd.frontFace&&(E.frontFace(f),
nd.frontFace=f);f=ke.polygonOffset_enable;f!==nd.polygonOffset_enable&&(f?E.enable(32823):E.disable(32823),nd.polygonOffset_enable=f);f=ic[0];v=ic[1];if(f!==jc[0]||v!==jc[1])E.polygonOffset(f,v),jc[0]=f,jc[1]=v;f=ke.sample_alpha;f!==nd.sample_alpha&&(f?E.enable(32926):E.disable(32926),nd.sample_alpha=f);f=ke.sample_enable;f!==nd.sample_enable&&(f?E.enable(32928):E.disable(32928),nd.sample_enable=f);f=Nd[0];v=Nd[1];if(f!==bd[0]||v!==bd[1])E.sampleCoverage(f,v),bd[0]=f,bd[1]=v;f=ke.stencil_enable;f!==
nd.stencil_enable&&(f?E.enable(2960):E.disable(2960),nd.stencil_enable=f);f=ke.stencil_mask;f!==nd.stencil_mask&&(E.stencilMask(f),nd.stencil_mask=f);f=Cb[0];v=Cb[1];r=Cb[2];if(f!==td[0]||v!==td[1]||r!==td[2])E.stencilFunc(f,v,r),td[0]=f,td[1]=v,td[2]=r;f=ud[0];v=ud[1];r=ud[2];m=ud[3];if(f!==cd[0]||v!==cd[1]||r!==cd[2]||m!==cd[3])E.stencilOpSeparate(f,v,r,m),cd[0]=f,cd[1]=v,cd[2]=r,cd[3]=m;f=Hb[0];v=Hb[1];r=Hb[2];m=Hb[3];if(f!==Ya[0]||v!==Ya[1]||r!==Ya[2]||m!==Ya[3])E.stencilOpSeparate(f,v,r,m),Ya[0]=
f,Ya[1]=v,Ya[2]=r,Ya[3]=m}qb.x=b.viewportX;qb.y=b.viewportY;qb.width=b.viewportWidth;qb.height=b.viewportHeight;qb&&"object"===typeof qb||c.commandRaise(J,d);r=qb.x|0;m=qb.y|0;w="width"in qb?qb.width|0:ad.framebufferWidth-r;u="height"in qb?qb.height|0:ad.framebufferHeight-m;0<=w&&0<=u||c.commandRaise(J,d);f=ad.viewportWidth;ad.viewportWidth=w;v=ad.viewportHeight;ad.viewportHeight=u;E.viewport(r,m,w,u);Qa[0]=r;Qa[1]=m;Qa[2]=w;Qa[3]=u;E.blendColor(0,0,0,0);qe[0]=0;qe[1]=0;qe[2]=0;qe[3]=0;a[0]?E.enable(3042):
E.disable(3042);nd.blend_enable=a[1];E.blendEquationSeparate(32774,32774);be[0]=32774;be[1]=32774;E.blendFuncSeparate(770,771,1,1);ne[0]=770;ne[1]=771;ne[2]=1;ne[3]=1;a[2]?E.enable(2884):E.disable(2884);nd.cull_enable=a[3];E.cullFace(a[4]);nd.cull_face=a[5];a[6]?E.enable(2929):E.disable(2929);nd.depth_enable=a[7];E.depthFunc(a[8]);nd.depth_func=a[9];E.depthMask(a[10]);nd.depth_mask=a[11];E.depthRange(0,1);oe[0]=0;oe[1]=1;a[12]?E.enable(3024):E.disable(3024);nd.dither=a[13];E.lineWidth(a[14]);nd.lineWidth=
a[15];ab.x=b.scissorX;ab.y=b.scissorY;ab.width=b.scissorWidth;ab.height=b.scissorHeight;ab&&"object"===typeof ab||c.commandRaise(A,d);r=ab.x|0;m=ab.y|0;w="width"in ab?ab.width|0:ad.framebufferWidth-r;u="height"in ab?ab.height|0:ad.framebufferHeight-m;0<=w&&0<=u||c.commandRaise(A,d);E.scissor(r,m,w,u);ja[0]=r;ja[1]=m;ja[2]=w;ja[3]=u;a[16]?E.enable(3089):E.disable(3089);nd.scissor_enable=a[17];r=nd.profile;nd.profile=!1;E.useProgram(k.program);Re.setVAO(null);m=t.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);
if(w.type!==n.dtype||4!==w.size||w.buffer!==n||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,n.buffer),E.vertexAttribPointer(m,4,n.dtype,!1,0,0),w.type=n.dtype,w.size=4,w.buffer=n,w.normalized=!1,w.offset=0,w.stride=0;m=C.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==h.dtype||4!==w.size||w.buffer!==h||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,h.buffer),E.vertexAttribPointer(m,4,h.dtype,!1,0,0),w.type=h.dtype,w.size=4,w.buffer=h,w.normalized=
!1,w.offset=0,w.stride=0;m=U.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==N.dtype||4!==w.size||w.buffer!==N||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,N.buffer),E.vertexAttribPointer(m,4,N.dtype,!1,0,0),w.type=N.dtype,w.size=4,w.buffer=N,w.normalized=!1,w.offset=0,w.stride=0;m=jb.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==ca.dtype||4!==w.size||w.buffer!==ca||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,ca.buffer),
E.vertexAttribPointer(m,4,ca.dtype,!1,0,0),w.type=ca.dtype,w.size=4,w.buffer=ca,w.normalized=!1,w.offset=0,w.stride=0;m=Gb.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==ia.dtype||4!==w.size||w.buffer!==ia||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,ia.buffer),E.vertexAttribPointer(m,4,ia.dtype,!1,0,0),w.type=ia.dtype,w.size=4,w.buffer=ia,w.normalized=!1,w.offset=0,w.stride=0;m=Ba.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==Ka.dtype||
4!==w.size||w.buffer!==Ka||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,Ka.buffer),E.vertexAttribPointer(m,4,Ka.dtype,!1,0,0),w.type=Ka.dtype,w.size=4,w.buffer=Ka,w.normalized=!1,w.offset=0,w.stride=0;m=oc.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==Ea.dtype||4!==w.size||w.buffer!==Ea||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,Ea.buffer),E.vertexAttribPointer(m,4,Ea.dtype,!1,0,0),w.type=Ea.dtype,w.size=4,w.buffer=Ea,w.normalized=!1,
w.offset=0,w.stride=0;m=Nb.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==Ub.dtype||4!==w.size||w.buffer!==Ub||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,Ub.buffer),E.vertexAttribPointer(m,4,Ub.dtype,!1,0,0),w.type=Ub.dtype,w.size=4,w.buffer=Ub,w.normalized=!1,w.offset=0,w.stride=0;m=fc.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==kb.dtype||4!==w.size||w.buffer!==kb||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,
kb.buffer),E.vertexAttribPointer(m,4,kb.dtype,!1,0,0),w.type=kb.dtype,w.size=4,w.buffer=kb,w.normalized=!1,w.offset=0,w.stride=0;m=Ob.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==Yb.dtype||4!==w.size||w.buffer!==Yb||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,Yb.buffer),E.vertexAttribPointer(m,4,Yb.dtype,!1,0,0),w.type=Yb.dtype,w.size=4,w.buffer=Yb,w.normalized=!1,w.offset=0,w.stride=0;m=ib.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==
ob.dtype||4!==w.size||w.buffer!==ob||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,ob.buffer),E.vertexAttribPointer(m,4,ob.dtype,!1,0,0),w.type=ob.dtype,w.size=4,w.buffer=ob,w.normalized=!1,w.offset=0,w.stride=0;m=da.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==aa.dtype||4!==w.size||w.buffer!==aa||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,aa.buffer),E.vertexAttribPointer(m,4,aa.dtype,!1,0,0),w.type=aa.dtype,w.size=4,w.buffer=aa,w.normalized=
!1,w.offset=0,w.stride=0;m=qa.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==O.dtype||4!==w.size||w.buffer!==O||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,O.buffer),E.vertexAttribPointer(m,4,O.dtype,!1,0,0),w.type=O.dtype,w.size=4,w.buffer=O,w.normalized=!1,w.offset=0,w.stride=0;m=X.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==Z.dtype||4!==w.size||w.buffer!==Z||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,Z.buffer),
E.vertexAttribPointer(m,4,Z.dtype,!1,0,0),w.type=Z.dtype,w.size=4,w.buffer=Z,w.normalized=!1,w.offset=0,w.stride=0;m=Kb.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==Vb.dtype||4!==w.size||w.buffer!==Vb||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,Vb.buffer),E.vertexAttribPointer(m,4,Vb.dtype,!1,0,0),w.type=Vb.dtype,w.size=4,w.buffer=Vb,w.normalized=!1,w.offset=0,w.stride=0;m=pd.location;w=ee[m];w.buffer||E.enableVertexAttribArray(m);if(w.type!==$b.dtype||
4!==w.size||w.buffer!==$b||!1!==w.normalized||0!==w.offset||0!==w.stride)E.bindBuffer(34962,$b.buffer),E.vertexAttribPointer(m,4,$b.dtype,!1,0,0),w.type=$b.dtype,w.size=4,w.buffer=$b,w.normalized=!1,w.offset=0,w.stride=0;m=b.contextColor;Qc(m)&&4===m.length||c.commandRaise(Id,d);E.uniform4f(me.location,m[0],m[1],m[2],m[3]);m=b.dim0A;Qc(m)&&16===m.length||c.commandRaise(e,d);E.uniformMatrix4fv(ta.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(Va[0]=m[0],Va[1]=m[1],Va[2]=m[2],Va[3]=m[3],
Va[4]=m[4],Va[5]=m[5],Va[6]=m[6],Va[7]=m[7],Va[8]=m[8],Va[9]=m[9],Va[10]=m[10],Va[11]=m[11],Va[12]=m[12],Va[13]=m[13],Va[14]=m[14],Va[15]=m[15],Va));m=b.dim0B;Qc(m)&&16===m.length||c.commandRaise(q,d);E.uniformMatrix4fv(sd.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(Pb[0]=m[0],Pb[1]=m[1],Pb[2]=m[2],Pb[3]=m[3],Pb[4]=m[4],Pb[5]=m[5],Pb[6]=m[6],Pb[7]=m[7],Pb[8]=m[8],Pb[9]=m[9],Pb[10]=m[10],Pb[11]=m[11],Pb[12]=m[12],Pb[13]=m[13],Pb[14]=m[14],Pb[15]=m[15],Pb));m=b.dim0C;Qc(m)&&16===m.length||
c.commandRaise(K,d);E.uniformMatrix4fv(Y.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(Cc[0]=m[0],Cc[1]=m[1],Cc[2]=m[2],Cc[3]=m[3],Cc[4]=m[4],Cc[5]=m[5],Cc[6]=m[6],Cc[7]=m[7],Cc[8]=m[8],Cc[9]=m[9],Cc[10]=m[10],Cc[11]=m[11],Cc[12]=m[12],Cc[13]=m[13],Cc[14]=m[14],Cc[15]=m[15],Cc));m=b.dim0D;Qc(m)&&16===m.length||c.commandRaise(Q,d);E.uniformMatrix4fv(B.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(Oa[0]=m[0],Oa[1]=m[1],Oa[2]=m[2],Oa[3]=m[3],Oa[4]=m[4],Oa[5]=m[5],Oa[6]=m[6],
Oa[7]=m[7],Oa[8]=m[8],Oa[9]=m[9],Oa[10]=m[10],Oa[11]=m[11],Oa[12]=m[12],Oa[13]=m[13],Oa[14]=m[14],Oa[15]=m[15],Oa));m=b.dim1A;Qc(m)&&16===m.length||c.commandRaise(P,d);E.uniformMatrix4fv(S.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(ua[0]=m[0],ua[1]=m[1],ua[2]=m[2],ua[3]=m[3],ua[4]=m[4],ua[5]=m[5],ua[6]=m[6],ua[7]=m[7],ua[8]=m[8],ua[9]=m[9],ua[10]=m[10],ua[11]=m[11],ua[12]=m[12],ua[13]=m[13],ua[14]=m[14],ua[15]=m[15],ua));m=b.dim1B;Qc(m)&&16===m.length||c.commandRaise(W,d);E.uniformMatrix4fv(g.location,
!1,Array.isArray(m)||m instanceof Float32Array?m:(Uc[0]=m[0],Uc[1]=m[1],Uc[2]=m[2],Uc[3]=m[3],Uc[4]=m[4],Uc[5]=m[5],Uc[6]=m[6],Uc[7]=m[7],Uc[8]=m[8],Uc[9]=m[9],Uc[10]=m[10],Uc[11]=m[11],Uc[12]=m[12],Uc[13]=m[13],Uc[14]=m[14],Uc[15]=m[15],Uc));m=b.dim1C;Qc(m)&&16===m.length||c.commandRaise(l,d);E.uniformMatrix4fv(V.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(Ua[0]=m[0],Ua[1]=m[1],Ua[2]=m[2],Ua[3]=m[3],Ua[4]=m[4],Ua[5]=m[5],Ua[6]=m[6],Ua[7]=m[7],Ua[8]=m[8],Ua[9]=m[9],Ua[10]=m[10],Ua[11]=
m[11],Ua[12]=m[12],Ua[13]=m[13],Ua[14]=m[14],Ua[15]=m[15],Ua));m=b.dim1D;Qc(m)&&16===m.length||c.commandRaise(Wa,d);E.uniformMatrix4fv(lb.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(gb[0]=m[0],gb[1]=m[1],gb[2]=m[2],gb[3]=m[3],gb[4]=m[4],gb[5]=m[5],gb[6]=m[6],gb[7]=m[7],gb[8]=m[8],gb[9]=m[9],gb[10]=m[10],gb[11]=m[11],gb[12]=m[12],gb[13]=m[13],gb[14]=m[14],gb[15]=m[15],gb));m=b.drwLayer;"number"!==typeof m&&c.commandRaise(fa,d);E.uniform1f(p.location,m);m=b.hiA;Qc(m)&&16===m.length||
c.commandRaise(I,d);E.uniformMatrix4fv(za.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(kc[0]=m[0],kc[1]=m[1],kc[2]=m[2],kc[3]=m[3],kc[4]=m[4],kc[5]=m[5],kc[6]=m[6],kc[7]=m[7],kc[8]=m[8],kc[9]=m[9],kc[10]=m[10],kc[11]=m[11],kc[12]=m[12],kc[13]=m[13],kc[14]=m[14],kc[15]=m[15],kc));m=b.hiB;Qc(m)&&16===m.length||c.commandRaise(Fa,d);E.uniformMatrix4fv(G.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(rb[0]=m[0],rb[1]=m[1],rb[2]=m[2],rb[3]=m[3],rb[4]=m[4],rb[5]=m[5],rb[6]=m[6],
rb[7]=m[7],rb[8]=m[8],rb[9]=m[9],rb[10]=m[10],rb[11]=m[11],rb[12]=m[12],rb[13]=m[13],rb[14]=m[14],rb[15]=m[15],rb));m=b.hiC;Qc(m)&&16===m.length||c.commandRaise(H,d);E.uniformMatrix4fv(Sa.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(hb[0]=m[0],hb[1]=m[1],hb[2]=m[2],hb[3]=m[3],hb[4]=m[4],hb[5]=m[5],hb[6]=m[6],hb[7]=m[7],hb[8]=m[8],hb[9]=m[9],hb[10]=m[10],hb[11]=m[11],hb[12]=m[12],hb[13]=m[13],hb[14]=m[14],hb[15]=m[15],hb));m=b.hiD;Qc(m)&&16===m.length||c.commandRaise(R,d);E.uniformMatrix4fv(D.location,
!1,Array.isArray(m)||m instanceof Float32Array?m:(wc[0]=m[0],wc[1]=m[1],wc[2]=m[2],wc[3]=m[3],wc[4]=m[4],wc[5]=m[5],wc[6]=m[6],wc[7]=m[7],wc[8]=m[8],wc[9]=m[9],wc[10]=m[10],wc[11]=m[11],wc[12]=m[12],wc[13]=m[13],wc[14]=m[14],wc[15]=m[15],wc));m=b.loA;Qc(m)&&16===m.length||c.commandRaise(T,d);E.uniformMatrix4fv(z.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(ka[0]=m[0],ka[1]=m[1],ka[2]=m[2],ka[3]=m[3],ka[4]=m[4],ka[5]=m[5],ka[6]=m[6],ka[7]=m[7],ka[8]=m[8],ka[9]=m[9],ka[10]=m[10],ka[11]=
m[11],ka[12]=m[12],ka[13]=m[13],ka[14]=m[14],ka[15]=m[15],ka));m=b.loB;Qc(m)&&16===m.length||c.commandRaise(ma,d);E.uniformMatrix4fv(yb.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(qc[0]=m[0],qc[1]=m[1],qc[2]=m[2],qc[3]=m[3],qc[4]=m[4],qc[5]=m[5],qc[6]=m[6],qc[7]=m[7],qc[8]=m[8],qc[9]=m[9],qc[10]=m[10],qc[11]=m[11],qc[12]=m[12],qc[13]=m[13],qc[14]=m[14],qc[15]=m[15],qc));m=b.loC;Qc(m)&&16===m.length||c.commandRaise(wa,d);E.uniformMatrix4fv(x.location,!1,Array.isArray(m)||m instanceof
Float32Array?m:(Ra[0]=m[0],Ra[1]=m[1],Ra[2]=m[2],Ra[3]=m[3],Ra[4]=m[4],Ra[5]=m[5],Ra[6]=m[6],Ra[7]=m[7],Ra[8]=m[8],Ra[9]=m[9],Ra[10]=m[10],Ra[11]=m[11],Ra[12]=m[12],Ra[13]=m[13],Ra[14]=m[14],Ra[15]=m[15],Ra));m=b.loD;Qc(m)&&16===m.length||c.commandRaise(ed,d);E.uniformMatrix4fv(L.location,!1,Array.isArray(m)||m instanceof Float32Array?m:(fb[0]=m[0],fb[1]=m[1],fb[2]=m[2],fb[3]=m[3],fb[4]=m[4],fb[5]=m[5],fb[6]=m[6],fb[7]=m[7],fb[8]=m[8],fb[9]=m[9],fb[10]=m[10],fb[11]=m[11],fb[12]=m[12],fb[13]=m[13],
fb[14]=m[14],fb[15]=m[15],fb));m=b.maskHeight;"number"!==typeof m&&c.commandRaise(Jd,d);E.uniform1f(vb.location,m);(m=b.maskTexture)&&"framebuffer"===m._reglType&&(m=m.color[0]);"function"===typeof m&&"texture2d"===m._reglType||c.commandRaise(sa,d);m=m._texture;E.uniform1i(Ac.location,m.bind());E.uniform1i(Nc.location,ba.bind());w=b.resolution;Qc(w)&&2===w.length||c.commandRaise(id,d);E.uniform2f(hc.location,w[0],w[1]);w=b.viewBoxPos;Qc(w)&&2===w.length||c.commandRaise(Tc,d);E.uniform2f(Hc.location,
w[0],w[1]);w=b.viewBoxSize;Qc(w)&&2===w.length||c.commandRaise(pb,d);E.uniform2f(Eb.location,w[0],w[1]);(w=he.elements)?E.bindBuffer(34963,w.buffer.buffer):Re.currentVAO&&(w=Ae.getElements(Re.currentVAO.elements))&&E.bindBuffer(34963,w.buffer.buffer);u=b.offset;0<=u||c.commandRaise(Kc,d);b=b.count;"number"===typeof b&&0<=b&&b===(b|0)||c.commandRaise(tb,d);b&&(w?E.drawElements(1,b,w.type,u<<(w.type-5121>>1)):E.drawArrays(1,u,b),nd.dirty=!0,Re.setVAO(null),ad.viewportWidth=f,ad.viewportHeight=v,nd.profile=
r,m.unbind(),ba.unbind())},scope:function(b,e,f){var g,k,l,p,q,t,v,x,z,C,B,D,E,G,H,I,K,L,P,Q,S,R,T,V,U,W,ta,X,Y,fa,ba,da,ja,ma,ka,pa,za,qa,Wa,sa,va,ra,wa,na,ya,ua,Aa,Ba,Ca,Fa,Ha,lb,Qa,Sa,Ya,Za,Oa,Ra,Ua,Va,cb,ib,jb,pb,vb,gb,hb,rb,wb,yb,Cb,Db,Eb,Fb,fb,Hb,Ib,Kb,Nb,Ob,Wb,Jb,Gb,dc,Zb,fc,gc,hc,ic,jc,oc,Pb,Ac,mc,kc,Ec,sd,qc,wc,Hc,vc,Cc,Nc,Qc,Sc,Tc,bd,cd,ed,Uc,id,pd,td,ud,Bd,Id,Le,ld,Nd,$c,Jd,Wd,me,be,ee,Ud,ne,oe,qe,De,Ae,Je,se,Oe,ve,gf,Re,ff,nf,qf,sf,of,Bf,wf,uf,te,Cf,ze,Df,tf,If,Jf,pf,Ef,xf,Kf,Ff,Lf,Mf,
Hf,Qf,Sf,Rf,Of,yf,Wf,Pf,zf,Gf,Tf,Uf,Fe,Vf,Ze,Xf,$f,eg,gg,Yf,hg,cg,ig,og,jg,sg,Sg,Tg,Ug,Mh,Nh,zg,Ag,Bg,Cg,Dg,Eg,Fg,ef,wg,$e,pg,qg,kg,lg,Zf,rg,dg,mg,tg,ng,ug,xg,yg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Uh,Vh,Wh,Xh,Yh,Zh,$h,ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki;qb.x=b.viewportX;qb.y=b.viewportY;qb.width=b.viewportWidth;qb.height=b.viewportHeight;qb&&"object"===typeof qb||c.commandRaise(J,
d);g=qb.x|0;k=qb.y|0;l="width"in qb?qb.width|0:ad.framebufferWidth-g;p="height"in qb?qb.height|0:ad.framebufferHeight-k;0<=l&&0<=p||c.commandRaise(J,d);q=ad.viewportWidth;ad.viewportWidth=l;t=ad.viewportHeight;ad.viewportHeight=p;v=eb[0];eb[0]=a[18];x=eb[1];eb[1]=a[19];z=eb[2];eb[2]=a[20];C=eb[3];eb[3]=a[21];B=af[0];af[0]=a[22];D=af[1];af[1]=a[23];E=af[2];af[2]=a[24];G=af[3];af[3]=a[25];H=ke.blend_enable;ke.blend_enable=a[26];I=jd[0];jd[0]=a[27];K=jd[1];jd[1]=a[28];L=nc[0];nc[0]=a[29];P=nc[1];nc[1]=
a[30];Q=nc[2];nc[2]=a[31];S=nc[3];nc[3]=a[32];R=ke.cull_enable;ke.cull_enable=a[33];T=ke.cull_face;ke.cull_face=a[34];V=ke.depth_enable;ke.depth_enable=a[35];U=ke.depth_func;ke.depth_func=a[36];W=ke.depth_mask;ke.depth_mask=a[37];ta=zb[0];zb[0]=a[38];X=zb[1];zb[1]=a[39];Y=ke.dither;ke.dither=a[40];fa=ke.lineWidth;ke.lineWidth=a[41];ab.x=b.scissorX;ab.y=b.scissorY;ab.width=b.scissorWidth;ab.height=b.scissorHeight;ab&&"object"===typeof ab||c.commandRaise(A,d);ba=ab.x|0;da=ab.y|0;ja="width"in ab?ab.width|
0:ad.framebufferWidth-ba;ma="height"in ab?ab.height|0:ad.framebufferHeight-da;0<=ja&&0<=ma||c.commandRaise(A,d);ka=ub[0];ub[0]=a[42];pa=ub[1];ub[1]=a[43];za=ub[2];ub[2]=a[44];qa=ub[3];ub[3]=a[45];Wa=ke.scissor_enable;ke.scissor_enable=a[46];sa=nd.profile;nd.profile=!1;0<=b.offset||c.commandRaise(Kc,d);va=he.offset;he.offset=a[47];ra=b.count;"number"===typeof ra&&0<=ra&&ra===(ra|0)||c.commandRaise(tb,d);wa=he.count;he.count=a[48];na=he.primitive;he.primitive=a[49];ya=Lc[a[50]];Lc[a[50]]=Xa;ua=b.resolution;
Aa=Lc[a[51]];Lc[a[51]]=ua;Ba=b.viewBoxPos;Ca=Lc[a[52]];Lc[a[52]]=Ba;Fa=b.viewBoxSize;Ha=Lc[a[53]];Lc[a[53]]=Fa;lb=b.dim0A;Qa=Lc[a[54]];Lc[a[54]]=lb;Sa=b.dim1A;Ya=Lc[a[55]];Lc[a[55]]=Sa;Za=b.dim0B;Oa=Lc[a[56]];Lc[a[56]]=Za;Ra=b.dim1B;Ua=Lc[a[57]];Lc[a[57]]=Ra;Va=b.dim0C;cb=Lc[a[58]];Lc[a[58]]=Va;ib=b.dim1C;jb=Lc[a[59]];Lc[a[59]]=ib;pb=b.dim0D;vb=Lc[a[60]];Lc[a[60]]=pb;gb=b.dim1D;hb=Lc[a[61]];Lc[a[61]]=gb;rb=b.loA;wb=Lc[a[62]];Lc[a[62]]=rb;yb=b.hiA;Cb=Lc[a[63]];Lc[a[63]]=yb;Db=b.loB;Eb=Lc[a[64]];Lc[a[64]]=
Db;Fb=b.hiB;fb=Lc[a[65]];Lc[a[65]]=Fb;Hb=b.loC;Ib=Lc[a[66]];Lc[a[66]]=Hb;Kb=b.hiC;Nb=Lc[a[67]];Lc[a[67]]=Kb;Ob=b.loD;Wb=Lc[a[68]];Lc[a[68]]=Ob;Jb=b.hiD;Gb=Lc[a[69]];Lc[a[69]]=Jb;dc=b.contextColor;Zb=Lc[a[70]];Lc[a[70]]=dc;fc=b.maskTexture;gc=Lc[a[71]];Lc[a[71]]=fc;hc=b.drwLayer;ic=Lc[a[72]];Lc[a[72]]=hc;jc=b.maskHeight;oc=Lc[a[73]];Lc[a[73]]=jc;Pb=Ta.state;Ta.state=1;Ac=Ta.x;Ta.x=0;mc=Ta.y;Ta.y=0;kc=Ta.z;Ta.z=0;Ec=Ta.w;Ta.w=0;sd=Ta.buffer;Ta.buffer=h;qc=Ta.size;Ta.size=0;wc=Ta.normalized;Ta.normalized=
!1;Hc=Ta.type;Ta.type=h.dtype;vc=Ta.offset;Ta.offset=0;Cc=Ta.stride;Ta.stride=0;Nc=Ta.divisor;Ta.divisor=0;Qc=r.state;r.state=1;Sc=r.x;r.x=0;Tc=r.y;r.y=0;bd=r.z;r.z=0;cd=r.w;r.w=0;ed=r.buffer;r.buffer=N;Uc=r.size;r.size=0;id=r.normalized;r.normalized=!1;pd=r.type;r.type=N.dtype;td=r.offset;r.offset=0;ud=r.stride;r.stride=0;Bd=r.divisor;r.divisor=0;Id=u.state;u.state=1;Le=u.x;u.x=0;ld=u.y;u.y=0;Nd=u.z;u.z=0;$c=u.w;u.w=0;Jd=u.buffer;u.buffer=ca;Wd=u.size;u.size=0;me=u.normalized;u.normalized=!1;be=
u.type;u.type=ca.dtype;ee=u.offset;u.offset=0;Ud=u.stride;u.stride=0;ne=u.divisor;u.divisor=0;oe=F.state;F.state=1;qe=F.x;F.x=0;De=F.y;F.y=0;Ae=F.z;F.z=0;Je=F.w;F.w=0;se=F.buffer;F.buffer=ia;Oe=F.size;F.size=0;ve=F.normalized;F.normalized=!1;gf=F.type;F.type=ia.dtype;Re=F.offset;F.offset=0;ff=F.stride;F.stride=0;nf=F.divisor;F.divisor=0;qf=y.state;y.state=1;sf=y.x;y.x=0;of=y.y;y.y=0;Bf=y.z;y.z=0;wf=y.w;y.w=0;uf=y.buffer;y.buffer=Ka;te=y.size;y.size=0;Cf=y.normalized;y.normalized=!1;ze=y.type;y.type=
Ka.dtype;Df=y.offset;y.offset=0;tf=y.stride;y.stride=0;If=y.divisor;y.divisor=0;Jf=M.state;M.state=1;pf=M.x;M.x=0;Ef=M.y;M.y=0;xf=M.z;M.z=0;Kf=M.w;M.w=0;Ff=M.buffer;M.buffer=Ea;Lf=M.size;M.size=0;Mf=M.normalized;M.normalized=!1;Hf=M.type;M.type=Ea.dtype;Qf=M.offset;M.offset=0;Sf=M.stride;M.stride=0;Rf=M.divisor;M.divisor=0;Of=xa.state;xa.state=1;yf=xa.x;xa.x=0;Wf=xa.y;xa.y=0;Pf=xa.z;xa.z=0;zf=xa.w;xa.w=0;Gf=xa.buffer;xa.buffer=Ub;Tf=xa.size;xa.size=0;Uf=xa.normalized;xa.normalized=!1;Fe=xa.type;xa.type=
Ub.dtype;Vf=xa.offset;xa.offset=0;Ze=xa.stride;xa.stride=0;Xf=xa.divisor;xa.divisor=0;$f=ga.state;ga.state=1;eg=ga.x;ga.x=0;gg=ga.y;ga.y=0;Yf=ga.z;ga.z=0;hg=ga.w;ga.w=0;cg=ga.buffer;ga.buffer=kb;ig=ga.size;ga.size=0;og=ga.normalized;ga.normalized=!1;jg=ga.type;ga.type=kb.dtype;sg=ga.offset;ga.offset=0;Sg=ga.stride;ga.stride=0;Tg=ga.divisor;ga.divisor=0;Ug=oa.state;oa.state=1;Mh=oa.x;oa.x=0;Nh=oa.y;oa.y=0;zg=oa.z;oa.z=0;Ag=oa.w;oa.w=0;Bg=oa.buffer;oa.buffer=Yb;Cg=oa.size;oa.size=0;Dg=oa.normalized;
oa.normalized=!1;Eg=oa.type;oa.type=Yb.dtype;Fg=oa.offset;oa.offset=0;ef=oa.stride;oa.stride=0;wg=oa.divisor;oa.divisor=0;$e=ea.state;ea.state=1;pg=ea.x;ea.x=0;qg=ea.y;ea.y=0;kg=ea.z;ea.z=0;lg=ea.w;ea.w=0;Zf=ea.buffer;ea.buffer=ob;rg=ea.size;ea.size=0;dg=ea.normalized;ea.normalized=!1;mg=ea.type;ea.type=ob.dtype;tg=ea.offset;ea.offset=0;ng=ea.stride;ea.stride=0;ug=ea.divisor;ea.divisor=0;xg=qd.state;qd.state=1;yg=qd.x;qd.x=0;Gg=qd.y;qd.y=0;Hg=qd.z;qd.z=0;Ig=qd.w;qd.w=0;Jg=qd.buffer;qd.buffer=aa;Kg=
qd.size;qd.size=0;Lg=qd.normalized;qd.normalized=!1;Mg=qd.type;qd.type=aa.dtype;Ng=qd.offset;qd.offset=0;Og=qd.stride;qd.stride=0;Pg=qd.divisor;qd.divisor=0;Qg=Kd.state;Kd.state=1;Rg=Kd.x;Kd.x=0;Vg=Kd.y;Kd.y=0;Wg=Kd.z;Kd.z=0;Xg=Kd.w;Kd.w=0;Yg=Kd.buffer;Kd.buffer=O;Zg=Kd.size;Kd.size=0;$g=Kd.normalized;Kd.normalized=!1;ah=Kd.type;Kd.type=O.dtype;bh=Kd.offset;Kd.offset=0;ch=Kd.stride;Kd.stride=0;eh=Kd.divisor;Kd.divisor=0;fh=md.state;md.state=1;gh=md.x;md.x=0;hh=md.y;md.y=0;ih=md.z;md.z=0;jh=md.w;md.w=
0;kh=md.buffer;md.buffer=Z;lh=md.size;md.size=0;mh=md.normalized;md.normalized=!1;nh=md.type;md.type=Z.dtype;oh=md.offset;md.offset=0;ph=md.stride;md.stride=0;qh=md.divisor;md.divisor=0;rh=Vd.state;Vd.state=1;sh=Vd.x;Vd.x=0;th=Vd.y;Vd.y=0;uh=Vd.z;Vd.z=0;vh=Vd.w;Vd.w=0;wh=Vd.buffer;Vd.buffer=Vb;xh=Vd.size;Vd.size=0;yh=Vd.normalized;Vd.normalized=!1;zh=Vd.type;Vd.type=Vb.dtype;Ah=Vd.offset;Vd.offset=0;Bh=Vd.stride;Vd.stride=0;Ch=Vd.divisor;Vd.divisor=0;Dh=Bc.state;Bc.state=1;Eh=Bc.x;Bc.x=0;Fh=Bc.y;
Bc.y=0;Gh=Bc.z;Bc.z=0;Hh=Bc.w;Bc.w=0;Ih=Bc.buffer;Bc.buffer=$b;Jh=Bc.size;Bc.size=0;Kh=Bc.normalized;Bc.normalized=!1;Uh=Bc.type;Bc.type=$b.dtype;Vh=Bc.offset;Bc.offset=0;Wh=Bc.stride;Bc.stride=0;Xh=Bc.divisor;Bc.divisor=0;Yh=Pc.state;Pc.state=1;Zh=Pc.x;Pc.x=0;$h=Pc.y;Pc.y=0;ai=Pc.z;Pc.z=0;bi=Pc.w;Pc.w=0;ci=Pc.buffer;Pc.buffer=n;di=Pc.size;Pc.size=0;ei=Pc.normalized;Pc.normalized=!1;fi=Pc.type;Pc.type=n.dtype;gi=Pc.offset;Pc.offset=0;hi=Pc.stride;Pc.stride=0;ii=Pc.divisor;Pc.divisor=0;ji=Ie.vert;
Ie.vert=a[74];ki=Ie.frag;Ie.frag=a[75];nd.dirty=!0;e(ad,b,f);ad.viewportWidth=q;ad.viewportHeight=t;eb[0]=v;eb[1]=x;eb[2]=z;eb[3]=C;af[0]=B;af[1]=D;af[2]=E;af[3]=G;ke.blend_enable=H;jd[0]=I;jd[1]=K;nc[0]=L;nc[1]=P;nc[2]=Q;nc[3]=S;ke.cull_enable=R;ke.cull_face=T;ke.depth_enable=V;ke.depth_func=U;ke.depth_mask=W;zb[0]=ta;zb[1]=X;ke.dither=Y;ke.lineWidth=fa;ub[0]=ka;ub[1]=pa;ub[2]=za;ub[3]=qa;ke.scissor_enable=Wa;nd.profile=sa;he.offset=va;he.count=wa;he.primitive=na;Lc[a[50]]=ya;Lc[a[51]]=Aa;Lc[a[52]]=
Ca;Lc[a[53]]=Ha;Lc[a[54]]=Qa;Lc[a[55]]=Ya;Lc[a[56]]=Oa;Lc[a[57]]=Ua;Lc[a[58]]=cb;Lc[a[59]]=jb;Lc[a[60]]=vb;Lc[a[61]]=hb;Lc[a[62]]=wb;Lc[a[63]]=Cb;Lc[a[64]]=Eb;Lc[a[65]]=fb;Lc[a[66]]=Ib;Lc[a[67]]=Nb;Lc[a[68]]=Wb;Lc[a[69]]=Gb;Lc[a[70]]=Zb;Lc[a[71]]=gc;Lc[a[72]]=ic;Lc[a[73]]=oc;Ta.state=Pb;Ta.x=Ac;Ta.y=mc;Ta.z=kc;Ta.w=Ec;Ta.buffer=sd;Ta.size=qc;Ta.normalized=wc;Ta.type=Hc;Ta.offset=vc;Ta.stride=Cc;Ta.divisor=Nc;r.state=Qc;r.x=Sc;r.y=Tc;r.z=bd;r.w=cd;r.buffer=ed;r.size=Uc;r.normalized=id;r.type=pd;r.offset=
td;r.stride=ud;r.divisor=Bd;u.state=Id;u.x=Le;u.y=ld;u.z=Nd;u.w=$c;u.buffer=Jd;u.size=Wd;u.normalized=me;u.type=be;u.offset=ee;u.stride=Ud;u.divisor=ne;F.state=oe;F.x=qe;F.y=De;F.z=Ae;F.w=Je;F.buffer=se;F.size=Oe;F.normalized=ve;F.type=gf;F.offset=Re;F.stride=ff;F.divisor=nf;y.state=qf;y.x=sf;y.y=of;y.z=Bf;y.w=wf;y.buffer=uf;y.size=te;y.normalized=Cf;y.type=ze;y.offset=Df;y.stride=tf;y.divisor=If;M.state=Jf;M.x=pf;M.y=Ef;M.z=xf;M.w=Kf;M.buffer=Ff;M.size=Lf;M.normalized=Mf;M.type=Hf;M.offset=Qf;M.stride=
Sf;M.divisor=Rf;xa.state=Of;xa.x=yf;xa.y=Wf;xa.z=Pf;xa.w=zf;xa.buffer=Gf;xa.size=Tf;xa.normalized=Uf;xa.type=Fe;xa.offset=Vf;xa.stride=Ze;xa.divisor=Xf;ga.state=$f;ga.x=eg;ga.y=gg;ga.z=Yf;ga.w=hg;ga.buffer=cg;ga.size=ig;ga.normalized=og;ga.type=jg;ga.offset=sg;ga.stride=Sg;ga.divisor=Tg;oa.state=Ug;oa.x=Mh;oa.y=Nh;oa.z=zg;oa.w=Ag;oa.buffer=Bg;oa.size=Cg;oa.normalized=Dg;oa.type=Eg;oa.offset=Fg;oa.stride=ef;oa.divisor=wg;ea.state=$e;ea.x=pg;ea.y=qg;ea.z=kg;ea.w=lg;ea.buffer=Zf;ea.size=rg;ea.normalized=
dg;ea.type=mg;ea.offset=tg;ea.stride=ng;ea.divisor=ug;qd.state=xg;qd.x=yg;qd.y=Gg;qd.z=Hg;qd.w=Ig;qd.buffer=Jg;qd.size=Kg;qd.normalized=Lg;qd.type=Mg;qd.offset=Ng;qd.stride=Og;qd.divisor=Pg;Kd.state=Qg;Kd.x=Rg;Kd.y=Vg;Kd.z=Wg;Kd.w=Xg;Kd.buffer=Yg;Kd.size=Zg;Kd.normalized=$g;Kd.type=ah;Kd.offset=bh;Kd.stride=ch;Kd.divisor=eh;md.state=fh;md.x=gh;md.y=hh;md.z=ih;md.w=jh;md.buffer=kh;md.size=lh;md.normalized=mh;md.type=nh;md.offset=oh;md.stride=ph;md.divisor=qh;Vd.state=rh;Vd.x=sh;Vd.y=th;Vd.z=uh;Vd.w=
vh;Vd.buffer=wh;Vd.size=xh;Vd.normalized=yh;Vd.type=zh;Vd.offset=Ah;Vd.stride=Bh;Vd.divisor=Ch;Bc.state=Dh;Bc.x=Eh;Bc.y=Fh;Bc.z=Gh;Bc.w=Hh;Bc.buffer=Ih;Bc.size=Jh;Bc.normalized=Kh;Bc.type=Uh;Bc.offset=Vh;Bc.stride=Wh;Bc.divisor=Xh;Pc.state=Yh;Pc.x=Zh;Pc.y=$h;Pc.z=ai;Pc.w=bi;Pc.buffer=ci;Pc.size=di;Pc.normalized=ei;Pc.type=fi;Pc.offset=gi;Pc.stride=hi;Pc.divisor=ii;Ie.vert=ji;Ie.frag=ki;nd.dirty=!0},batch:function(b,f){var r,m,v,u;r=ff.next;r!==ff.cur&&(r?E.bindFramebuffer(36160,r.framebuffer):E.bindFramebuffer(36160,
null),ff.cur=r);if(nd.dirty){var y,F,M,ea,ga,ka,oa,ua,xa,Oa,la,Ra,ha,Ta,La,Ua,Va,Xa,bb,eb,gb,hb,rb,xb,ub;y=Bd[0];F=Bd[1];M=Bd[2];ea=Bd[3];if(y!==Sc[0]||F!==Sc[1]||M!==Sc[2]||ea!==Sc[3])E.colorMask(y,F,M,ea),Sc[0]=y,Sc[1]=F,Sc[2]=M,Sc[3]=ea;ga=ke.frontFace;ga!==nd.frontFace&&(E.frontFace(ga),nd.frontFace=ga);ka=ke.polygonOffset_enable;ka!==nd.polygonOffset_enable&&(ka?E.enable(32823):E.disable(32823),nd.polygonOffset_enable=ka);oa=ic[0];ua=ic[1];if(oa!==jc[0]||ua!==jc[1])E.polygonOffset(oa,ua),jc[0]=
oa,jc[1]=ua;xa=ke.sample_alpha;xa!==nd.sample_alpha&&(xa?E.enable(32926):E.disable(32926),nd.sample_alpha=xa);Oa=ke.sample_enable;Oa!==nd.sample_enable&&(Oa?E.enable(32928):E.disable(32928),nd.sample_enable=Oa);la=Nd[0];Ra=Nd[1];if(la!==bd[0]||Ra!==bd[1])E.sampleCoverage(la,Ra),bd[0]=la,bd[1]=Ra;ha=ke.stencil_enable;ha!==nd.stencil_enable&&(ha?E.enable(2960):E.disable(2960),nd.stencil_enable=ha);Ta=ke.stencil_mask;Ta!==nd.stencil_mask&&(E.stencilMask(Ta),nd.stencil_mask=Ta);La=Cb[0];Ua=Cb[1];Va=Cb[2];
if(La!==td[0]||Ua!==td[1]||Va!==td[2])E.stencilFunc(La,Ua,Va),td[0]=La,td[1]=Ua,td[2]=Va;Xa=ud[0];bb=ud[1];eb=ud[2];gb=ud[3];if(Xa!==cd[0]||bb!==cd[1]||eb!==cd[2]||gb!==cd[3])E.stencilOpSeparate(Xa,bb,eb,gb),cd[0]=Xa,cd[1]=bb,cd[2]=eb,cd[3]=gb;hb=Hb[0];rb=Hb[1];xb=Hb[2];ub=Hb[3];if(hb!==Ya[0]||rb!==Ya[1]||xb!==Ya[2]||ub!==Ya[3])E.stencilOpSeparate(hb,rb,xb,ub),Ya[0]=hb,Ya[1]=rb,Ya[2]=xb,Ya[3]=ub}E.blendColor(0,0,0,0);qe[0]=0;qe[1]=0;qe[2]=0;qe[3]=0;a[76]?E.enable(3042):E.disable(3042);nd.blend_enable=
a[77];E.blendEquationSeparate(32774,32774);be[0]=32774;be[1]=32774;E.blendFuncSeparate(770,771,1,1);ne[0]=770;ne[1]=771;ne[2]=1;ne[3]=1;a[78]?E.enable(2884):E.disable(2884);nd.cull_enable=a[79];E.cullFace(a[80]);nd.cull_face=a[81];a[82]?E.enable(2929):E.disable(2929);nd.depth_enable=a[83];E.depthFunc(a[84]);nd.depth_func=a[85];E.depthMask(a[86]);nd.depth_mask=a[87];E.depthRange(0,1);oe[0]=0;oe[1]=1;a[88]?E.enable(3024):E.disable(3024);nd.dither=a[89];E.lineWidth(a[90]);nd.lineWidth=a[91];a[92]?E.enable(3089):
E.disable(3089);nd.scissor_enable=a[93];m=nd.profile;nd.profile=!1;E.useProgram(k.program);var db,fb,nb,zb,Da,Pb,cc,pc,kc,Na,nc,Mb,qc,sb,wc,na,Bc,Ia,Cc,Ja,Rc,Ma,Lc,Xb,Pc,rc,fd,sc,Uc,gd,jd,rd,Wc;Re.setVAO(null);db=t.location;fb=ee[db];fb.buffer||E.enableVertexAttribArray(db);if(fb.type!==n.dtype||4!==fb.size||fb.buffer!==n||!1!==fb.normalized||0!==fb.offset||0!==fb.stride)E.bindBuffer(34962,n.buffer),E.vertexAttribPointer(db,4,n.dtype,!1,0,0),fb.type=n.dtype,fb.size=4,fb.buffer=n,fb.normalized=!1,
fb.offset=0,fb.stride=0;nb=C.location;zb=ee[nb];zb.buffer||E.enableVertexAttribArray(nb);if(zb.type!==h.dtype||4!==zb.size||zb.buffer!==h||!1!==zb.normalized||0!==zb.offset||0!==zb.stride)E.bindBuffer(34962,h.buffer),E.vertexAttribPointer(nb,4,h.dtype,!1,0,0),zb.type=h.dtype,zb.size=4,zb.buffer=h,zb.normalized=!1,zb.offset=0,zb.stride=0;Da=U.location;Pb=ee[Da];Pb.buffer||E.enableVertexAttribArray(Da);if(Pb.type!==N.dtype||4!==Pb.size||Pb.buffer!==N||!1!==Pb.normalized||0!==Pb.offset||0!==Pb.stride)E.bindBuffer(34962,
N.buffer),E.vertexAttribPointer(Da,4,N.dtype,!1,0,0),Pb.type=N.dtype,Pb.size=4,Pb.buffer=N,Pb.normalized=!1,Pb.offset=0,Pb.stride=0;cc=jb.location;pc=ee[cc];pc.buffer||E.enableVertexAttribArray(cc);if(pc.type!==ca.dtype||4!==pc.size||pc.buffer!==ca||!1!==pc.normalized||0!==pc.offset||0!==pc.stride)E.bindBuffer(34962,ca.buffer),E.vertexAttribPointer(cc,4,ca.dtype,!1,0,0),pc.type=ca.dtype,pc.size=4,pc.buffer=ca,pc.normalized=!1,pc.offset=0,pc.stride=0;kc=Gb.location;Na=ee[kc];Na.buffer||E.enableVertexAttribArray(kc);
if(Na.type!==ia.dtype||4!==Na.size||Na.buffer!==ia||!1!==Na.normalized||0!==Na.offset||0!==Na.stride)E.bindBuffer(34962,ia.buffer),E.vertexAttribPointer(kc,4,ia.dtype,!1,0,0),Na.type=ia.dtype,Na.size=4,Na.buffer=ia,Na.normalized=!1,Na.offset=0,Na.stride=0;nc=Ba.location;Mb=ee[nc];Mb.buffer||E.enableVertexAttribArray(nc);if(Mb.type!==Ka.dtype||4!==Mb.size||Mb.buffer!==Ka||!1!==Mb.normalized||0!==Mb.offset||0!==Mb.stride)E.bindBuffer(34962,Ka.buffer),E.vertexAttribPointer(nc,4,Ka.dtype,!1,0,0),Mb.type=
Ka.dtype,Mb.size=4,Mb.buffer=Ka,Mb.normalized=!1,Mb.offset=0,Mb.stride=0;qc=oc.location;sb=ee[qc];sb.buffer||E.enableVertexAttribArray(qc);if(sb.type!==Ea.dtype||4!==sb.size||sb.buffer!==Ea||!1!==sb.normalized||0!==sb.offset||0!==sb.stride)E.bindBuffer(34962,Ea.buffer),E.vertexAttribPointer(qc,4,Ea.dtype,!1,0,0),sb.type=Ea.dtype,sb.size=4,sb.buffer=Ea,sb.normalized=!1,sb.offset=0,sb.stride=0;wc=Nb.location;na=ee[wc];na.buffer||E.enableVertexAttribArray(wc);if(na.type!==Ub.dtype||4!==na.size||na.buffer!==
Ub||!1!==na.normalized||0!==na.offset||0!==na.stride)E.bindBuffer(34962,Ub.buffer),E.vertexAttribPointer(wc,4,Ub.dtype,!1,0,0),na.type=Ub.dtype,na.size=4,na.buffer=Ub,na.normalized=!1,na.offset=0,na.stride=0;Bc=fc.location;Ia=ee[Bc];Ia.buffer||E.enableVertexAttribArray(Bc);if(Ia.type!==kb.dtype||4!==Ia.size||Ia.buffer!==kb||!1!==Ia.normalized||0!==Ia.offset||0!==Ia.stride)E.bindBuffer(34962,kb.buffer),E.vertexAttribPointer(Bc,4,kb.dtype,!1,0,0),Ia.type=kb.dtype,Ia.size=4,Ia.buffer=kb,Ia.normalized=
!1,Ia.offset=0,Ia.stride=0;Cc=Ob.location;Ja=ee[Cc];Ja.buffer||E.enableVertexAttribArray(Cc);if(Ja.type!==Yb.dtype||4!==Ja.size||Ja.buffer!==Yb||!1!==Ja.normalized||0!==Ja.offset||0!==Ja.stride)E.bindBuffer(34962,Yb.buffer),E.vertexAttribPointer(Cc,4,Yb.dtype,!1,0,0),Ja.type=Yb.dtype,Ja.size=4,Ja.buffer=Yb,Ja.normalized=!1,Ja.offset=0,Ja.stride=0;Rc=ib.location;Ma=ee[Rc];Ma.buffer||E.enableVertexAttribArray(Rc);if(Ma.type!==ob.dtype||4!==Ma.size||Ma.buffer!==ob||!1!==Ma.normalized||0!==Ma.offset||
0!==Ma.stride)E.bindBuffer(34962,ob.buffer),E.vertexAttribPointer(Rc,4,ob.dtype,!1,0,0),Ma.type=ob.dtype,Ma.size=4,Ma.buffer=ob,Ma.normalized=!1,Ma.offset=0,Ma.stride=0;Lc=da.location;Xb=ee[Lc];Xb.buffer||E.enableVertexAttribArray(Lc);if(Xb.type!==aa.dtype||4!==Xb.size||Xb.buffer!==aa||!1!==Xb.normalized||0!==Xb.offset||0!==Xb.stride)E.bindBuffer(34962,aa.buffer),E.vertexAttribPointer(Lc,4,aa.dtype,!1,0,0),Xb.type=aa.dtype,Xb.size=4,Xb.buffer=aa,Xb.normalized=!1,Xb.offset=0,Xb.stride=0;Pc=qa.location;
rc=ee[Pc];rc.buffer||E.enableVertexAttribArray(Pc);if(rc.type!==O.dtype||4!==rc.size||rc.buffer!==O||!1!==rc.normalized||0!==rc.offset||0!==rc.stride)E.bindBuffer(34962,O.buffer),E.vertexAttribPointer(Pc,4,O.dtype,!1,0,0),rc.type=O.dtype,rc.size=4,rc.buffer=O,rc.normalized=!1,rc.offset=0,rc.stride=0;fd=X.location;sc=ee[fd];sc.buffer||E.enableVertexAttribArray(fd);if(sc.type!==Z.dtype||4!==sc.size||sc.buffer!==Z||!1!==sc.normalized||0!==sc.offset||0!==sc.stride)E.bindBuffer(34962,Z.buffer),E.vertexAttribPointer(fd,
4,Z.dtype,!1,0,0),sc.type=Z.dtype,sc.size=4,sc.buffer=Z,sc.normalized=!1,sc.offset=0,sc.stride=0;Uc=Kb.location;gd=ee[Uc];gd.buffer||E.enableVertexAttribArray(Uc);if(gd.type!==Vb.dtype||4!==gd.size||gd.buffer!==Vb||!1!==gd.normalized||0!==gd.offset||0!==gd.stride)E.bindBuffer(34962,Vb.buffer),E.vertexAttribPointer(Uc,4,Vb.dtype,!1,0,0),gd.type=Vb.dtype,gd.size=4,gd.buffer=Vb,gd.normalized=!1,gd.offset=0,gd.stride=0;jd=pd.location;rd=ee[jd];rd.buffer||E.enableVertexAttribArray(jd);if(rd.type!==$b.dtype||
4!==rd.size||rd.buffer!==$b||!1!==rd.normalized||0!==rd.offset||0!==rd.stride)E.bindBuffer(34962,$b.buffer),E.vertexAttribPointer(jd,4,$b.dtype,!1,0,0),rd.type=$b.dtype,rd.size=4,rd.buffer=$b,rd.normalized=!1,rd.offset=0,rd.stride=0;E.uniform1i(Nc.location,ba.bind());(Wc=he.elements)?E.bindBuffer(34963,Wc.buffer.buffer):Re.currentVAO&&(Wc=Ae.getElements(Re.currentVAO.elements))&&E.bindBuffer(34963,Wc.buffer.buffer);for(v=0;v<f;++v){u=b[v];var qd,Sb,md,ec,Kd,Tb,Oc,zc,tc,Ed,lc,Rd,vd,zd,Hd,yd,wd,Vd,
uc,Ad,Jb,de,dc,Ud,Mc,Sd,ge,Ie,af,Fd,Zd,Gd,mc,dd,Ec,Yc,Td,Md,ue,vc,Se,xd,Ge,xe,He,Be,we,Ee,bf,cf,Pe,Ne,Ue,Te,le,Ve,ld,Me;qb.x=u.viewportX;qb.y=u.viewportY;qb.width=u.viewportWidth;qb.height=u.viewportHeight;qb&&"object"===typeof qb||c.commandRaise(J,d);qd=qb.x|0;Sb=qb.y|0;md="width"in qb?qb.width|0:ad.framebufferWidth-qd;ec="height"in qb?qb.height|0:ad.framebufferHeight-Sb;0<=md&&0<=ec||c.commandRaise(J,d);Kd=ad.viewportWidth;ad.viewportWidth=md;Tb=ad.viewportHeight;ad.viewportHeight=ec;E.viewport(qd,
Sb,md,ec);Qa[0]=qd;Qa[1]=Sb;Qa[2]=md;Qa[3]=ec;ab.x=u.scissorX;ab.y=u.scissorY;ab.width=u.scissorWidth;ab.height=u.scissorHeight;ab&&"object"===typeof ab||c.commandRaise(A,d);Oc=ab.x|0;zc=ab.y|0;tc="width"in ab?ab.width|0:ad.framebufferWidth-Oc;Ed="height"in ab?ab.height|0:ad.framebufferHeight-zc;0<=tc&&0<=Ed||c.commandRaise(A,d);E.scissor(Oc,zc,tc,Ed);ja[0]=Oc;ja[1]=zc;ja[2]=tc;ja[3]=Ed;lc=u.contextColor;Qc(lc)&&4===lc.length||c.commandRaise(Id,d);Rd=lc[0];zd=lc[1];yd=lc[2];Vd=lc[3];v&&vd===Rd&&Hd===
zd&&wd===yd&&uc===Vd||(vd=Rd,Hd=zd,wd=yd,uc=Vd,E.uniform4f(me.location,Rd,zd,yd,Vd));Ad=u.dim0A;Qc(Ad)&&16===Ad.length||c.commandRaise(e,d);E.uniformMatrix4fv(ta.location,!1,Array.isArray(Ad)||Ad instanceof Float32Array?Ad:(ya[0]=Ad[0],ya[1]=Ad[1],ya[2]=Ad[2],ya[3]=Ad[3],ya[4]=Ad[4],ya[5]=Ad[5],ya[6]=Ad[6],ya[7]=Ad[7],ya[8]=Ad[8],ya[9]=Ad[9],ya[10]=Ad[10],ya[11]=Ad[11],ya[12]=Ad[12],ya[13]=Ad[13],ya[14]=Ad[14],ya[15]=Ad[15],ya));Jb=u.dim0B;Qc(Jb)&&16===Jb.length||c.commandRaise(q,d);E.uniformMatrix4fv(sd.location,
!1,Array.isArray(Jb)||Jb instanceof Float32Array?Jb:(Wb[0]=Jb[0],Wb[1]=Jb[1],Wb[2]=Jb[2],Wb[3]=Jb[3],Wb[4]=Jb[4],Wb[5]=Jb[5],Wb[6]=Jb[6],Wb[7]=Jb[7],Wb[8]=Jb[8],Wb[9]=Jb[9],Wb[10]=Jb[10],Wb[11]=Jb[11],Wb[12]=Jb[12],Wb[13]=Jb[13],Wb[14]=Jb[14],Wb[15]=Jb[15],Wb));de=u.dim0C;Qc(de)&&16===de.length||c.commandRaise(K,d);E.uniformMatrix4fv(Y.location,!1,Array.isArray(de)||de instanceof Float32Array?de:(Aa[0]=de[0],Aa[1]=de[1],Aa[2]=de[2],Aa[3]=de[3],Aa[4]=de[4],Aa[5]=de[5],Aa[6]=de[6],Aa[7]=de[7],Aa[8]=
de[8],Aa[9]=de[9],Aa[10]=de[10],Aa[11]=de[11],Aa[12]=de[12],Aa[13]=de[13],Aa[14]=de[14],Aa[15]=de[15],Aa));dc=u.dim0D;Qc(dc)&&16===dc.length||c.commandRaise(Q,d);E.uniformMatrix4fv(B.location,!1,Array.isArray(dc)||dc instanceof Float32Array?dc:(Fb[0]=dc[0],Fb[1]=dc[1],Fb[2]=dc[2],Fb[3]=dc[3],Fb[4]=dc[4],Fb[5]=dc[5],Fb[6]=dc[6],Fb[7]=dc[7],Fb[8]=dc[8],Fb[9]=dc[9],Fb[10]=dc[10],Fb[11]=dc[11],Fb[12]=dc[12],Fb[13]=dc[13],Fb[14]=dc[14],Fb[15]=dc[15],Fb));Ud=u.dim1A;Qc(Ud)&&16===Ud.length||c.commandRaise(P,
d);E.uniformMatrix4fv(S.location,!1,Array.isArray(Ud)||Ud instanceof Float32Array?Ud:(wb[0]=Ud[0],wb[1]=Ud[1],wb[2]=Ud[2],wb[3]=Ud[3],wb[4]=Ud[4],wb[5]=Ud[5],wb[6]=Ud[6],wb[7]=Ud[7],wb[8]=Ud[8],wb[9]=Ud[9],wb[10]=Ud[10],wb[11]=Ud[11],wb[12]=Ud[12],wb[13]=Ud[13],wb[14]=Ud[14],wb[15]=Ud[15],wb));Mc=u.dim1B;Qc(Mc)&&16===Mc.length||c.commandRaise(W,d);E.uniformMatrix4fv(g.location,!1,Array.isArray(Mc)||Mc instanceof Float32Array?Mc:(Ib[0]=Mc[0],Ib[1]=Mc[1],Ib[2]=Mc[2],Ib[3]=Mc[3],Ib[4]=Mc[4],Ib[5]=Mc[5],
Ib[6]=Mc[6],Ib[7]=Mc[7],Ib[8]=Mc[8],Ib[9]=Mc[9],Ib[10]=Mc[10],Ib[11]=Mc[11],Ib[12]=Mc[12],Ib[13]=Mc[13],Ib[14]=Mc[14],Ib[15]=Mc[15],Ib));Sd=u.dim1C;Qc(Sd)&&16===Sd.length||c.commandRaise(l,d);E.uniformMatrix4fv(V.location,!1,Array.isArray(Sd)||Sd instanceof Float32Array?Sd:(Zb[0]=Sd[0],Zb[1]=Sd[1],Zb[2]=Sd[2],Zb[3]=Sd[3],Zb[4]=Sd[4],Zb[5]=Sd[5],Zb[6]=Sd[6],Zb[7]=Sd[7],Zb[8]=Sd[8],Zb[9]=Sd[9],Zb[10]=Sd[10],Zb[11]=Sd[11],Zb[12]=Sd[12],Zb[13]=Sd[13],Zb[14]=Sd[14],Zb[15]=Sd[15],Zb));ge=u.dim1D;Qc(ge)&&
16===ge.length||c.commandRaise(Wa,d);E.uniformMatrix4fv(lb.location,!1,Array.isArray(ge)||ge instanceof Float32Array?ge:(Za[0]=ge[0],Za[1]=ge[1],Za[2]=ge[2],Za[3]=ge[3],Za[4]=ge[4],Za[5]=ge[5],Za[6]=ge[6],Za[7]=ge[7],Za[8]=ge[8],Za[9]=ge[9],Za[10]=ge[10],Za[11]=ge[11],Za[12]=ge[12],Za[13]=ge[13],Za[14]=ge[14],Za[15]=ge[15],Za));Ie=u.drwLayer;"number"!==typeof Ie&&c.commandRaise(fa,d);v&&af===Ie||(af=Ie,E.uniform1f(p.location,Ie));Fd=u.hiA;Qc(Fd)&&16===Fd.length||c.commandRaise(I,d);E.uniformMatrix4fv(za.location,
!1,Array.isArray(Fd)||Fd instanceof Float32Array?Fd:(pa[0]=Fd[0],pa[1]=Fd[1],pa[2]=Fd[2],pa[3]=Fd[3],pa[4]=Fd[4],pa[5]=Fd[5],pa[6]=Fd[6],pa[7]=Fd[7],pa[8]=Fd[8],pa[9]=Fd[9],pa[10]=Fd[10],pa[11]=Fd[11],pa[12]=Fd[12],pa[13]=Fd[13],pa[14]=Fd[14],pa[15]=Fd[15],pa));Zd=u.hiB;Qc(Zd)&&16===Zd.length||c.commandRaise(Fa,d);E.uniformMatrix4fv(G.location,!1,Array.isArray(Zd)||Zd instanceof Float32Array?Zd:(cb[0]=Zd[0],cb[1]=Zd[1],cb[2]=Zd[2],cb[3]=Zd[3],cb[4]=Zd[4],cb[5]=Zd[5],cb[6]=Zd[6],cb[7]=Zd[7],cb[8]=
Zd[8],cb[9]=Zd[9],cb[10]=Zd[10],cb[11]=Zd[11],cb[12]=Zd[12],cb[13]=Zd[13],cb[14]=Zd[14],cb[15]=Zd[15],cb));Gd=u.hiC;Qc(Gd)&&16===Gd.length||c.commandRaise(H,d);E.uniformMatrix4fv(Sa.location,!1,Array.isArray(Gd)||Gd instanceof Float32Array?Gd:(ra[0]=Gd[0],ra[1]=Gd[1],ra[2]=Gd[2],ra[3]=Gd[3],ra[4]=Gd[4],ra[5]=Gd[5],ra[6]=Gd[6],ra[7]=Gd[7],ra[8]=Gd[8],ra[9]=Gd[9],ra[10]=Gd[10],ra[11]=Gd[11],ra[12]=Gd[12],ra[13]=Gd[13],ra[14]=Gd[14],ra[15]=Gd[15],ra));mc=u.hiD;Qc(mc)&&16===mc.length||c.commandRaise(R,
d);E.uniformMatrix4fv(D.location,!1,Array.isArray(mc)||mc instanceof Float32Array?mc:(Ha[0]=mc[0],Ha[1]=mc[1],Ha[2]=mc[2],Ha[3]=mc[3],Ha[4]=mc[4],Ha[5]=mc[5],Ha[6]=mc[6],Ha[7]=mc[7],Ha[8]=mc[8],Ha[9]=mc[9],Ha[10]=mc[10],Ha[11]=mc[11],Ha[12]=mc[12],Ha[13]=mc[13],Ha[14]=mc[14],Ha[15]=mc[15],Ha));dd=u.loA;Qc(dd)&&16===dd.length||c.commandRaise(T,d);E.uniformMatrix4fv(z.location,!1,Array.isArray(dd)||dd instanceof Float32Array?dd:(Db[0]=dd[0],Db[1]=dd[1],Db[2]=dd[2],Db[3]=dd[3],Db[4]=dd[4],Db[5]=dd[5],
Db[6]=dd[6],Db[7]=dd[7],Db[8]=dd[8],Db[9]=dd[9],Db[10]=dd[10],Db[11]=dd[11],Db[12]=dd[12],Db[13]=dd[13],Db[14]=dd[14],Db[15]=dd[15],Db));Ec=u.loB;Qc(Ec)&&16===Ec.length||c.commandRaise(ma,d);E.uniformMatrix4fv(yb.location,!1,Array.isArray(Ec)||Ec instanceof Float32Array?Ec:(Ca[0]=Ec[0],Ca[1]=Ec[1],Ca[2]=Ec[2],Ca[3]=Ec[3],Ca[4]=Ec[4],Ca[5]=Ec[5],Ca[6]=Ec[6],Ca[7]=Ec[7],Ca[8]=Ec[8],Ca[9]=Ec[9],Ca[10]=Ec[10],Ca[11]=Ec[11],Ca[12]=Ec[12],Ca[13]=Ec[13],Ca[14]=Ec[14],Ca[15]=Ec[15],Ca));Yc=u.loC;Qc(Yc)&&
16===Yc.length||c.commandRaise(wa,d);E.uniformMatrix4fv(x.location,!1,Array.isArray(Yc)||Yc instanceof Float32Array?Yc:(gc[0]=Yc[0],gc[1]=Yc[1],gc[2]=Yc[2],gc[3]=Yc[3],gc[4]=Yc[4],gc[5]=Yc[5],gc[6]=Yc[6],gc[7]=Yc[7],gc[8]=Yc[8],gc[9]=Yc[9],gc[10]=Yc[10],gc[11]=Yc[11],gc[12]=Yc[12],gc[13]=Yc[13],gc[14]=Yc[14],gc[15]=Yc[15],gc));Td=u.loD;Qc(Td)&&16===Td.length||c.commandRaise(ed,d);E.uniformMatrix4fv(L.location,!1,Array.isArray(Td)||Td instanceof Float32Array?Td:(va[0]=Td[0],va[1]=Td[1],va[2]=Td[2],
va[3]=Td[3],va[4]=Td[4],va[5]=Td[5],va[6]=Td[6],va[7]=Td[7],va[8]=Td[8],va[9]=Td[9],va[10]=Td[10],va[11]=Td[11],va[12]=Td[12],va[13]=Td[13],va[14]=Td[14],va[15]=Td[15],va));Md=u.maskHeight;"number"!==typeof Md&&c.commandRaise(Jd,d);v&&ue===Md||(ue=Md,E.uniform1f(vb.location,Md));(vc=u.maskTexture)&&"framebuffer"===vc._reglType&&(vc=vc.color[0]);"function"===typeof vc&&"texture2d"===vc._reglType||c.commandRaise(sa,d);Se=vc._texture;E.uniform1i(Ac.location,Se.bind());xd=u.resolution;Qc(xd)&&2===xd.length||
c.commandRaise(id,d);Ge=xd[0];He=xd[1];v&&xe===Ge&&Be===He||(xe=Ge,Be=He,E.uniform2f(hc.location,Ge,He));we=u.viewBoxPos;Qc(we)&&2===we.length||c.commandRaise(Tc,d);Ee=we[0];cf=we[1];v&&bf===Ee&&Pe===cf||(bf=Ee,Pe=cf,E.uniform2f(Hc.location,Ee,cf));Ne=u.viewBoxSize;Qc(Ne)&&2===Ne.length||c.commandRaise(pb,d);Ue=Ne[0];le=Ne[1];v&&Te===Ue&&Ve===le||(Te=Ue,Ve=le,E.uniform2f(Eb.location,Ue,le));ld=u.offset;0<=ld||c.commandRaise(Kc,d);Me=u.count;"number"===typeof Me&&0<=Me&&Me===(Me|0)||c.commandRaise(tb,
d);Me&&(Wc?E.drawElements(1,Me,Wc.type,ld<<(Wc.type-5121>>1)):E.drawArrays(1,ld,Me),ad.viewportWidth=Kd,ad.viewportHeight=Tb,Se.unbind())}ba.unbind();nd.dirty=!0;Re.setVAO(null);nd.profile=m}}}},zi=function(){var a=new WeakSet;return function(b,c){if("object"===typeof c&&null!==c){if(a.has(c))return;a.add(c)}return c}},hg=["x","y","z","w"],Bi="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),og={0:0,1:1,zero:0,
one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},kh={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ah={0:0,zero:0,keep:7680,
replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Hh={cw:2304,ccw:2305},Ih=new Jd(!1,!1,!1,function(){}),Ei=function(a,b){function c(){this.endQueryIndex=this.startQueryIndex=-1;this.sum=0;this.stats=null}function d(a,b,d){var f=A.pop()||new c;f.startQueryIndex=a;f.endQueryIndex=b;f.sum=0;f.stats=d;k.push(f)}if(!b.ext_disjoint_timer_query)return null;var v=[],J=[],A=[],k=[],n=[],t=[];return{beginQuery:function(a){var c=v.pop()||b.ext_disjoint_timer_query.createQueryEXT();
b.ext_disjoint_timer_query.beginQueryEXT(35007,c);J.push(c);d(J.length-1,J.length,a)},endQuery:function(){b.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:d,update:function(){var a,c;a=J.length;if(0!==a){t.length=Math.max(t.length,a+1);n.length=Math.max(n.length,a+1);n[0]=0;var d=t[0]=0;for(c=a=0;c<J.length;++c){var N=J[c];b.ext_disjoint_timer_query.getQueryObjectEXT(N,34919)?(d+=b.ext_disjoint_timer_query.getQueryObjectEXT(N,34918),v.push(N)):J[a++]=N;n[c+1]=d;t[c+1]=a}J.length=a;for(c=
a=0;c<k.length;++c){var d=k[c],U=d.startQueryIndex,N=d.endQueryIndex;d.sum+=n[N]-n[U];U=t[U];N=t[N];N===U?(d.stats.gpuTime+=d.sum/1E6,A.push(d)):(d.startQueryIndex=U,d.endQueryIndex=N,k[a++]=d)}k.length=a}},getNumPendingQueries:function(){return J.length},clear:function(){v.push.apply(v,J);for(var a=0;a<v.length;a++)b.ext_disjoint_timer_query.deleteQueryEXT(v[a]);J.length=0;v.length=0},restore:function(){J.length=0;v.length=0}}};return function(a){function b(){if(0===Vb.length)Ea&&Ea.update(),Jd=
null;else{Jd=lh.next(b);h();for(var a=Vb.length-1;0<=a;--a){var c=Vb[a];c&&c(kb,null,0)}Ab.flush();Ea&&Ea.update()}}function c(){!Jd&&0<Vb.length&&(Jd=lh.next(b))}function d(){Jd&&(lh.cancel(b),Jd=null)}function v(a){a.preventDefault();d();Kb.forEach(function(a){a()})}function J(a){Ab.getError();ia.restore();ib.restore();Yb.restore();aa.restore();da.restore();O.restore();ob.restore();Ea&&Ea.restore();qa.procs.refresh();c();$b.forEach(function(a){a()})}function A(b){function c(a,b){var e={},d={};Object.keys(a).forEach(function(c){var f=
a[c];if(Re.isDynamic(f))d[c]=Re.unbox(f,c);else{if(b&&Array.isArray(f))for(var g=0;g<f.length;++g)if(Re.isDynamic(f[g])){d[c]=Re.unbox(f,c);return}e[c]=f}});return{dynamic:d,"static":e}}function d(a){for(;J.length<a;)J.push(null);return J}var f=c(b.context||{},!0),h=c(b.uniforms||{},!0),k=c(b.attributes||{},!1),n=c(function(a){function b(a){if(a in c){var e=c[a];delete c[a];Object.keys(e).forEach(function(b){c[a+"."+b]=e[b]})}}var c=pd({},a);delete c.uniforms;delete c.attributes;delete c.context;
delete c.vao;"stencil"in c&&c.stencil.op&&(c.stencil.opBack=c.stencil.opFront=c.stencil.op,delete c.stencil.op);b("blend");b("depth");b("cull");b("stencil");b("polygonOffset");b("scissor");b("sample");"vao"in a&&(c.vao=a.vao);return c}(b),!1),t={gpuTime:0,cpuTime:0,count:0},v=qa.compile(n,k,h,f,t,{options:b,args:a}),A=v.draw,g=v.batch,C=v.scope,J=[];return pd(function(a,b){var c;if("function"===typeof a)return C.call(this,null,a,0);if("function"===typeof b)if("number"===typeof a)for(c=0;c<a;++c)C.call(this,
null,b,c);else if(Array.isArray(a))for(c=0;c<a.length;++c)C.call(this,a[c],b,c);else return C.call(this,a,b,0);else if("number"===typeof a){if(0<a)return g.call(this,d(a|0),a|0)}else if(Array.isArray(a)){if(a.length)return g.call(this,a,a.length)}else return A.call(this,a)},{stats:t,destroy:function(){v.destroy()}})}function k(a,b){var c=0;qa.procs.poll();var d=b.color;d&&(Ab.clearColor(+d[0]||0,+d[1]||0,+d[2]||0,+d[3]||0),c|=16384);"depth"in b&&(Ab.clearDepth(+b.depth),c|=256);"stencil"in b&&(Ab.clearStencil(b.stencil|
0),c|=1024);Ab.clear(c)}function n(a){Vb.push(a);c();return{cancel:function(){function b(){var a=Jh(Vb,b);Vb[a]=Vb[Vb.length-1];--Vb.length;0>=Vb.length&&d()}var c=Jh(Vb,a);Vb[c]=b}}}function t(){var a=Z.viewport,b=Z.scissor_box;a[0]=a[1]=b[0]=b[1]=0;kb.viewportWidth=kb.framebufferWidth=kb.drawingBufferWidth=a[2]=b[2]=Ab.drawingBufferWidth;kb.viewportHeight=kb.framebufferHeight=kb.drawingBufferHeight=a[3]=b[3]=Ab.drawingBufferHeight}function h(){kb.tick+=1;kb.time=N();t();qa.procs.poll()}function C(){aa.refresh();
t();qa.procs.refresh();Ea&&Ea.update()}function N(){return(Kh()-oc)/1E3}var U=mi(a);if(!U)return null;var Ab=U.gl,jb=Ab.getContextAttributes();Ab.isContextLost();var ia=ni(Ab,U);if(!ia)return null;var Gb=ca(),Ka={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ba=ia.extensions,Ea=Ei(Ab,Ba),oc=Kh(),Ub=Ab.drawingBufferWidth,Nb=Ab.drawingBufferHeight,kb={tick:0,time:0,viewportWidth:Ub,viewportHeight:Nb,framebufferWidth:Ub,
framebufferHeight:Nb,drawingBufferWidth:Ub,drawingBufferHeight:Nb,pixelRatio:U.pixelRatio},Ub={elements:null,primitive:4,count:-1,offset:0,instances:-1},fc=Ci(Ab,Ba),Yb=oi(Ab,Ka,U,function(a){return ob.destroyBuffer(a)}),Ob=pi(Ab,Ba,Yb,Ka),ob=vi(Ab,Ba,fc,Ka,Yb,Ob,Ub),ib=wi(Ab,Gb,Ka,U),aa=si(Ab,Ba,fc,function(){qa.procs.poll()},kb,Ka,U),da=Di(Ab,Ba,fc,Ka,U),O=ui(Ab,Ba,fc,aa,da,Ka),qa=Ai(Ab,Gb,Ba,fc,Yb,Ob,aa,O,{},ob,ib,Ub,kb,Ea,U),Gb=xi(Ab,O,qa.procs.poll,kb,jb,Ba,fc),Z=qa.next,X=Ab.canvas,Vb=[],Kb=
[],$b=[],ad=[U.onDestroy],Jd=null;X&&(X.addEventListener("webglcontextlost",v,!1),X.addEventListener("webglcontextrestored",J,!1));var Id=O.setFBO=A({framebuffer:Re.define.call(null,1,"framebuffer")});C();jb=pd(A,{clear:function(a){if("framebuffer"in a)if(a.framebuffer&&"framebufferCube"===a.framebuffer_reglType)for(var b=0;6>b;++b)Id(pd({framebuffer:a.framebuffer.faces[b]},a),k);else Id(a,k);else k(null,a)},prop:Re.define.bind(null,1),context:Re.define.bind(null,2),"this":Re.define.bind(null,3),
draw:A({}),buffer:function(a){return Yb.create(a,34962,!1,!1)},elements:function(a){return Ob.create(a,!1)},texture:aa.create2D,cube:aa.createCube,renderbuffer:da.create,framebuffer:O.create,framebufferCube:O.createCube,vao:ob.createVAO,attributes:jb,frame:n,on:function(a,b){var c;switch(a){case "frame":return n(b);case "lost":c=Kb;break;case "restore":c=$b;break;case "destroy":c=ad}c.push(b);return{cancel:function(){for(var a=0;a<c.length;++a)if(c[a]===b){c[a]=c[c.length-1];c.pop();break}}}},limits:fc,
hasExtension:function(a){return 0<=fc.extensions.indexOf(a.toLowerCase())},read:Gb,destroy:function(){Vb.length=0;d();X&&(X.removeEventListener("webglcontextlost",v),X.removeEventListener("webglcontextrestored",J));ib.clear();O.clear();da.clear();ob.clear();aa.clear();Ob.clear();Yb.clear();Ea&&Ea.clear();ad.forEach(function(a){a()})},_gl:Ab,_refresh:C,poll:function(){h();Ea&&Ea.update()},now:N,stats:Ka});U.onDone(null,jb);return jb}});
