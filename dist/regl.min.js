/*

 Copyright 2013 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var $jscomp={scope:{},getGlobal:function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global?global:f}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return"jscomp_symbol_"+f+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};$jscomp.makeIterator=function(f){$jscomp.initSymbolIterator();if(f[$jscomp.global.Symbol.iterator])return f[$jscomp.global.Symbol.iterator]();var h=0;return{next:function(){return h==f.length?{done:!0}:{done:!1,value:f[h++]}}}};
$jscomp.arrayFromIterator=function(f){for(var h,k=[];!(h=f.next()).done;)k.push(h.value);return k};$jscomp.arrayFromIterable=function(f){return f instanceof Array?f:$jscomp.arrayFromIterator($jscomp.makeIterator(f))};
$jscomp.inherits=function(f,h){function k(){}k.prototype=h.prototype;f.prototype=new k;f.prototype.constructor=f;for(var l in h)if($jscomp.global.Object.defineProperties){var q=$jscomp.global.Object.getOwnPropertyDescriptor(h,l);q&&$jscomp.global.Object.defineProperty(f,l,q)}else f[l]=h[l]};$jscomp.array=$jscomp.array||{};$jscomp.array.done_=function(){return{done:!0,value:void 0}};
$jscomp.array.arrayIterator_=function(f,h){f instanceof String&&(f=String(f));var k=0;$jscomp.initSymbol();$jscomp.initSymbolIterator();var l={},q=(l.next=function(){if(k<f.length){var l=k++;return{value:h(l,f[l]),done:!1}}q.next=$jscomp.array.done_;return $jscomp.array.done_()},l[Symbol.iterator]=function(){return q},l);return q};
$jscomp.array.findInternal_=function(f,h,k){f instanceof String&&(f=String(f));for(var l=f.length,q=0;q<l;q++){var y=f[q];if(h.call(k,y,q,f))return{i:q,v:y}}return{i:-1,v:void 0}};
$jscomp.array.from=function(f,h,k){h=void 0===h?function(f){return f}:h;var l=[];$jscomp.initSymbol();$jscomp.initSymbolIterator();if(f[Symbol.iterator]){$jscomp.initSymbol();$jscomp.initSymbolIterator();f=f[Symbol.iterator]();for(var q;!(q=f.next()).done;)l.push(h.call(k,q.value))}else{q=f.length;for(var y=0;y<q;y++)l.push(h.call(k,f[y]))}return l};$jscomp.array.of=function(f){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];return $jscomp.array.from(h)};
$jscomp.array.entries=function(){return $jscomp.array.arrayIterator_(this,function(f,h){return[f,h]})};$jscomp.array.entries$install=function(){Array.prototype.entries||(Array.prototype.entries=$jscomp.array.entries)};$jscomp.array.keys=function(){return $jscomp.array.arrayIterator_(this,function(f){return f})};$jscomp.array.keys$install=function(){Array.prototype.keys||(Array.prototype.keys=$jscomp.array.keys)};$jscomp.array.values=function(){return $jscomp.array.arrayIterator_(this,function(f,h){return h})};
$jscomp.array.values$install=function(){Array.prototype.values||(Array.prototype.values=$jscomp.array.values)};$jscomp.array.copyWithin=function(f,h,k){var l=this.length;f=Number(f);h=Number(h);k=Number(null!=k?k:l);if(f<h)for(k=Math.min(k,l);h<k;)h in this?this[f++]=this[h++]:(delete this[f++],h++);else for(k=Math.min(k,l+h-f),f+=k-h;k>h;)--k in this?this[--f]=this[k]:delete this[f];return this};$jscomp.array.copyWithin$install=function(){Array.prototype.copyWithin||(Array.prototype.copyWithin=$jscomp.array.copyWithin)};
$jscomp.array.fill=function(f,h,k){null!=k&&f.length||(k=this.length||0);k=Number(k);for(h=Number((void 0===h?0:h)||0);h<k;h++)this[h]=f;return this};$jscomp.array.fill$install=function(){Array.prototype.fill||(Array.prototype.fill=$jscomp.array.fill)};$jscomp.array.find=function(f,h){return $jscomp.array.findInternal_(this,f,h).v};$jscomp.array.find$install=function(){Array.prototype.find||(Array.prototype.find=$jscomp.array.find)};
$jscomp.array.findIndex=function(f,h){return $jscomp.array.findInternal_(this,f,h).i};$jscomp.array.findIndex$install=function(){Array.prototype.findIndex||(Array.prototype.findIndex=$jscomp.array.findIndex)};$jscomp.Map=function(f){f=void 0===f?[]:f;this.data_={};this.head_=$jscomp.Map.createHead_();this.size=0;if(f){f=$jscomp.makeIterator(f);for(var h=f.next();!h.done;h=f.next())h=h.value,this.set(h[0],h[1])}};
$jscomp.Map.checkBrowserConformance_=function(){var f=$jscomp.global.Map;if(!f||!f.prototype.entries||!Object.seal)return!1;try{var h=Object.seal({x:4}),k=new f($jscomp.makeIterator([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var l=k.entries(),q=l.next();if(q.done||q.value[0]!=h||"s"!=q.value[1])return!1;q=l.next();return q.done||4!=q.value[0].x||"t"!=q.value[1]||!l.next().done?!1:!0}catch(y){return!1}};
$jscomp.Map.createHead_=function(){var f={};return f.previous=f.next=f.head=f};$jscomp.Map.getId_=function(f){if(!(f instanceof Object))return String(f);$jscomp.Map.key_ in f||f instanceof Object&&Object.isExtensible&&Object.isExtensible(f)&&$jscomp.Map.defineProperty_(f,$jscomp.Map.key_,++$jscomp.Map.index_);return $jscomp.Map.key_ in f?f[$jscomp.Map.key_]:" "+f};
$jscomp.Map.prototype.set=function(f,h){var k=this.maybeGetEntry_(f),l=k.id,q=k.list,k=k.entry;q||(q=this.data_[l]=[]);k?k.value=h:(k={next:this.head_,previous:this.head_.previous,head:this.head_,key:f,value:h},q.push(k),this.head_.previous.next=k,this.head_.previous=k,this.size++);return this};
$jscomp.Map.prototype["delete"]=function(f){var h=this.maybeGetEntry_(f);f=h.id;var k=h.list,l=h.index;return(h=h.entry)&&k?(k.splice(l,1),k.length||delete this.data_[f],h.previous.next=h.next,h.next.previous=h.previous,h.head=null,this.size--,!0):!1};$jscomp.Map.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=$jscomp.Map.createHead_();this.size=0};$jscomp.Map.prototype.has=function(f){return!!this.maybeGetEntry_(f).entry};
$jscomp.Map.prototype.get=function(f){return(f=this.maybeGetEntry_(f).entry)&&f.value};$jscomp.Map.prototype.maybeGetEntry_=function(f){var h=$jscomp.Map.getId_(f),k=this.data_[h];if(k)for(var l=0;l<k.length;l++){var q=k[l];if(f!==f&&q.key!==q.key||f===q.key)return{id:h,list:k,index:l,entry:q}}return{id:h,list:k,index:-1,entry:void 0}};$jscomp.Map.prototype.entries=function(){return this.iter_(function(f){return[f.key,f.value]})};$jscomp.Map.prototype.keys=function(){return this.iter_(function(f){return f.key})};
$jscomp.Map.prototype.values=function(){return this.iter_(function(f){return f.value})};$jscomp.Map.prototype.forEach=function(f,h){for(var k=$jscomp.makeIterator(this.entries()),l=k.next();!l.done;l=k.next())l=l.value,f.call(h,l[1],l[0],this)};
$jscomp.Map.prototype.iter_=function(f){var h=this,k=this.head_;$jscomp.initSymbol();$jscomp.initSymbolIterator();var l={};return l.next=function(){if(k){for(;k.head!=h.head_;)k=k.previous;for(;k.next!=k.head;)return k=k.next,{done:!1,value:f(k)};k=null}return{done:!0,value:void 0}},l[Symbol.iterator]=function(){return this},l};$jscomp.Map.index_=0;$jscomp.Map.defineProperty_=Object.defineProperty?function(f,h,k){Object.defineProperty(f,h,{value:String(k)})}:function(f,h,k){f[h]=String(k)};
$jscomp.Map.Entry_=function(){};$jscomp.Map.ASSUME_NO_NATIVE=!1;$jscomp.Map$install=function(){$jscomp.initSymbol();$jscomp.initSymbolIterator();!$jscomp.Map.ASSUME_NO_NATIVE&&$jscomp.Map.checkBrowserConformance_()?$jscomp.Map=$jscomp.global.Map:($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Map.prototype[Symbol.iterator]=$jscomp.Map.prototype.entries,$jscomp.initSymbol(),$jscomp.Map.key_=Symbol("map-id-key"));$jscomp.Map$install=function(){}};$jscomp.math=$jscomp.math||{};
$jscomp.math.clz32=function(f){f=Number(f)>>>0;if(0===f)return 32;var h=0;0===(f&4294901760)&&(f<<=16,h+=16);0===(f&4278190080)&&(f<<=8,h+=8);0===(f&4026531840)&&(f<<=4,h+=4);0===(f&3221225472)&&(f<<=2,h+=2);0===(f&2147483648)&&h++;return h};$jscomp.math.imul=function(f,h){f=Number(f);h=Number(h);var k=f&65535,l=h&65535;return k*l+((f>>>16&65535)*l+k*(h>>>16&65535)<<16>>>0)|0};$jscomp.math.sign=function(f){f=Number(f);return 0===f||isNaN(f)?f:0<f?1:-1};
$jscomp.math.log10=function(f){return Math.log(f)/Math.LN10};$jscomp.math.log2=function(f){return Math.log(f)/Math.LN2};$jscomp.math.log1p=function(f){f=Number(f);if(.25>f&&-.25<f){for(var h=f,k=1,l=f,q=0,y=1;q!=l;)h*=f,y*=-1,l=(q=l)+y*h/++k;return l}return Math.log(1+f)};$jscomp.math.expm1=function(f){f=Number(f);if(.25>f&&-.25<f){for(var h=f,k=1,l=f,q=0;q!=l;)h*=f/++k,l=(q=l)+h;return l}return Math.exp(f)-1};$jscomp.math.cosh=function(f){f=Number(f);return(Math.exp(f)+Math.exp(-f))/2};
$jscomp.math.sinh=function(f){f=Number(f);return 0===f?f:(Math.exp(f)-Math.exp(-f))/2};$jscomp.math.tanh=function(f){f=Number(f);if(0===f)return f;var h=Math.exp(2*-Math.abs(f)),h=(1-h)/(1+h);return 0>f?-h:h};$jscomp.math.acosh=function(f){f=Number(f);return Math.log(f+Math.sqrt(f*f-1))};$jscomp.math.asinh=function(f){f=Number(f);if(0===f)return f;var h=Math.log(Math.abs(f)+Math.sqrt(f*f+1));return 0>f?-h:h};
$jscomp.math.atanh=function(f){f=Number(f);return($jscomp.math.log1p(f)-$jscomp.math.log1p(-f))/2};
$jscomp.math.hypot=function(f,h,k){for(var l=[],q=2;q<arguments.length;++q)l[q-2]=arguments[q];f=Number(f);h=Number(h);for(var y=Math.max(Math.abs(f),Math.abs(h)),ea=$jscomp.makeIterator(l),q=ea.next();!q.done;q=ea.next())y=Math.max(y,Math.abs(q.value));if(1E100<y||1E-100>y){f/=y;h/=y;ea=f*f+h*h;l=$jscomp.makeIterator(l);for(q=l.next();!q.done;q=l.next())q=q.value,q=Number(q)/y,ea+=q*q;return Math.sqrt(ea)*y}y=f*f+h*h;l=$jscomp.makeIterator(l);for(q=l.next();!q.done;q=l.next())q=q.value,q=Number(q),
y+=q*q;return Math.sqrt(y)};$jscomp.math.trunc=function(f){f=Number(f);if(isNaN(f)||Infinity===f||-Infinity===f||0===f)return f;var h=Math.floor(Math.abs(f));return 0>f?-h:h};$jscomp.math.cbrt=function(f){if(0===f)return f;f=Number(f);var h=Math.pow(Math.abs(f),1/3);return 0>f?-h:h};$jscomp.number=$jscomp.number||{};$jscomp.number.isFinite=function(f){return"number"!==typeof f?!1:!isNaN(f)&&Infinity!==f&&-Infinity!==f};
$jscomp.number.isInteger=function(f){return $jscomp.number.isFinite(f)?f===Math.floor(f):!1};$jscomp.number.isNaN=function(f){return"number"===typeof f&&isNaN(f)};$jscomp.number.isSafeInteger=function(f){return $jscomp.number.isInteger(f)&&Math.abs(f)<=$jscomp.number.MAX_SAFE_INTEGER};$jscomp.number.EPSILON=Math.pow(2,-52);$jscomp.number.MAX_SAFE_INTEGER=9007199254740991;$jscomp.number.MIN_SAFE_INTEGER=-9007199254740991;$jscomp.object=$jscomp.object||{};
$jscomp.object.assign=function(f,h){for(var k=[],l=1;l<arguments.length;++l)k[l-1]=arguments[l];k=$jscomp.makeIterator(k);for(l=k.next();!l.done;l=k.next())if(l=l.value)for(var q in l)Object.prototype.hasOwnProperty.call(l,q)&&(f[q]=l[q]);return f};$jscomp.object.is=function(f,h){return f===h?0!==f||1/f===1/h:f!==f&&h!==h};$jscomp.Set=function(f){f=void 0===f?[]:f;this.map_=new $jscomp.Map;if(f){f=$jscomp.makeIterator(f);for(var h=f.next();!h.done;h=f.next())this.add(h.value)}this.size=this.map_.size};
$jscomp.Set.checkBrowserConformance_=function(){var f=$jscomp.global.Set;if(!f||!f.prototype.entries||!Object.seal)return!1;var h=Object.seal({x:4}),f=new f($jscomp.makeIterator([h]));if(f.has(h)||1!=f.size||f.add(h)!=f||1!=f.size||f.add({x:4})!=f||2!=f.size)return!1;var f=f.entries(),k=f.next();if(k.done||k.value[0]!=h||k.value[1]!=h)return!1;k=f.next();return k.done||k.value[0]==h||4!=k.value[0].x||k.value[1]!=k.value[0]?!1:f.next().done};
$jscomp.Set.prototype.add=function(f){this.map_.set(f,f);this.size=this.map_.size;return this};$jscomp.Set.prototype["delete"]=function(f){f=this.map_["delete"](f);this.size=this.map_.size;return f};$jscomp.Set.prototype.clear=function(){this.map_.clear();this.size=0};$jscomp.Set.prototype.has=function(f){return this.map_.has(f)};$jscomp.Set.prototype.entries=function(){return this.map_.entries()};$jscomp.Set.prototype.values=function(){return this.map_.values()};
$jscomp.Set.prototype.forEach=function(f,h){var k=this;this.map_.forEach(function(l){return f.call(h,l,l,k)})};$jscomp.Set.ASSUME_NO_NATIVE=!1;$jscomp.Set$install=function(){!$jscomp.Set.ASSUME_NO_NATIVE&&$jscomp.Set.checkBrowserConformance_()?$jscomp.Set=$jscomp.global.Set:($jscomp.Map$install(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.Set.prototype[Symbol.iterator]=$jscomp.Set.prototype.values);$jscomp.Set$install=function(){}};$jscomp.string=$jscomp.string||{};
$jscomp.string.noRegExp_=function(f,h){if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+h+" must not be a regular expression");};
$jscomp.string.fromCodePoint=function(f){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];for(var k="",h=$jscomp.makeIterator(h),l=h.next();!l.done;l=h.next()){l=l.value;l=+l;if(0>l||1114111<l||l!==Math.floor(l))throw new RangeError("invalid_code_point "+l);65535>=l?k+=String.fromCharCode(l):(l-=65536,k+=String.fromCharCode(l>>>10&1023|55296),k+=String.fromCharCode(l&1023|56320))}return k};
$jscomp.string.repeat=function(f){var h=this.toString();if(0>f||1342177279<f)throw new RangeError("Invalid count value");f|=0;for(var k="";f;)if(f&1&&(k+=h),f>>>=1)h+=h;return k};$jscomp.string.repeat$install=function(){String.prototype.repeat||(String.prototype.repeat=$jscomp.string.repeat)};
$jscomp.string.codePointAt=function(f){var h=this.toString(),k=h.length;f=Number(f)||0;if(0<=f&&f<k){f|=0;var l=h.charCodeAt(f);if(55296>l||56319<l||f+1===k)return l;f=h.charCodeAt(f+1);return 56320>f||57343<f?l:1024*(l-55296)+f+9216}};$jscomp.string.codePointAt$install=function(){String.prototype.codePointAt||(String.prototype.codePointAt=$jscomp.string.codePointAt)};
$jscomp.string.includes=function(f,h){h=void 0===h?0:h;$jscomp.string.noRegExp_(f,"includes");return-1!==this.toString().indexOf(f,h)};$jscomp.string.includes$install=function(){String.prototype.includes||(String.prototype.includes=$jscomp.string.includes)};
$jscomp.string.startsWith=function(f,h){h=void 0===h?0:h;$jscomp.string.noRegExp_(f,"startsWith");var k=this.toString();f+="";for(var l=k.length,q=f.length,y=Math.max(0,Math.min(h|0,k.length)),ea=0;ea<q&&y<l;)if(k[y++]!=f[ea++])return!1;return ea>=q};$jscomp.string.startsWith$install=function(){String.prototype.startsWith||(String.prototype.startsWith=$jscomp.string.startsWith)};
$jscomp.string.endsWith=function(f,h){$jscomp.string.noRegExp_(f,"endsWith");var k=this.toString();f+="";void 0===h&&(h=k.length);for(var l=Math.max(0,Math.min(h|0,k.length)),q=f.length;0<q&&0<l;)if(k[--l]!=f[--q])return!1;return 0>=q};$jscomp.string.endsWith$install=function(){String.prototype.endsWith||(String.prototype.endsWith=$jscomp.string.endsWith)};
(function(f,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):f.createREGL=h()})(this,function(){function f(b,a){this.id=cc++;this.type=b;this.data=a}function h(b){if(0===b.length)return[];var a=b.charAt(0),c=b.charAt(b.length-1);if(1<b.length&&a===c&&('"'===a||"'"===a))return['"'+b.substr(1,b.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(a=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(b))return h(b.substr(0,
a.index)).concat(h(a[1])).concat(h(b.substr(a.index+a[0].length)));a=b.split(".");if(1===a.length)return['"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];b=[];for(c=0;c<a.length;++c)b=b.concat(h(a[c]));return b}function k(b){return"["+h(b).join("][")+"]"}function l(b,a){if("function"===typeof b)return new f(0,b);if("number"===typeof b||"boolean"===typeof b)return new f(5,b);if(Array.isArray(b))return new f(6,b.map(function(b,d){return l(b,a+"["+d+"]")}));if(b instanceof f)return b}function q(){var b=
{"":0},a=[""];return{id:function(c){var d=b[c];if(d)return d;d=b[c]=a.length;a.push(c);return d},str:function(b){return a[b]}}}function y(b,a,c){function d(){var a=window.innerWidth,d=window.innerHeight;b!==document.body&&(d=g.getBoundingClientRect(),a=d.right-d.left,d=d.bottom-d.top);g.width=c*a;g.height=c*d}var g=document.createElement("canvas");R(g.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"});b.appendChild(g);b===document.body&&(g.style.position="absolute",R(b.style,
{margin:0,padding:0}));var e;b!==document.body&&"function"===typeof ResizeObserver?(e=new ResizeObserver(function(){setTimeout(d)}),e.observe(b)):window.addEventListener("resize",d,!1);d();return{canvas:g,onDestroy:function(){e?e.disconnect():window.removeEventListener("resize",d);b.removeChild(g)}}}function ea(b,a){function c(c){try{return b.getContext(c,a)}catch(g){return null}}return c("webgl")||c("experimental-webgl")||c("webgl-experimental")}function Ab(b){return"string"===typeof b?b.split():
b}function tb(b){return"string"===typeof b?document.querySelector(b):b}function dc(b){var a=b||{},c,d,g,e;b={};var f=[],h=[],k="undefined"===typeof window?1:window.devicePixelRatio,K=!1,p=function(a){},z=function(){};"string"===typeof a?c=document.querySelector(a):"object"===typeof a&&("string"===typeof a.nodeName&&"function"===typeof a.appendChild&&"function"===typeof a.getBoundingClientRect?c=a:"function"===typeof a.drawArrays||"function"===typeof a.drawElements?(e=a,g=e.canvas):("gl"in a?e=a.gl:
"canvas"in a?g=tb(a.canvas):"container"in a&&(d=tb(a.container)),"attributes"in a&&(b=a.attributes),"extensions"in a&&(f=Ab(a.extensions)),"optionalExtensions"in a&&(h=Ab(a.optionalExtensions)),"onDone"in a&&(p=a.onDone),"profile"in a&&(K=!!a.profile),"pixelRatio"in a&&(k=+a.pixelRatio)));c&&("canvas"===c.nodeName.toLowerCase()?g=c:d=c);if(!e){if(!g){c=y(d||document.body,p,k);if(!c)return null;g=c.canvas;z=c.onDestroy}void 0===b.premultipliedAlpha&&(b.premultipliedAlpha=!0);e=ea(g,b)}return e?{gl:e,
canvas:g,container:d,extensions:f,optionalExtensions:h,pixelRatio:k,profile:K,onDone:p,onDestroy:z}:(z(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ec(b,a){function c(a){a=a.toLowerCase();var c;try{c=d[a]=b.getExtension(a)}catch(g){}return!!c}for(var d={},g=0;g<a.extensions.length;++g){var e=a.extensions[g];if(!c(e))return a.onDestroy(),a.onDone('"'+e+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),
null}a.optionalExtensions.forEach(c);return{extensions:d,restore:function(){Object.keys(d).forEach(function(a){if(d[a]&&!c(a))throw Error("(regl): error restoring extension "+a);})}}}function fa(b,a){for(var c=Array(b),d=0;d<b;++d)c[d]=a(d);return c}function ub(b){var a,c;a=(65535<b)<<4;b>>>=a;c=(255<b)<<3;b>>>=c;a|=c;c=(15<b)<<2;b>>>=c;a|=c;c=(3<b)<<1;return a|c|b>>>c>>1}function vb(){function b(a){a:{for(var b=16;268435456>=b;b*=16)if(a<=b){a=b;break a}a=0}b=c[ub(a)>>2];return 0<b.length?b.pop():
new ArrayBuffer(a)}function a(a){c[ub(a.byteLength)>>2].push(a)}var c=fa(8,function(){return[]});return{alloc:b,free:a,allocType:function(a,c){var e=null;switch(a){case 5120:e=new Int8Array(b(c),0,c);break;case 5121:e=new Uint8Array(b(c),0,c);break;case 5122:e=new Int16Array(b(2*c),0,c);break;case 5123:e=new Uint16Array(b(2*c),0,c);break;case 5124:e=new Int32Array(b(4*c),0,c);break;case 5125:e=new Uint32Array(b(4*c),0,c);break;case 5126:e=new Float32Array(b(4*c),0,c);break;default:return null}return e.length!==
c?e.subarray(0,c):e},freeType:function(b){a(b.buffer)}}}function ta(b){return!!b&&"object"===typeof b&&Array.isArray(b.shape)&&Array.isArray(b.stride)&&"number"===typeof b.offset&&b.shape.length===b.stride.length&&(Array.isArray(b.data)||O(b.data))}function Bb(b,a,c,d,g,e){for(var f=0;f<a;++f)for(var h=b[f],k=0;k<c;++k)for(var K=h[k],p=0;p<d;++p)g[e++]=K[p]}function Cb(b,a,c,d,g){for(var e=1,f=c+1;f<a.length;++f)e*=a[f];var h=a[c];if(4===a.length-c){var k=a[c+1],K=a[c+2];a=a[c+3];for(f=0;f<h;++f)Bb(b[f],
k,K,a,d,g),g+=e}else for(f=0;f<h;++f)Cb(b[f],a,c+1,d,g),g+=e}function Ya(b){return Za[Object.prototype.toString.call(b)]|0}function Db(b,a){for(var c=0;c<a.length;++c)b[c]=a[c]}function Eb(b,a,c,d,g,e,f){for(var h=0,k=0;k<c;++k)for(var K=0;K<d;++K)b[h++]=a[g*k+e*K+f]}function fc(b,a,c,d){function g(a){this.id=k++;this.buffer=b.createBuffer();this.type=a;this.usage=35044;this.byteLength=0;this.dimension=1;this.dtype=5121;this.persistentData=null;c.profile&&(this.stats={size:0})}function e(a,c,d){a.byteLength=
c.byteLength;b.bufferData(a.type,c,d)}function f(a,b,c,d,g,h){a.usage=c;if(Array.isArray(b)){if(a.dtype=d||5126,0<b.length)if(Array.isArray(b[0])){g=Fb(b);for(var t=d=1;t<g.length;++t)d*=g[t];a.dimension=d;b=jb(b,g,a.dtype);e(a,b,c);h?a.persistentData=b:H.freeType(b)}else"number"===typeof b[0]?(a.dimension=g,g=H.allocType(a.dtype,b.length),Db(g,b),e(a,g,c),h?a.persistentData=g:H.freeType(g)):O(b[0])&&(a.dimension=b[0].length,a.dtype=d||Ya(b[0])||5126,b=jb(b,[b.length,b[0].length],a.dtype),e(a,b,c),
h?a.persistentData=b:H.freeType(b))}else if(O(b))a.dtype=d||Ya(b),a.dimension=g,e(a,b,c),h&&(a.persistentData=new Uint8Array(new Uint8Array(b.buffer)));else if(ta(b)){g=b.shape;var n=b.stride,t=b.offset,k=0,u=0,p=0,K=0;1===g.length?(k=g[0],u=1,p=n[0],K=0):2===g.length&&(k=g[0],u=g[1],p=n[0],K=n[1]);a.dtype=d||Ya(b.data)||5126;a.dimension=u;g=H.allocType(a.dtype,k*u);Eb(g,b.data,k,u,p,K,t);e(a,g,c);h?a.persistentData=g:H.freeType(g)}else b instanceof ArrayBuffer&&(a.dtype=5121,a.dimension=g,e(a,b,
c),h&&(a.persistentData=new Uint8Array(new Uint8Array(b))))}function h(c){a.bufferCount--;d(c);b.deleteBuffer(c.buffer);c.buffer=null;delete K[c.id]}var k=0,K={};g.prototype.bind=function(){b.bindBuffer(this.type,this.buffer)};g.prototype.destroy=function(){h(this)};var p=[];c.profile&&(a.getTotalBufferSize=function(){var a=0;Object.keys(K).forEach(function(b){a+=K[b].stats.size});return a});return{create:function(d,e,m,k){function p(a){var d=35044,g=null,e=0,m=0,h=1;Array.isArray(a)||O(a)||ta(a)||
a instanceof ArrayBuffer?g=a:"number"===typeof a?e=a|0:a&&("data"in a&&(g=a.data),"usage"in a&&(d=Hb[a.usage]),"type"in a&&(m=Sa[a.type]),"dimension"in a&&(h=a.dimension|0),"length"in a&&(e=a.length|0));l.bind();g?f(l,g,d,m,h,k):(e&&b.bufferData(l.type,e,d),l.dtype=m||5121,l.usage=d,l.dimension=h,l.byteLength=e);c.profile&&(l.stats.size=l.byteLength*ua[l.dtype]);return p}a.bufferCount++;var l=new g(e);K[l.id]=l;m||p(d);p._reglType="buffer";p._buffer=l;p.subdata=function(a,c){var d=(c||0)|0,g;l.bind();
if(O(a)||a instanceof ArrayBuffer)b.bufferSubData(l.type,d,a);else if(Array.isArray(a)){if(0<a.length)if("number"===typeof a[0]){var e=H.allocType(l.dtype,a.length);Db(e,a);b.bufferSubData(l.type,d,e);H.freeType(e)}else if(Array.isArray(a[0])||O(a[0]))g=Fb(a),e=jb(a,g,l.dtype),b.bufferSubData(l.type,d,e),H.freeType(e)}else if(ta(a)){g=a.shape;var f=a.stride,m=e=0,h=0,n=0;1===g.length?(e=g[0],m=1,h=f[0],n=0):2===g.length&&(e=g[0],m=g[1],h=f[0],n=f[1]);g=Array.isArray(a.data)?l.dtype:Ya(a.data);g=H.allocType(g,
e*m);Eb(g,a.data,e,m,h,n,a.offset);b.bufferSubData(l.type,d,g);H.freeType(g)}return p};c.profile&&(p.stats=l.stats);p.destroy=function(){h(l)};return p},createStream:function(a,b){var c=p.pop();c||(c=new g(a));c.bind();f(c,b,35040,0,1,!1);return c},destroyStream:function(a){p.push(a)},clear:function(){P(K).forEach(h);p.forEach(h)},getBuffer:function(a){return a&&a._buffer instanceof g?a._buffer:null},restore:function(){P(K).forEach(function(a){a.buffer=b.createBuffer();b.bindBuffer(a.type,a.buffer);
b.bufferData(a.type,a.persistentData||a.byteLength,a.usage)})},_initBuffer:f}}function gc(b,a,c,d){function g(a){this.id=k++;h[this.id]=this;this.buffer=a;this.primType=4;this.type=this.vertCount=0}function e(d,g,f,m,h,n,t){d.buffer.bind();var k;g?((k=t)||O(g)&&(!ta(g)||O(g.data))||(k=a.oes_element_index_uint?5125:5123),c._initBuffer(d.buffer,g,f,k,3)):(b.bufferData(34963,n,f),d.buffer.dtype=k||5121,d.buffer.usage=f,d.buffer.dimension=3,d.buffer.byteLength=n);k=t;if(!t){switch(d.buffer.dtype){case 5121:case 5120:k=
5121;break;case 5123:case 5122:k=5123;break;case 5125:case 5124:k=5125}d.buffer.dtype=k}d.type=k;g=h;0>g&&(g=d.buffer.byteLength,5123===k?g>>=1:5125===k&&(g>>=2));d.vertCount=g;g=m;0>m&&(g=4,m=d.buffer.dimension,1===m&&(g=0),2===m&&(g=1),3===m&&(g=4));d.primType=g}function f(a){d.elementsCount--;delete h[a.id];a.buffer.destroy();a.buffer=null}var h={},k=0,l={uint8:5121,uint16:5123};a.oes_element_index_uint&&(l.uint32=5125);g.prototype.bind=function(){this.buffer.bind()};var p=[];return{create:function(a,
b){function h(a){if(a)if("number"===typeof a)k(a),u.primType=4,u.vertCount=a|0,u.type=5121;else{var b=null,c=35044,d=-1,g=-1,f=0,n=0;if(Array.isArray(a)||O(a)||ta(a))b=a;else if("data"in a&&(b=a.data),"usage"in a&&(c=Hb[a.usage]),"primitive"in a&&(d=$a[a.primitive]),"count"in a&&(g=a.count|0),"type"in a&&(n=l[a.type]),"length"in a)f=a.length|0;else if(f=g,5123===n||5122===n)f*=2;else if(5125===n||5124===n)f*=4;e(u,b,c,d,g,f,n)}else k(),u.primType=4,u.vertCount=0,u.type=5121;return h}var k=c.create(null,
34963,!0),u=new g(k._buffer);d.elementsCount++;h(a);h._reglType="elements";h._elements=u;h.subdata=function(a,b){k.subdata(a,b);return h};h.destroy=function(){f(u)};return h},createStream:function(a){var b=p.pop();b||(b=new g(c.create(null,34963,!0,!1)._buffer));e(b,a,35040,-1,-1,0,0);return b},destroyStream:function(a){p.push(a)},getElements:function(a){return"function"===typeof a&&a._elements instanceof g?a._elements:null},clear:function(){P(h).forEach(f)}}}function Ib(b){for(var a=H.allocType(5123,
b.length),c=0;c<b.length;++c)if(isNaN(b[c]))a[c]=65535;else if(Infinity===b[c])a[c]=31744;else if(-Infinity===b[c])a[c]=64512;else{Jb[0]=b[c];var d=hc[0],g=d>>>31<<15,e=(d<<1>>>24)-127,d=d>>13&1023;a[c]=-24>e?g:-14>e?g+(d+1024>>-14-e):15<e?g+31744:g+(e+15<<10)+d}return a}function za(b){return Array.isArray(b)||O(b)}function Ka(b){return"[object "+b+"]"}function wb(b){return Array.isArray(b)&&(0===b.length||"number"===typeof b[0])}function Kb(b){return Array.isArray(b)&&0!==b.length&&za(b[0])?!0:!1}
function ga(b){return Object.prototype.toString.call(b)}function kb(b){if(!b)return!1;var a=ga(b);return 0<=ic.indexOf(a)?!0:wb(b)||Kb(b)||ta(b)}function Lb(b,a){36193===b.type?(b.data=Ib(a),H.freeType(a)):b.data=a}function ab(b,a,c,d,g,e){b="undefined"!==typeof S[b]?S[b]:pa[b]*La[a];e&&(b*=6);if(g){for(d=0;1<=c;)d+=b*c*c,c/=2;return d}return b*c*d}function jc(b,a,c,d,g,e,f){function h(){this.format=this.internalformat=6408;this.type=5121;this.flipY=this.premultiplyAlpha=this.compressed=!1;this.unpackAlignment=
1;this.colorSpace=37444;this.channels=this.height=this.width=0}function k(a,b){a.internalformat=b.internalformat;a.format=b.format;a.type=b.type;a.compressed=b.compressed;a.premultiplyAlpha=b.premultiplyAlpha;a.flipY=b.flipY;a.unpackAlignment=b.unpackAlignment;a.colorSpace=b.colorSpace;a.width=b.width;a.height=b.height;a.channels=b.channels}function l(a,b){if("object"===typeof b&&b){"premultiplyAlpha"in b&&(a.premultiplyAlpha=b.premultiplyAlpha);"flipY"in b&&(a.flipY=b.flipY);"alignment"in b&&(a.unpackAlignment=
b.alignment);"colorSpace"in b&&(a.colorSpace=kc[b.colorSpace]);"type"in b&&(a.type=T[b.type]);var c=a.width,d=a.height,g=a.channels,e=!1;"shape"in b?(c=b.shape[0],d=b.shape[1],3===b.shape.length&&(g=b.shape[2],e=!0)):("radius"in b&&(c=d=b.radius),"width"in b&&(c=b.width),"height"in b&&(d=b.height),"channels"in b&&(g=b.channels,e=!0));a.width=c|0;a.height=d|0;a.channels=g|0;c=!1;"format"in b&&(c=b.format,d=a.internalformat=L[c],a.format=bb[d],c in T&&!("type"in b)&&(a.type=T[c]),c in la&&(a.compressed=
!0),c=!0);!e&&c?a.channels=pa[a.format]:e&&!c&&a.channels!==Ta[a.format]&&(a.format=a.internalformat=Ta[a.channels])}}function p(a){b.pixelStorei(37440,a.flipY);b.pixelStorei(37441,a.premultiplyAlpha);b.pixelStorei(37443,a.colorSpace);b.pixelStorei(3317,a.unpackAlignment)}function z(){h.call(this);this.yOffset=this.xOffset=0;this.data=null;this.needsFree=!1;this.element=null;this.needsCopy=!1}function ja(a,b){var c=null;kb(b)?c=b:b&&(l(a,b),"x"in b&&(a.xOffset=b.x|0),"y"in b&&(a.yOffset=b.y|0),kb(b.data)&&
(c=b.data));if(b.copy){var d=g.viewportWidth,e=g.viewportHeight;a.width=a.width||d-a.xOffset;a.height=a.height||e-a.yOffset;a.needsCopy=!0}else if(!c)a.width=a.width||1,a.height=a.height||1,a.channels=a.channels||4;else if(O(c))a.channels=a.channels||4,a.data=c,"type"in b||5121!==a.type||(a.type=Za[Object.prototype.toString.call(c)]|0);else if(wb(c)){a.channels=a.channels||4;d=c;e=d.length;switch(a.type){case 5121:case 5123:case 5125:case 5126:e=H.allocType(a.type,e);e.set(d);a.data=e;break;case 36193:a.data=
Ib(d)}a.alignment=1;a.needsFree=!0}else if(ta(c)){d=c.data;Array.isArray(d)||5121!==a.type||(a.type=Za[Object.prototype.toString.call(d)]|0);var e=c.shape,f=c.stride,m,h,n,k;3===e.length?(n=e[2],k=f[2]):k=n=1;m=e[0];h=e[1];e=f[0];f=f[1];a.alignment=1;a.width=m;a.height=h;a.channels=n;a.format=a.internalformat=Ta[n];a.needsFree=!0;m=k;c=c.offset;n=a.width;k=a.height;h=a.channels;for(var F=H.allocType(36193===a.type?5126:a.type,n*k*h),qa=0,na=0;na<k;++na)for(var cb=0;cb<n;++cb)for(var Wb=0;Wb<h;++Wb)F[qa++]=
d[e*cb+f*na+m*Wb+c];Lb(a,F)}else if(ga(c)===lb||ga(c)===mb||ga(c)===xb)ga(c)===lb||ga(c)===mb?a.element=c:a.element=c.canvas,a.width=a.element.width,a.height=a.element.height,a.channels=4;else if(ga(c)===Mb)a.element=c,a.width=c.width,a.height=c.height,a.channels=4;else if(ga(c)===Nb)a.element=c,a.width=c.naturalWidth,a.height=c.naturalHeight,a.channels=4;else if(ga(c)===yb)a.element=c,a.width=c.videoWidth,a.height=c.videoHeight,a.channels=4;else if(Kb(c)){d=a.width||c[0].length;e=a.height||c.length;
f=a.channels;f=za(c[0][0])?f||c[0][0].length:f||1;m=db.shape(c);n=1;for(k=0;k<m.length;++k)n*=m[k];n=H.allocType(36193===a.type?5126:a.type,n);db.flatten(c,m,"",n);Lb(a,n);a.alignment=1;a.width=d;a.height=e;a.channels=f;a.format=a.internalformat=Ta[f];a.needsFree=!0}}function v(a,c,g,e,f){var m=a.element,h=a.data,n=a.internalformat,k=a.format,t=a.type,F=a.width,qa=a.height;p(a);m?b.texSubImage2D(c,f,g,e,k,t,m):a.compressed?b.compressedTexSubImage2D(c,f,g,e,n,F,qa,h):a.needsCopy?(d(),b.copyTexSubImage2D(c,
f,g,e,a.xOffset,a.yOffset,F,qa)):b.texSubImage2D(c,f,g,e,F,qa,k,t,h)}function ka(){return ra.pop()||new z}function Z(a){a.needsFree&&H.freeType(a.data);z.call(a);ra.push(a)}function q(){h.call(this);this.genMipmaps=!1;this.mipmapHint=4352;this.mipmask=0;this.images=Array(16)}function t(a,b,c){var d=a.images[0]=ka();a.mipmask=1;d.width=a.width=b;d.height=a.height=c;d.channels=a.channels=4}function I(a,b){var c=null;if(kb(b))c=a.images[0]=ka(),k(c,a),ja(c,b),a.mipmask=1;else if(l(a,b),Array.isArray(b.mipmap))for(var d=
b.mipmap,g=0;g<d.length;++g)c=a.images[g]=ka(),k(c,a),c.width>>=g,c.height>>=g,ja(c,d[g]),a.mipmask|=1<<g;else c=a.images[0]=ka(),k(c,a),ja(c,b),a.mipmask=1;k(a,a.images[0])}function G(a,c){for(var g=a.images,e=0;e<g.length&&g[e];++e){var f=g[e],m=c,h=e,n=f.element,k=f.data,t=f.internalformat,F=f.format,qa=f.type,na=f.width,cb=f.height;p(f);n?b.texImage2D(m,h,F,F,qa,n):f.compressed?b.compressedTexImage2D(m,h,t,na,cb,0,k):f.needsCopy?(d(),b.copyTexImage2D(m,h,F,f.xOffset,f.yOffset,na,cb,0)):b.texImage2D(m,
h,F,na,cb,0,F,qa,k||null)}}function Gb(){var a=C.pop()||new q;h.call(a);for(var b=a.mipmask=0;16>b;++b)a.images[b]=null;return a}function J(a){for(var b=a.images,c=0;c<b.length;++c)b[c]&&Z(b[c]),b[c]=null;C.push(a)}function y(){this.magFilter=this.minFilter=9728;this.wrapT=this.wrapS=33071;this.anisotropic=1;this.genMipmaps=!1;this.mipmapHint=4352}function x(a,b){"min"in b&&(a.minFilter=aa[b.min],0<=mc.indexOf(a.minFilter)&&!("faces"in b)&&(a.genMipmaps=!0));"mag"in b&&(a.magFilter=N[b.mag]);var c=
a.wrapS,d=a.wrapT;if("wrap"in b){var g=b.wrap;"string"===typeof g?c=d=X[g]:Array.isArray(g)&&(c=X[g[0]],d=X[g[1]])}else"wrapS"in b&&(c=X[b.wrapS]),"wrapT"in b&&(d=X[b.wrapT]);a.wrapS=c;a.wrapT=d;"anisotropic"in b&&(a.anisotropic=b.anisotropic);if("mipmap"in b){c=!1;switch(typeof b.mipmap){case "string":a.mipmapHint=ba[b.mipmap];c=a.genMipmaps=!0;break;case "boolean":c=a.genMipmaps=b.mipmap;break;case "object":a.genMipmaps=!1,c=!0}!c||"min"in b||(a.minFilter=9984)}}function Fa(c,d){b.texParameteri(d,
10241,c.minFilter);b.texParameteri(d,10240,c.magFilter);b.texParameteri(d,10242,c.wrapS);b.texParameteri(d,10243,c.wrapT);a.ext_texture_filter_anisotropic&&b.texParameteri(d,34046,c.anisotropic);c.genMipmaps&&(b.hint(33170,c.mipmapHint),b.generateMipmap(d))}function D(a){h.call(this);this.mipmask=0;this.internalformat=6408;this.id=w++;this.refCount=1;this.target=a;this.texture=b.createTexture();this.unit=-1;this.bindCount=0;this.texInfo=new y;f.profile&&(this.stats={size:0})}function Ua(a){b.activeTexture(33984);
b.bindTexture(a.target,a.texture)}function Y(){var a=ca[0];a?b.bindTexture(a.target,a.texture):b.bindTexture(3553,null)}function A(a){var c=a.texture,d=a.unit,g=a.target;0<=d&&(b.activeTexture(33984+d),b.bindTexture(g,null),ca[d]=null);b.deleteTexture(c);a.texture=null;a.params=null;a.pixels=null;a.refCount=0;delete da[a.id];e.textureCount--}var ba={"don't care":4352,"dont care":4352,nice:4354,fast:4353},X={repeat:10497,clamp:33071,mirror:33648},N={nearest:9728,linear:9729},aa=R({mipmap:9987,"nearest mipmap nearest":9984,
"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},N),kc={none:0,browser:37444},T={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},L={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},la={};a.ext_srgb&&(L.srgb=35904,L.srgba=35906);a.oes_texture_float&&(T.float32=T["float"]=5126);a.oes_texture_half_float&&(T.float16=T["half float"]=36193);a.webgl_depth_texture&&(R(L,{depth:6402,"depth stencil":34041}),
R(T,{uint16:5123,uint32:5125,"depth stencil":34042}));a.webgl_compressed_texture_s3tc&&R(la,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779});a.webgl_compressed_texture_atc&&R(la,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798});a.webgl_compressed_texture_pvrtc&&R(la,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843});a.webgl_compressed_texture_etc1&&(la["rgb etc1"]=
36196);var V=Array.prototype.slice.call(b.getParameter(34467));Object.keys(la).forEach(function(a){var b=la[a];0<=V.indexOf(b)&&(L[a]=b)});var M=Object.keys(L);c.textureFormats=M;var ma=[];Object.keys(L).forEach(function(a){ma[L[a]]=a});var E=[];Object.keys(T).forEach(function(a){E[T[a]]=a});var Da=[];Object.keys(N).forEach(function(a){Da[N[a]]=a});var Ga=[];Object.keys(aa).forEach(function(a){Ga[aa[a]]=a});var xa=[];Object.keys(X).forEach(function(a){xa[X[a]]=a});var bb=M.reduce(function(b,c){var d=
L[c];6409===d||6406===d||6409===d||6410===d||6402===d||34041===d||a.ext_srgb&&(35904===d||35906===d)?b[d]=d:32855===d||0<=c.indexOf("rgba")?b[d]=6408:b[d]=6407;return b},{}),ra=[],C=[],w=0,da={},oa=c.maxTextureUnits,ca=Array(oa).map(function(){return null});R(D.prototype,{bind:function(){this.bindCount+=1;var a=this.unit;if(0>a){for(var c=0;c<oa;++c){var d=ca[c];if(d){if(0<d.bindCount)continue;d.unit=-1}ca[c]=this;a=c;break}f.profile&&e.maxTextureUnits<a+1&&(e.maxTextureUnits=a+1);this.unit=a;b.activeTexture(33984+
a);b.bindTexture(this.target,this.texture)}return a},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&A(this)}});f.profile&&(e.getTotalTextureSize=function(){var a=0;Object.keys(da).forEach(function(b){a+=da[b].stats.size});return a});return{create2D:function(a,c){function d(a,b){var c=g.texInfo;y.call(c);var e=Gb();"number"===typeof a?"number"===typeof b?t(e,a|0,b|0):t(e,a|0,a|0):a?(x(c,a),I(e,a)):t(e,1,1);c.genMipmaps&&(e.mipmask=(e.width<<1)-1);g.mipmask=e.mipmask;k(g,
e);g.internalformat=e.internalformat;d.width=e.width;d.height=e.height;Ua(g);G(e,3553);Fa(c,3553);Y();J(e);f.profile&&(g.stats.size=ab(g.internalformat,g.type,e.width,e.height,c.genMipmaps,!1));d.format=ma[g.internalformat];d.type=E[g.type];d.mag=Da[c.magFilter];d.min=Ga[c.minFilter];d.wrapS=xa[c.wrapS];d.wrapT=xa[c.wrapT];return d}var g=new D(3553);da[g.id]=g;e.textureCount++;d(a,c);d.subimage=function(a,b,c,e){b|=0;c|=0;e|=0;var f=ka();k(f,g);f.width=0;f.height=0;ja(f,a);f.width=f.width||(g.width>>
e)-b;f.height=f.height||(g.height>>e)-c;Ua(g);v(f,3553,b,c,e);Y();Z(f);return d};d.resize=function(a,c){var e=a|0,m=c|0||e;if(e===g.width&&m===g.height)return d;d.width=g.width=e;d.height=g.height=m;Ua(g);for(var h=0;g.mipmask>>h;++h){var k=e>>h,F=m>>h;if(!k||!F)break;b.texImage2D(3553,h,g.format,k,F,0,g.format,g.type,null)}Y();f.profile&&(g.stats.size=ab(g.internalformat,g.type,e,m,!1,!1));return d};d._reglType="texture2d";d._texture=g;f.profile&&(d.stats=g.stats);d.destroy=function(){g.decRef()};
return d},createCube:function(a,c,d,g,h,u){function p(a,b,c,d,g,e){var m,h=A.texInfo;y.call(h);for(m=0;6>m;++m)z[m]=Gb();if("number"===typeof a||!a)for(a=a|0||1,m=0;6>m;++m)t(z[m],a,a);else if("object"===typeof a)if(b)I(z[0],a),I(z[1],b),I(z[2],c),I(z[3],d),I(z[4],g),I(z[5],e);else if(x(h,a),l(A,a),"faces"in a)for(a=a.faces,m=0;6>m;++m)k(z[m],A),I(z[m],a[m]);else for(m=0;6>m;++m)I(z[m],a);k(A,z[0]);A.mipmask=h.genMipmaps?(z[0].width<<1)-1:z[0].mipmask;A.internalformat=z[0].internalformat;p.width=
z[0].width;p.height=z[0].height;Ua(A);for(m=0;6>m;++m)G(z[m],34069+m);Fa(h,34067);Y();f.profile&&(A.stats.size=ab(A.internalformat,A.type,p.width,p.height,h.genMipmaps,!0));p.format=ma[A.internalformat];p.type=E[A.type];p.mag=Da[h.magFilter];p.min=Ga[h.minFilter];p.wrapS=xa[h.wrapS];p.wrapT=xa[h.wrapT];for(m=0;6>m;++m)J(z[m]);return p}var A=new D(34067);da[A.id]=A;e.cubeCount++;var z=Array(6);p(a,c,d,g,h,u);p.subimage=function(a,b,c,d,g){c|=0;d|=0;g|=0;var e=ka();k(e,A);e.width=0;e.height=0;ja(e,
b);e.width=e.width||(A.width>>g)-c;e.height=e.height||(A.height>>g)-d;Ua(A);v(e,34069+a,c,d,g);Y();Z(e);return p};p.resize=function(a){a|=0;if(a!==A.width){p.width=A.width=a;p.height=A.height=a;Ua(A);for(var c=0;6>c;++c)for(var d=0;A.mipmask>>d;++d)b.texImage2D(34069+c,d,A.format,a>>d,a>>d,0,A.format,A.type,null);Y();f.profile&&(A.stats.size=ab(A.internalformat,A.type,p.width,p.height,!1,!0));return p}};p._reglType="textureCube";p._texture=A;f.profile&&(p.stats=A.stats);p.destroy=function(){A.decRef()};
return p},clear:function(){for(var a=0;a<oa;++a)b.activeTexture(33984+a),b.bindTexture(3553,null),ca[a]=null;P(da).forEach(A);e.cubeCount=0;e.textureCount=0},getTexture:function(a){return null},restore:function(){for(var a=0;a<oa;++a){var c=ca[a];c&&(c.bindCount=0,c.unit=-1,ca[a]=null)}P(da).forEach(function(a){a.texture=b.createTexture();b.bindTexture(a.target,a.texture);for(var c=0;32>c;++c)if(0!==(a.mipmask&1<<c))if(3553===a.target)b.texImage2D(3553,c,a.internalformat,a.width>>c,a.height>>c,0,
a.internalformat,a.type,null);else for(var d=0;6>d;++d)b.texImage2D(34069+d,c,a.internalformat,a.width>>c,a.height>>c,0,a.internalformat,a.type,null);Fa(a.texInfo,a.target)})},refresh:function(){for(var a=0;a<oa;++a){var c=ca[a];c&&(c.bindCount=0,c.unit=-1,ca[a]=null);b.activeTexture(33984+a);b.bindTexture(3553,null);b.bindTexture(34067,null)}}}}function nc(b,a,c,d,g,e){function f(a,b,c){this.target=a;this.texture=b;this.renderbuffer=c;var d=a=0;b?(a=b.width,d=b.height):c&&(a=c.width,d=c.height);
this.width=a;this.height=d}function h(a){a&&(a.texture&&a.texture._texture.decRef(),a.renderbuffer&&a.renderbuffer._renderbuffer.decRef())}function k(a,b,c){a&&(a.texture?a.texture._texture.refCount+=1:a.renderbuffer._renderbuffer.refCount+=1)}function l(a,c){c&&(c.texture?b.framebufferTexture2D(36160,a,c.target,c.texture._texture.texture,0):b.framebufferRenderbuffer(36160,a,36161,c.renderbuffer._renderbuffer.renderbuffer))}function p(a){var b=3553,c=null,d=null,g=a;"object"===typeof a&&(g=a.data,
"target"in a&&(b=a.target|0));a=g._reglType;"texture2d"===a?c=g:"textureCube"===a?c=g:"renderbuffer"===a&&(d=g,b=36161);return new f(b,c,d)}function z(a,b,c,e,m){if(c)return a=d.create2D({width:a,height:b,format:e,type:m}),a._texture.refCount=0,new f(3553,a,null);a=g.create({width:a,height:b,format:e});a._renderbuffer.refCount=0;return new f(36161,null,a)}function ja(a){return a&&(a.texture||a.renderbuffer)}function v(a,b,c){a&&(a.texture?a.texture.resize(b,c):a.renderbuffer&&a.renderbuffer.resize(b,
c),a.width=b,a.height=c)}function ka(){this.id=x++;Fa[this.id]=this;this.framebuffer=b.createFramebuffer();this.height=this.width=0;this.colorAttachments=[];this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Z(a){a.colorAttachments.forEach(h);h(a.depthAttachment);h(a.stencilAttachment);h(a.depthStencilAttachment)}function q(a){b.deleteFramebuffer(a.framebuffer);a.framebuffer=null;e.framebufferCount--;delete Fa[a.id]}function t(a){var d;b.bindFramebuffer(36160,a.framebuffer);
var g=a.colorAttachments;for(d=0;d<g.length;++d)l(36064+d,g[d]);for(d=g.length;d<c.maxColorAttachments;++d)b.framebufferTexture2D(36160,36064+d,3553,null,0);b.framebufferTexture2D(36160,33306,3553,null,0);b.framebufferTexture2D(36160,36096,3553,null,0);b.framebufferTexture2D(36160,36128,3553,null,0);l(36096,a.depthAttachment);l(36128,a.stencilAttachment);l(33306,a.depthStencilAttachment);b.checkFramebufferStatus(36160);b.isContextLost();b.bindFramebuffer(36160,G.next?G.next.framebuffer:null);G.cur=
G.next;b.getError()}function I(a,b){function c(a,b){var g,e=0,f=0,m=!0,h=!0;g=null;var n=!0,u="rgba",l="uint8",K=1,G=null,ka=null,v=null,I=!1;if("number"===typeof a)e=a|0,f=b|0||e;else if(a){"shape"in a?(f=a.shape,e=f[0],f=f[1]):("radius"in a&&(e=f=a.radius),"width"in a&&(e=a.width),"height"in a&&(f=a.height));if("color"in a||"colors"in a)g=a.color||a.colors,Array.isArray(g);if(!g){"colorCount"in a&&(K=a.colorCount|0);"colorTexture"in a&&(n=!!a.colorTexture,u="rgba4");if("colorType"in a&&(l=a.colorType,
!n))if("half float"===l||"float16"===l)u="rgba16f";else if("float"===l||"float32"===l)u="rgba32f";"colorFormat"in a&&(u=a.colorFormat,0<=Gb.indexOf(u)?n=!0:0<=J.indexOf(u)&&(n=!1))}if("depthTexture"in a||"depthStencilTexture"in a)I=!(!a.depthTexture&&!a.depthStencilTexture);"depth"in a&&("boolean"===typeof a.depth?m=a.depth:(G=a.depth,h=!1));"stencil"in a&&("boolean"===typeof a.stencil?h=a.stencil:(ka=a.stencil,m=!1));"depthStencil"in a&&("boolean"===typeof a.depthStencil?m=h=a.depthStencil:(v=a.depthStencil,
h=m=!1))}else e=f=1;var q=null,D=null,x=null,w=null;if(Array.isArray(g))q=g.map(p);else if(g)q=[p(g)];else for(q=Array(K),g=0;g<K;++g)q[g]=z(e,f,n,u,l);e=e||q[0].width;f=f||q[0].height;G?D=p(G):m&&!h&&(D=z(e,f,I,"depth","uint32"));ka?x=p(ka):h&&!m&&(x=z(e,f,!1,"stencil","uint8"));v?w=p(v):!G&&!ka&&h&&m&&(w=z(e,f,I,"depth stencil","depth stencil"));m=null;for(g=0;g<q.length;++g)k(q[g],e,f),q[g]&&q[g].texture&&(h=nb[q[g].texture._texture.format]*eb[q[g].texture._texture.type],null===m&&(m=h));k(D,e,
f);k(x,e,f);k(w,e,f);Z(d);d.width=e;d.height=f;d.colorAttachments=q;d.depthAttachment=D;d.stencilAttachment=x;d.depthStencilAttachment=w;c.color=q.map(ja);c.depth=ja(D);c.stencil=ja(x);c.depthStencil=ja(w);c.width=d.width;c.height=d.height;t(d);return c}var d=new ka;e.framebufferCount++;c(a,b);return R(c,{resize:function(a,b){var g=Math.max(a|0,1),e=Math.max(b|0||g,1);if(g===d.width&&e===d.height)return c;for(var f=d.colorAttachments,m=0;m<f.length;++m)v(f[m],g,e);v(d.depthAttachment,g,e);v(d.stencilAttachment,
g,e);v(d.depthStencilAttachment,g,e);d.width=c.width=g;d.height=c.height=e;t(d);return c},_reglType:"framebuffer",_framebuffer:d,destroy:function(){q(d);Z(d)},use:function(a){G.setFBO({framebuffer:c},a)}})}var G={cur:null,next:null,dirty:!1,setFBO:null},Gb=["rgba"],J=["rgba4","rgb565","rgb5 a1"];a.ext_srgb&&J.push("srgba");a.ext_color_buffer_half_float&&J.push("rgba16f","rgb16f");a.webgl_color_buffer_float&&J.push("rgba32f");var y=["uint8"];a.oes_texture_half_float&&y.push("half float","float16");
a.oes_texture_float&&y.push("float","float32");var x=0,Fa={};return R(G,{getFramebuffer:function(a){return"function"===typeof a&&"framebuffer"===a._reglType&&(a=a._framebuffer,a instanceof ka)?a:null},create:I,createCube:function(a){function b(a){var g,e={color:null},f=0,m=null;g="rgba";var h="uint8",n=1;if("number"===typeof a)f=a|0;else if(a){"shape"in a?f=a.shape[0]:("radius"in a&&(f=a.radius|0),"width"in a?f=a.width|0:"height"in a&&(f=a.height|0));if("color"in a||"colors"in a)m=a.color||a.colors,
Array.isArray(m);m||("colorCount"in a&&(n=a.colorCount|0),"colorType"in a&&(h=a.colorType),"colorFormat"in a&&(g=a.colorFormat));"depth"in a&&(e.depth=a.depth);"stencil"in a&&(e.stencil=a.stencil);"depthStencil"in a&&(e.depthStencil=a.depthStencil)}else f=1;if(m)if(Array.isArray(m))for(a=[],g=0;g<m.length;++g)a[g]=m[g];else a=[m];else for(a=Array(n),m={radius:f,format:g,type:h},g=0;g<n;++g)a[g]=d.createCube(m);e.color=Array(a.length);for(g=0;g<a.length;++g)n=a[g],f=f||n.width,e.color[g]={target:34069,
data:a[g]};for(g=0;6>g;++g){for(n=0;n<a.length;++n)e.color[n].target=34069+g;0<g&&(e.depth=c[0].depth,e.stencil=c[0].stencil,e.depthStencil=c[0].depthStencil);if(c[g])c[g](e);else c[g]=I(e)}return R(b,{width:f,height:f,color:a})}var c=Array(6);b(a);return R(b,{faces:c,resize:function(a){var d=a|0;if(d===b.width)return b;var g=b.color;for(a=0;a<g.length;++a)g[a].resize(d);for(a=0;6>a;++a)c[a].resize(d);b.width=b.height=d;return b},_reglType:"framebufferCube",destroy:function(){c.forEach(function(a){a.destroy()})}})},
clear:function(){P(Fa).forEach(q)},restore:function(){G.cur=null;G.next=null;G.dirty=!0;P(Fa).forEach(function(a){a.framebuffer=b.createFramebuffer();t(a)})}})}function ob(){this.w=this.z=this.y=this.x=this.state=0;this.buffer=null;this.size=0;this.normalized=!1;this.type=5126;this.divisor=this.stride=this.offset=0}function oc(b,a,c,d,g,e,f){function h(b){if(b!==Ra.currentVAO){var c=a.oes_vertex_array_object;b?c.bindVertexArrayOES(b.vao):c.bindVertexArrayOES(null);Ra.currentVAO=b}}function k(c){if(c!==
Ra.currentVAO){if(c)c.bindAttrs();else{for(var d=a.angle_instanced_arrays,g=0;g<v.length;++g){var e=v[g];e.buffer?(b.enableVertexAttribArray(g),e.buffer.bind(),b.vertexAttribPointer(g,e.size,e.type,e.normalized,e.stride,e.offfset),d&&e.divisor&&d.vertexAttribDivisorANGLE(g,e.divisor)):(b.disableVertexAttribArray(g),b.vertexAttrib4f(g,e.x,e.y,e.z,e.w))}f.elements?b.bindBuffer(34963,f.elements.buffer.buffer):b.bindBuffer(34963,null)}Ra.currentVAO=c}}function l(){P(Z).forEach(function(a){a.destroy()})}
function p(){this.id=++ka;this.attributes=[];this.elements=null;this.ownsElements=!1;this.offset=this.count=0;this.instances=-1;this.primitive=4;var b=a.oes_vertex_array_object;this.vao=b?b.createVertexArrayOES():null;Z[this.id]=this;this.buffers=[]}function z(){a.oes_vertex_array_object&&P(Z).forEach(function(a){a.refresh()})}var q=c.maxAttributes,v=Array(q);for(c=0;c<q;++c)v[c]=new ob;var ka=0,Z={},Ra={Record:ob,scope:{},state:v,currentVAO:null,targetVAO:null,restore:a.oes_vertex_array_object?z:
function(){},createVAO:function(a){function b(a){var d;Array.isArray(a)?(d=a,c.elements&&c.ownsElements&&c.elements.destroy(),c.elements=null,c.ownsElements=!1,c.offset=0,c.count=0,c.instances=-1,c.primitive=4):(a.elements?(d=a.elements,c.ownsElements?("function"===typeof d&&"elements"===d._reglType?c.elements.destroy():c.elements(d),c.ownsElements=!1):e.getElements(a.elements)?(c.elements=a.elements,c.ownsElements=!1):(c.elements=e.create(a.elements),c.ownsElements=!0)):(c.elements=null,c.ownsElements=
!1),d=a.attributes,c.offset=0,c.count=-1,c.instances=-1,c.primitive=4,c.elements&&(c.count=c.elements._elements.vertCount,c.primitive=c.elements._elements.primType),"offset"in a&&(c.offset=a.offset|0),"count"in a&&(c.count=a.count|0),"instances"in a&&(c.instances=a.instances|0),"primitive"in a&&(c.primitive=$a[a.primitive]));a={};var f=c.attributes;f.length=d.length;for(var h=0;h<d.length;++h){var n=d[h],k=f[h]=new ob,p=n.data||n;if(Array.isArray(p)||O(p)||ta(p)){var l;c.buffers[h]&&(l=c.buffers[h],
O(p)&&l._buffer.byteLength>=p.byteLength?l.subdata(p):(l.destroy(),c.buffers[h]=null));c.buffers[h]||(l=c.buffers[h]=g.create(n,34962,!1,!0));k.buffer=g.getBuffer(l);k.size=k.buffer.dimension|0;k.normalized=!1;k.type=k.buffer.dtype;k.offset=0;k.stride=0;k.divisor=0;k.state=1;a[h]=1}else g.getBuffer(n)?(k.buffer=g.getBuffer(n),k.size=k.buffer.dimension|0,k.normalized=!1,k.type=k.buffer.dtype,k.offset=0,k.stride=0,k.divisor=0,k.state=1):g.getBuffer(n.buffer)?(k.buffer=g.getBuffer(n.buffer),k.size=(+n.size||
k.buffer.dimension)|0,k.normalized=!!n.normalized||!1,k.type="type"in n?Sa[n.type]:k.buffer.dtype,k.offset=(n.offset||0)|0,k.stride=(n.stride||0)|0,k.divisor=(n.divisor||0)|0,k.state=1):"x"in n&&(k.x=+n.x||0,k.y=+n.y||0,k.z=+n.z||0,k.w=+n.w||0,k.state=2)}for(l=0;l<c.buffers.length;++l)!a[l]&&c.buffers[l]&&(c.buffers[l].destroy(),c.buffers[l]=null);c.refresh();return b}var c=new p;d.vaoCount+=1;b.destroy=function(){for(var a=0;a<c.buffers.length;++a)c.buffers[a]&&c.buffers[a].destroy();c.buffers.length=
0;c.ownsElements&&(c.elements.destroy(),c.elements=null,c.ownsElements=!1);c.destroy()};b._vao=c;b._reglType="vao";return b(a)},getVAO:function(a){return"function"===typeof a&&a._vao?a._vao:null},destroyBuffer:function(a){for(var c=0;c<v.length;++c){var d=v[c];d.buffer===a&&(b.disableVertexAttribArray(c),d.buffer=null)}},setVAO:a.oes_vertex_array_object?h:k,clear:a.oes_vertex_array_object?l:function(){}};p.prototype.bindAttrs=function(){for(var c=a.angle_instanced_arrays,d=this.attributes,g=0;g<d.length;++g){var f=
d[g];f.buffer?(b.enableVertexAttribArray(g),b.bindBuffer(34962,f.buffer.buffer),b.vertexAttribPointer(g,f.size,f.type,f.normalized,f.stride,f.offset),c&&f.divisor&&c.vertexAttribDivisorANGLE(g,f.divisor)):(b.disableVertexAttribArray(g),b.vertexAttrib4f(g,f.x,f.y,f.z,f.w))}for(c=d.length;c<q;++c)b.disableVertexAttribArray(c);(c=e.getElements(this.elements))?b.bindBuffer(34963,c.buffer.buffer):b.bindBuffer(34963,null)};p.prototype.refresh=function(){var b=a.oes_vertex_array_object;b&&(b.bindVertexArrayOES(this.vao),
this.bindAttrs(),Ra.currentVAO=null,b.bindVertexArrayOES(null))};p.prototype.destroy=function(){if(this.vao){var b=a.oes_vertex_array_object;this===Ra.currentVAO&&(Ra.currentVAO=null,b.bindVertexArrayOES(null));b.deleteVertexArrayOES(this.vao);this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1);Z[this.id]&&(delete Z[this.id],--d.vaoCount)};return Ra}function pc(b,a,c,d){function g(a,b,c,d){this.name=a;this.id=b;this.location=c;this.info=d}function e(a,
b){for(var c=0;c<a.length;++c)if(a[c].id===b.id){a[c].location=b.location;return}a.push(b)}function f(c,d,g){g=35632===c?l:p;var e=g[d];if(!e){var m=a.str(d),e=b.createShader(c);b.shaderSource(e,m);b.compileShader(e);g[d]=e}return e}function h(a,b){this.id=v++;this.fragId=a;this.vertId=b;this.program=null;this.uniforms=[];this.attributes=[];this.refCount=1;d.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function k(c,h,p){var l;l=f(35632,c.fragId);var u=f(35633,c.vertId);h=c.program=b.createProgram();
b.attachShader(h,l);b.attachShader(h,u);if(p)for(l=0;l<p.length;++l)u=p[l],b.bindAttribLocation(h,u[0],u[1]);b.linkProgram(h);u=b.getProgramParameter(h,35718);d.profile&&(c.stats.uniformsCount=u);var z=c.uniforms;for(l=0;l<u;++l)if(p=b.getActiveUniform(h,l))if(1<p.size)for(var K=0;K<p.size;++K){var q=p.name.replace("[0]","["+K+"]");e(z,new g(q,a.id(q),b.getUniformLocation(h,q),p))}else e(z,new g(p.name,a.id(p.name),b.getUniformLocation(h,p.name),p));u=b.getProgramParameter(h,35721);d.profile&&(c.stats.attributesCount=
u);c=c.attributes;for(l=0;l<u;++l)(p=b.getActiveAttrib(h,l))&&e(c,new g(p.name,a.id(p.name),b.getAttribLocation(h,p.name),p))}var l={},p={},z={},q=[],v=0;d.profile&&(c.getMaxUniformsCount=function(){var a=0;q.forEach(function(b){b.stats.uniformsCount>a&&(a=b.stats.uniformsCount)});return a},c.getMaxAttributesCount=function(){var a=0;q.forEach(function(b){b.stats.attributesCount>a&&(a=b.stats.attributesCount)});return a});return{clear:function(){var a=b.deleteShader.bind(b);P(l).forEach(a);l={};P(p).forEach(a);
p={};q.forEach(function(a){b.deleteProgram(a.program)});q.length=0;z={};c.shaderCount=0},program:function(a,d,g,e){var f=z[d];f||(f=z[d]={});var m=f[a];if(m&&(m.refCount++,!e))return m;var n=new h(d,a);c.shaderCount++;k(n,g,e);m||(f[a]=n);q.push(n);return R(n,{destroy:function(){n.refCount--;if(0>=n.refCount){b.deleteProgram(n.program);var a=q.indexOf(n);q.splice(a,1);c.shaderCount--}0>=f[n.vertId].refCount&&(b.deleteShader(p[n.vertId]),delete p[n.vertId],delete z[n.fragId][n.vertId]);Object.keys(z[n.fragId]).length||
(b.deleteShader(l[n.fragId]),delete l[n.fragId],delete z[n.fragId])}})},restore:function(){l={};p={};for(var a=0;a<q.length;++a)k(q[a],null,q[a].attributes.map(function(a){return[a.location,a.name]}))},shader:f,frag:-1,vert:-1}}function qc(b,a,c,d,g,e,f){function h(g){var e;e=null===a.next?5121:a.next.colorAttachments[0].texture._texture.type;var f=0,m=0,n=d.framebufferWidth,k=d.framebufferHeight,l=null;O(g)?l=g:g&&(f=g.x|0,m=g.y|0,n=(g.width||d.framebufferWidth-f)|0,k=(g.height||d.framebufferHeight-
m)|0,l=g.data||null);c();g=n*k*4;l||(5121===e?l=new Uint8Array(g):5126===e&&(l=l||new Float32Array(g)));b.pixelStorei(3333,4);b.readPixels(f,m,n,k,6408,e,l);return l}function k(b){var c;a.setFBO({framebuffer:b.framebuffer},function(){c=h(b)});return c}return function(a){return a&&"framebuffer"in a?k(a):h(a)}}function Na(b){return Array.prototype.slice.call(b)}function Oa(b){return Na(b).join("")}function rc(){function b(){var a=[],b=[];return R(function(){a.push.apply(a,Na(arguments))},{def:function(){var d=
"v"+c++;b.push(d);0<arguments.length&&(a.push(d,"="),a.push.apply(a,Na(arguments)),a.push(";"));return d},toString:function(){return Oa([0<b.length?"var "+b.join(",")+";":"",Oa(a)])}})}function a(){function a(b,g){d(b,g,"=",c.def(b,g),";")}var c=b(),d=b(),g=c.toString,e=d.toString;return R(function(){c.apply(c,Na(arguments))},{def:c.def,entry:c,exit:d,save:a,set:function(b,d,g){a(b,d);c(b,d,"=",g,";")},toString:function(){return g()+e()}})}var c=0,d=[],g=[],e=b(),f={};return{global:e,link:function(a){for(var b=
0;b<g.length;++b)if(g[b]===a)return d[b];b="g"+c++;d.push(b);g.push(a);return b},block:b,proc:function(b,c){function d(){var a="a"+g.length;g.push(a);return a}var g=[];c=c||0;for(var e=0;e<c;++e)d();var e=a(),m=e.toString;return f[b]=R(e,{arg:d,toString:function(){return Oa(["function ",b,"(",g.join(),"){",m(),"}"])}})},scope:a,cond:function(){var b=Oa(arguments),c=a(),d=a(),g=c.toString,e=d.toString;return R(c,{then:function(){c.apply(c,Na(arguments));return this},"else":function(){d.apply(d,Na(arguments));
return this},toString:function(){var a=e();a&&(a="else{"+a+"}");return Oa(["if(",b,"){",g(),"}",a])}})},compile:function(){var a=['"use strict";',e];Object.keys(f).forEach(function(b){a.push(f[b].toString())});var b=Oa(a).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");console.log(b);return createInterpreterEnvironment().compile(d,g,b,Object.keys(f))}}}function Va(b){return Array.isArray(b)||O(b)||ta(b)}function Ob(b){return b.sort(function(a,b){return"viewport"===a?-1:"viewport"===b?
1:a<b?-1:1})}function E(b,a,c,d){this.thisDep=b;this.contextDep=a;this.propDep=c;this.append=d}function Ca(b){return b&&!(b.thisDep||b.contextDep||b.propDep)}function M(b){return new E(!1,!1,!1,b)}function Q(b,a){var c=b.type;if(0===c)return c=b.data.length,new E(!0,1<=c,2<=c,a);if(4===c)return c=b.data,new E(c.thisDep,c.contextDep,c.propDep,a);if(5===c)return new E(!1,!1,!1,a);if(6===c){for(var d=c=!1,g=!1,e=0;e<b.data.length;++e){var f=b.data[e];1===f.type?g=!0:2===f.type?d=!0:3===f.type?c=!0:0===
f.type?(c=!0,f=f.data,1<=f&&(d=!0),2<=f&&(g=!0)):4===f.type&&(c=c||f.data.thisDep,d=d||f.data.contextDep,g=g||f.data.propDep)}return new E(c,d,g,a)}return new E(3===c,2===c,1===c,a)}function sc(b,a,c,d,g,e,f,h,k,l,p,q,ja,v,ka){function Z(a){return a.replace(".","_")}function y(a,b,c){var d=Z(a);Ma.push(a);Aa[d]=U[d]=!!c;va[d]=b}function t(a,b,c){var d=Z(a);Ma.push(a);Array.isArray(c)?(U[d]=c.slice(),Aa[d]=c.slice()):U[d]=Aa[d]=c;B[d]=b}function I(){var b=rc(),c=b.link,d=b.global;b.id=lc++;b.batchId=
"0";var g=c(wa),e=b.shared={props:"a0"};Object.keys(wa).forEach(function(a){e[a]=d.def(g,".",a)});var f=b.next={},m=b.current={};Object.keys(B).forEach(function(a){Array.isArray(U[a])&&(f[a]=d.def(e.next,".",a),m[a]=d.def(e.current,".",a))});var h=b.constants={};Object.keys(Ba).forEach(function(a){h[a]=d.def(JSON.stringify(Ba[a]))});b.invoke=function(a,d){switch(d.type){case 0:var g=["this",e.context,e.props,b.batchId];return a.def(c(d.data),".call(",g.slice(0,Math.max(d.data.length+1,4)),")");case 1:return a.def(e.props,
d.data);case 2:return a.def(e.context,d.data);case 3:return a.def("this",d.data);case 4:return d.data.append(b,a),d.data.ref;case 5:return d.data.toString();case 6:return d.data.map(function(c){return b.invoke(a,c)})}};b.attribCache={};var Ha={};b.scopeAttrib=function(b){b=a.id(b);if(b in Ha)return Ha[b];var d=l.scope[b];d||(d=l.scope[b]=new da);return Ha[b]=c(d)};return b}function G(a){var b=a["static"];a=a.dynamic;var c;if("profile"in b){var d=!!b.profile;c=M(function(a,b){return d});c.enable=d}else if("profile"in
a){var g=a.profile;c=Q(g,function(a,b){return a.invoke(b,g)})}return c}function H(a,b){var c=a["static"],d=a.dynamic;if("framebuffer"in c){var g=c.framebuffer;return g?(g=h.getFramebuffer(g),M(function(a,b){var c=a.link(g),d=a.shared;b.set(d.framebuffer,".next",c);d=d.context;b.set(d,".framebufferWidth",c+".width");b.set(d,".framebufferHeight",c+".height");return c})):M(function(a,b){var c=a.shared;b.set(c.framebuffer,".next","null");c=c.context;b.set(c,".framebufferWidth",c+".drawingBufferWidth");
b.set(c,".framebufferHeight",c+".drawingBufferHeight");return"null"})}if("framebuffer"in d){var e=d.framebuffer;return Q(e,function(a,b){var c=a.invoke(b,e),d=a.shared,g=d.framebuffer,c=b.def(g,".getFramebuffer(",c,")");b.set(g,".next",c);d=d.context;b.set(d,".framebufferWidth",c+"?"+c+".width:"+d+".drawingBufferWidth");b.set(d,".framebufferHeight",c+"?"+c+".height:"+d+".drawingBufferHeight");return c})}return null}function J(a,b,c){function d(a){if(a in g){var c=g[a];a=!0;var f=c.x|0,m=c.y|0,h,k;
"width"in c?h=c.width|0:a=!1;"height"in c?k=c.height|0:a=!1;return new E(!a&&b&&b.thisDep,!a&&b&&b.contextDep,!a&&b&&b.propDep,function(a,b){var d=a.shared.context,g=h;"width"in c||(g=b.def(d,".","framebufferWidth","-",f));var e=k;"height"in c||(e=b.def(d,".","framebufferHeight","-",m));return[f,m,g,e]})}if(a in e){var F=e[a];a=Q(F,function(a,b){var c=a.invoke(b,F),d=a.shared.context,g=b.def(c,".x|0"),e=b.def(c,".y|0"),f=b.def('"width" in ',c,"?",c,".width|0:","(",d,".","framebufferWidth","-",g,")"),
c=b.def('"height" in ',c,"?",c,".height|0:","(",d,".","framebufferHeight","-",e,")");return[g,e,f,c]});b&&(a.thisDep=a.thisDep||b.thisDep,a.contextDep=a.contextDep||b.contextDep,a.propDep=a.propDep||b.propDep);return a}return b?new E(b.thisDep,b.contextDep,b.propDep,function(a,b){var c=a.shared.context;return[0,0,b.def(c,".","framebufferWidth"),b.def(c,".","framebufferHeight")]}):null}var g=a["static"],e=a.dynamic;if(a=d("viewport")){var f=a;a=new E(a.thisDep,a.contextDep,a.propDep,function(a,b){var c=
f.append(a,b),d=a.shared.context;b.set(d,".viewportWidth",c[2]);b.set(d,".viewportHeight",c[3]);return c})}return{viewport:a,scissor_box:d("scissor.box")}}function S(a,b){var c=a["static"];if("string"===typeof c.frag&&"string"===typeof c.vert){if(0<Object.keys(b.dynamic).length)return null;var c=b["static"],d=Object.keys(c);if(0<d.length&&"number"===typeof c[d[0]]){for(var g=[],e=0;e<d.length;++e)g.push([c[d[e]]|0,d[e]]);return g}}return null}function x(b,c,d){function g(b){if(b in e){var c=a.id(e[b]);
b=M(function(){return c});b.id=c;return b}if(b in f){var d=f[b];return Q(d,function(a,b){var c=a.invoke(b,d);return b.def(a.shared.strings,".id(",c,")")})}return null}var e=b["static"],f=b.dynamic,m=g("frag"),h=g("vert"),k=null;Ca(m)&&Ca(h)?(k=p.program(h.id,m.id,null,d),b=M(function(a,b){return a.link(k)})):b=new E(m&&m.thisDep||h&&h.thisDep,m&&m.contextDep||h&&h.contextDep,m&&m.propDep||h&&h.propDep,function(a,b){var c=a.shared.shader,d;d=m?m.append(a,b):b.def(c,".","frag");var g;g=h?h.append(a,
b):b.def(c,".","vert");return b.def(c+".program("+g+","+d+")")});return{frag:m,vert:h,progVar:b,program:k}}function Fa(a,b){function c(a,b){if(a in d){var e=d[a]|0;b?f.offset=e:f.instances=e;return M(function(a,c){b&&(a.OFFSET=e);return e})}if(a in g){var m=g[a];return Q(m,function(a,c){var d=a.invoke(c,m);b&&(a.OFFSET=d);return d})}if(b){if(n)return M(function(a,b){return a.OFFSET=0});if(h)return new E(k.thisDep,k.contextDep,k.propDep,function(a,b){return b.def(a.shared.vao+".currentVAO?"+a.shared.vao+
".currentVAO.offset:0")})}else if(h)return new E(k.thisDep,k.contextDep,k.propDep,function(a,b){return b.def(a.shared.vao+".currentVAO?"+a.shared.vao+".currentVAO.instances:-1")});return null}var d=a["static"],g=a.dynamic,f={},h=!1,k=function(){if("vao"in d){var a=d.vao;null!==a&&null===l.getVAO(a)&&(a=l.createVAO(a));h=!0;f.vao=a;return M(function(b){var c=l.getVAO(a);return c?b.link(c):"null"})}if("vao"in g){h=!0;var b=g.vao;return Q(b,function(a,c){var d=a.invoke(c,b);return c.def(a.shared.vao+
".getVAO("+d+")")})}return null}(),n=!1,p=function(){if("elements"in d){var a=d.elements;f.elements=a;if(Va(a)){var b=f.elements=e.create(a,!0),a=e.getElements(b);n=!0}else a&&(a=e.getElements(a),n=!0);b=M(function(b,c){if(a){var d=b.link(a);return b.ELEMENTS=d}return b.ELEMENTS=null});b.value=a;return b}if("elements"in g){n=!0;var c=g.elements;return Q(c,function(a,b){var d=a.shared,g=d.isBufferArgs,d=d.elements,e=a.invoke(b,c),f=b.def("null"),g=b.def(g,"(",e,")"),e=a.cond(g).then(f,"=",d,".createStream(",
e,");")["else"](f,"=",d,".getElements(",e,");");b.entry(e);b.exit(a.cond(g).then(d,".destroyStream(",f,");"));return a.ELEMENTS=f})}return h?new E(k.thisDep,k.contextDep,k.propDep,function(a,b){return b.def(a.shared.vao+".currentVAO?"+a.shared.elements+".getElements("+a.shared.vao+".currentVAO.elements):null")}):null}(),sa=c("offset",!0),u=function(){if("primitive"in d){var a=d.primitive;f.primitive=a;return M(function(b,c){return $a[a]})}if("primitive"in g){var b=g.primitive;return Q(b,function(a,
c){var d=a.constants.primTypes,g=a.invoke(c,b);return c.def(d,"[",g,"]")})}return n?Ca(p)?p.value?M(function(a,b){return b.def(a.ELEMENTS,".primType")}):M(function(){return 4}):new E(p.thisDep,p.contextDep,p.propDep,function(a,b){var c=a.ELEMENTS;return b.def(c,"?",c,".primType:",4)}):h?new E(k.thisDep,k.contextDep,k.propDep,function(a,b){return b.def(a.shared.vao+".currentVAO?"+a.shared.vao+".currentVAO.primitive:4")}):null}(),r=function(){if("count"in d){var a=d.count|0;f.count=a;return M(function(){return a})}if("count"in
g){var b=g.count;return Q(b,function(a,c){return a.invoke(c,b)})}return n?Ca(p)?p?sa?new E(sa.thisDep,sa.contextDep,sa.propDep,function(a,b){return b.def(a.ELEMENTS,".vertCount-",a.OFFSET)}):M(function(a,b){return b.def(a.ELEMENTS,".vertCount")}):M(function(){return-1}):new E(p.thisDep||sa.thisDep,p.contextDep||sa.contextDep,p.propDep||sa.propDep,function(a,b){var c=a.ELEMENTS;return a.OFFSET?b.def(c,"?",c,".vertCount-",a.OFFSET,":-1"):b.def(c,"?",c,".vertCount:-1")}):h?new E(k.thisDep,k.contextDep,
k.propDep,function(a,b){return b.def(a.shared.vao,".currentVAO?",a.shared.vao,".currentVAO.count:-1")}):null}(),q=c("instances",!1);return{elements:p,primitive:u,count:r,instances:q,offset:sa,vao:k,vaoActive:h,elementsActive:n,"static":f}}function D(a,b){var c=a["static"],d=a.dynamic,g={};Ma.forEach(function(a){function b(f,m){if(a in c){var h=f(c[a]);g[e]=M(function(){return h})}else if(a in d){var k=d[a];g[e]=Q(k,function(a,b){return m(a,b,a.invoke(b,k))})}}var e=Z(a);switch(a){case "cull.enable":case "blend.enable":case "dither":case "stencil.enable":case "depth.enable":case "scissor.enable":case "polygonOffset.enable":case "sample.alpha":case "sample.enable":case "depth.mask":return b(function(a){return a},
function(a,b,c){return c});case "depth.func":return b(function(a){return fb[a]},function(a,b,c){return b.def(a.constants.compareFuncs,"[",c,"]")});case "depth.range":return b(function(a){return a},function(a,b,c){a=b.def("+",c,"[0]");b=b.def("+",c,"[1]");return[a,b]});case "blend.func":return b(function(a){return[Wa["srcRGB"in a?a.srcRGB:a.src],Wa["dstRGB"in a?a.dstRGB:a.dst],Wa["srcAlpha"in a?a.srcAlpha:a.src],Wa["dstAlpha"in a?a.dstAlpha:a.dst]]},function(a,b,c){function d(a,g){return b.def('"',
a,g,'" in ',c,"?",c,".",a,g,":",c,".",a)}a=a.constants.blendFuncs;var g=d("src","RGB"),e=d("dst","RGB"),g=b.def(a,"[",g,"]"),f=b.def(a,"[",d("src","Alpha"),"]"),e=b.def(a,"[",e,"]");a=b.def(a,"[",d("dst","Alpha"),"]");return[g,e,f,a]});case "blend.equation":return b(function(a){if("string"===typeof a)return[oa[a],oa[a]];if("object"===typeof a)return[oa[a.rgb],oa[a.alpha]]},function(a,b,c){var d=a.constants.blendEquations,g=b.def(),e=b.def();a=a.cond("typeof ",c,'==="string"');a.then(g,"=",e,"=",d,
"[",c,"];");a["else"](g,"=",d,"[",c,".rgb];",e,"=",d,"[",c,".alpha];");b(a);return[g,e]});case "blend.color":return b(function(a){return fa(4,function(b){return+a[b]})},function(a,b,c){return fa(4,function(a){return b.def("+",c,"[",a,"]")})});case "stencil.mask":return b(function(a){return a|0},function(a,b,c){return b.def(c,"|0")});case "stencil.func":return b(function(a){return[fb[a.cmp||"keep"],a.ref||0,"mask"in a?a.mask:-1]},function(a,b,c){a=b.def('"cmp" in ',c,"?",a.constants.compareFuncs,"[",
c,".cmp]",":",7680);var d=b.def(c,".ref|0");b=b.def('"mask" in ',c,"?",c,".mask|0:-1");return[a,d,b]});case "stencil.opFront":case "stencil.opBack":return b(function(b){return["stencil.opBack"===a?1029:1028,Xa[b.fail||"keep"],Xa[b.zfail||"keep"],Xa[b.zpass||"keep"]]},function(b,c,d){function g(a){return c.def('"',a,'" in ',d,"?",e,"[",d,".",a,"]:",7680)}var e=b.constants.stencilOps;return["stencil.opBack"===a?1029:1028,g("fail"),g("zfail"),g("zpass")]});case "polygonOffset.offset":return b(function(a){return[a.factor|
0,a.units|0]},function(a,b,c){a=b.def(c,".factor|0");b=b.def(c,".units|0");return[a,b]});case "cull.face":return b(function(a){var b=0;"front"===a?b=1028:"back"===a&&(b=1029);return b},function(a,b,c){return b.def(c,'==="front"?',1028,":",1029)});case "lineWidth":return b(function(a){return a},function(a,b,c){return c});case "frontFace":return b(function(a){return zb[a]},function(a,b,c){return b.def(c+'==="cw"?2304:2305')});case "colorMask":return b(function(a){return a.map(function(a){return!!a})},
function(a,b,c){return fa(4,function(a){return"!!"+c+"["+a+"]"})});case "sample.coverage":return b(function(a){return["value"in a?a.value:1,!!a.invert]},function(a,b,c){a=b.def('"value" in ',c,"?+",c,".value:1");b=b.def("!!",c,".invert");return[a,b]})}});return g}function Ua(a,b){var c=a["static"],d=a.dynamic,g={};Object.keys(c).forEach(function(a){var b=c[a],d;if("number"===typeof b||"boolean"===typeof b)d=M(function(){return b});else if("function"===typeof b){var e=b._reglType;if("texture2d"===
e||"textureCube"===e)d=M(function(a){return a.link(b)});else if("framebuffer"===e||"framebufferCube"===e)d=M(function(a){return a.link(b.color[0])})}else za(b)&&(d=M(function(a){return a.global.def("[",fa(b.length,function(a){return b[a]}),"]")}));d.value=b;g[a]=d});Object.keys(d).forEach(function(a){var b=d[a];g[a]=Q(b,function(a,c){return a.invoke(c,b)})});return g}function Y(b,c){var d=b["static"],e=b.dynamic,f={};Object.keys(d).forEach(function(b){var c=d[b],e=a.id(b),m=new da;if(Va(c))m.state=
1,m.buffer=g.getBuffer(g.create(c,34962,!1,!0)),m.type=0;else{var h=g.getBuffer(c);if(h)m.state=1,m.buffer=h,m.type=0;else if("constant"in c){var k=c.constant;m.buffer="null";m.state=2;"number"===typeof k?m.x=k:Pa.forEach(function(a,b){b<k.length&&(m[a]=k[b])})}else{var h=Va(c.buffer)?g.getBuffer(g.create(c.buffer,34962,!1,!0)):g.getBuffer(c.buffer),n=c.offset|0,F=c.stride|0,l=c.size|0,qa=!!c.normalized,p=0;"type"in c&&(p=Sa[c.type]);c=c.divisor|0;m.buffer=h;m.state=1;m.size=l;m.normalized=qa;m.type=
p||h.dtype;m.offset=n;m.stride=F;m.divisor=c}}f[b]=M(function(a,b){var c=a.attribCache;if(e in c)return c[e];var d={isStream:!1};Object.keys(m).forEach(function(a){d[a]=m[a]});m.buffer&&(d.buffer=a.link(m.buffer),d.type=d.type||d.buffer+".dtype");return c[e]=d})});Object.keys(e).forEach(function(a){var b=e[a];f[a]=Q(b,function(a,c){function d(a){c(h[a],"=",g,".",a,"|0;")}var g=a.invoke(c,b),e=a.shared,f=a.constants,m=e.isBufferArgs,e=e.buffer,h={isStream:c.def(!1)},k=new da;k.state=1;Object.keys(k).forEach(function(a){h[a]=
c.def(""+k[a])});var n=h.buffer,F=h.type;c("if(",m,"(",g,")){",h.isStream,"=true;",n,"=",e,".createStream(",34962,",",g,");",F,"=",n,".dtype;","}else{",n,"=",e,".getBuffer(",g,");","if(",n,"){",F,"=",n,".dtype;",'}else if("constant" in ',g,"){",h.state,"=",2,";","if(typeof "+g+'.constant === "number"){',h[Pa[0]],"=",g,".constant;",Pa.slice(1).map(function(a){return h[a]}).join("="),"=0;","}else{",Pa.map(function(a,b){return h[a]+"="+g+".constant.length>"+b+"?"+g+".constant["+b+"]:0;"}).join(""),"}}else{",
"if(",m,"(",g,".buffer)){",n,"=",e,".createStream(",34962,",",g,".buffer);","}else{",n,"=",e,".getBuffer(",g,".buffer);","}",F,'="type" in ',g,"?",f.glTypes,"[",g,".type]:",n,".dtype;",h.normalized,"=!!",g,".normalized;");d("size");d("offset");d("stride");d("divisor");c("}}");c.exit("if(",h.isStream,"){",e,".destroyStream(",n,");","}");return h})});return f}function A(a){var b=a["static"],c=a.dynamic,d={};Object.keys(b).forEach(function(a){var c=b[a];d[a]=M(function(a,b){return"number"===typeof c||
"boolean"===typeof c?""+c:a.link(c)})});Object.keys(c).forEach(function(a){var b=c[a];d[a]=Q(b,function(a,c){return a.invoke(c,b)})});return d}function ba(a,b,d,g,e){function f(a){var b=k[a];b&&(p[a]=b)}var m=S(a,b),h=H(a,e),k=J(a,h,e),n=Fa(a,e),p=D(a,e),u=x(a,e,m);f("viewport");f(Z("scissor.box"));var r=0<Object.keys(p).length,h={framebuffer:h,draw:n,shader:u,state:p,dirty:r,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};h.profile=G(a,e);h.uniforms=Ua(d,e);h.drawVAO=h.scopeVAO=n.vao;if(!h.drawVAO&&
u.program&&!m&&c.angle_instanced_arrays&&n["static"].elements){var q=!0;a=u.program.attributes.map(function(a){a=b["static"][a];q=q&&!!a;return a});if(q&&0<a.length){var z=l.getVAO(l.createVAO({attributes:a,elements:n["static"].elements}));h.drawVAO=new E(null,null,null,function(a,b){return a.link(z)});h.useVAO=!0}}m?h.useVAO=!0:h.attributes=Y(b,e);h.context=A(g,e);return h}function X(a,b,c){var d=a.shared.context,g=a.scope();Object.keys(c).forEach(function(e){b.save(d,"."+e);var f=c[e].append(a,
b);Array.isArray(f)?g(d,".",e,"=[",f.join(),"];"):g(d,".",e,"=",f,";")});b(g)}function N(a,b,c,d){var g=a.shared,e=g.gl,f=g.framebuffer,m;W&&(m=b.def(g.extensions,".webgl_draw_buffers"));var h=a.constants,g=h.drawBuffer,h=h.backBuffer;a=c?c.append(a,b):b.def(f,".next");d||b("if(",a,"!==",f,".cur){");b("if(",a,"){",e,".bindFramebuffer(",36160,",",a,".framebuffer);");W&&b(m,".drawBuffersWEBGL(",g,"[",a,".colorAttachments.length]);");b("}else{",e,".bindFramebuffer(",36160,",null);");W&&b(m,".drawBuffersWEBGL(",
h,");");b("}",f,".cur=",a,";");d||b("}")}function aa(a,b,c){var d=a.shared,g=d.gl,e=a.current,f=a.next,m=d.current,h=d.next,k=a.cond(m,".dirty");Ma.forEach(function(b){b=Z(b);if(!(b in c.state)){var d,n;if(b in f){d=f[b];n=e[b];var l=fa(U[b].length,function(a){return k.def(d,"[",a,"]")});k(a.cond(l.map(function(a,b){return a+"!=="+n+"["+b+"]"}).join("||")).then(g,".",B[b],"(",l,");",l.map(function(a,b){return n+"["+b+"]="+a}).join(";"),";"))}else d=k.def(h,".",b),l=a.cond(d,"!==",m,".",b),k(l),b in
va?l(a.cond(d).then(g,".enable(",va[b],");")["else"](g,".disable(",va[b],");"),m,".",b,"=",d,";"):l(g,".",B[b],"(",d,");",m,".",b,"=",d,";")}});0===Object.keys(c.state).length&&k(m,".dirty=false;");b(k)}function O(a,b,c,d){var g=a.shared,e=a.current,f=g.current,m=g.gl;Ob(Object.keys(c)).forEach(function(g){var h=c[g];if(!d||d(h)){var k=h.append(a,b);if(va[g]){var n=va[g];Ca(h)?k?b(m,".enable(",n,");"):b(m,".disable(",n,");"):b(a.cond(k).then(m,".enable(",n,");")["else"](m,".disable(",n,");"));b(f,
".",g,"=",k,";")}else if(za(k)){var l=e[g];b(m,".",B[g],"(",k,");",k.map(function(a,b){return l+"["+b+"]="+a}).join(";"),";")}else b(m,".",B[g],"(",k,");",f,".",g,"=",k,";")}})}function T(a,b){ca&&(a.instancing=b.def(a.shared.extensions,".angle_instanced_arrays"))}function L(a,b,c,d,g){function e(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function f(a){u=b.def();a(u,"=",e(),";");"string"===typeof g?a(n,".count+=",g,";"):a(n,".count++;");v&&(d?(r=b.def(),a(r,"=",p,".getNumPendingQueries();")):
a(p,".beginQuery(",n,");"))}function m(a){a(n,".cpuTime+=",e(),"-",u,";");v&&(d?a(p,".pushScopeStats(",r,",",p,".getNumPendingQueries(),",n,");"):a(p,".endQuery();"))}function h(a){var c=b.def(l,".profile");b(l,".profile=",a,";");b.exit(l,".profile=",c,";")}var k=a.shared,n=a.stats,l=k.current,p=k.timer;c=c.profile;var u,r;if(c){if(Ca(c)){c.enable?(f(b),m(b.exit),h("true")):h("false");return}c=c.append(a,b);h(c)}else c=b.def(l,".profile");k=a.block();f(k);b("if(",c,"){",k,"}");a=a.block();m(a);b.exit("if(",
c,"){",a,"}")}function la(a,b,c,d,g){function e(a){switch(a){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function f(c,d,g){function e(){b("if(!",l,".buffer){",k,".enableVertexAttribArray(",n,");}");var c=g.type,f;f=g.size?b.def(g.size,"||",d):d;b("if(",l,".type!==",c,"||",l,".size!==",f,"||",r.map(function(a){return l+"."+a+"!=="+g[a]}).join("||"),"){",k,".bindBuffer(",34962,",",p,".buffer);",k,".vertexAttribPointer(",
[n,f,c,g.normalized,g.stride,g.offset],");",l,".type=",c,";",l,".size=",f,";",r.map(function(a){return l+"."+a+"="+g[a]+";"}).join(""),"}");ca&&(c=g.divisor,b("if(",l,".divisor!==",c,"){",a.instancing,".vertexAttribDivisorANGLE(",[n,c],");",l,".divisor=",c,";}"))}function h(){b("if(",l,".buffer){",k,".disableVertexAttribArray(",n,");",l,".buffer=null;","}if(",Pa.map(function(a,b){return l+"."+a+"!=="+u[b]}).join("||"),"){",k,".vertexAttrib4f(",n,",",u,");",Pa.map(function(a,b){return l+"."+a+"="+
u[b]+";"}).join(""),"}")}var k=m.gl,n=b.def(c,".location"),l=b.def(m.attributes,"[",n,"]");c=g.state;var p=g.buffer,u=[g.x,g.y,g.z,g.w],r=["buffer","normalized","offset","stride"];1===c?e():2===c?h():(b("if(",c,"===",1,"){"),e(),b("}else{"),h(),b("}"))}var m=a.shared;d.forEach(function(d){var m=d.name,h=c.attributes[m],k;if(h){if(!g(h))return;k=h.append(a,b)}else{if(!g(Pb))return;var n=a.scopeAttrib(m);k={};Object.keys(new da).forEach(function(a){k[a]=b.def(n,".",a)})}f(a.link(d),e(d.info.type),k)})}
function V(b,c,d,g,e,f){for(var m=b.shared,h=m.gl,k,n=0;n<g.length;++n){var l=g[n],p=l.name,u=l.info.type,r=d.uniforms[p],l=b.link(l)+".location",q;if(r){if(!e(r))continue;if(Ca(r)){p=r.value;if(35678===u||35680===u)u=b.link(p._texture||p.color[0]._texture),c(h,".uniform1i(",l,",",u+".bind());"),c.exit(u,".unbind();");else if(35674===u||35675===u||35676===u)p=b.global.def("new Float32Array(["+Array.prototype.slice.call(p)+"])"),r=2,35675===u?r=3:35676===u&&(r=4),c(h,".uniformMatrix",r,"fv(",l,",false,",
p,");");else{switch(u){case 5126:k="1f";break;case 35664:k="2f";break;case 35665:k="3f";break;case 35666:k="4f";break;case 35670:k="1i";break;case 5124:k="1i";break;case 35671:k="2i";break;case 35667:k="2i";break;case 35672:k="3i";break;case 35668:k="3i";break;case 35673:k="4i";break;case 35669:k="4i"}c(h,".uniform",k,"(",l,",",za(p)?Array.prototype.slice.call(p):p,");")}continue}else q=r.append(b,c)}else{if(!e(Pb))continue;q=c.def(m.uniforms,"[",a.id(p),"]")}35678===u?c("if(",q,"&&",q,'._reglType==="framebuffer"){',
q,"=",q,".color[0];","}"):35680===u&&c("if(",q,"&&",q,'._reglType==="framebufferCube"){',q,"=",q,".color[0];","}");p=1;switch(u){case 35678:case 35680:u=c.def(q,"._texture");c(h,".uniform1i(",l,",",u,".bind());");c.exit(u,".unbind();");continue;case 5124:case 35670:k="1i";break;case 35667:case 35671:k="2i";p=2;break;case 35668:case 35672:k="3i";p=3;break;case 35669:case 35673:k="4i";p=4;break;case 5126:k="1f";break;case 35664:k="2f";p=2;break;case 35665:k="3f";p=3;break;case 35666:k="4f";p=4;break;
case 35674:k="Matrix2fv";break;case 35675:k="Matrix3fv";break;case 35676:k="Matrix4fv"}if("M"===k.charAt(0)){c(h,".uniform",k,"(",l,",");var l=Math.pow(u-35674+2,2),z=b.global.def("new Float32Array(",l,")");Array.isArray(q)?c("false,(",fa(l,function(a){return z+"["+a+"]="+q[a]}),",",z,")"):c("false,(Array.isArray(",q,")||",q," instanceof Float32Array)?",q,":(",fa(l,function(a){return z+"["+a+"]="+q+"["+a+"]"}),",",z,")");c(");")}else{if(1<p){for(var u=[],t=[],r=0;r<p;++r)Array.isArray(q)?t.push(q[r]):
t.push(c.def(q+"["+r+"]")),f&&u.push(c.def());f&&c("if(!",b.batchId,"||",u.map(function(a,b){return a+"!=="+t[b]}).join("||"),"){",u.map(function(a,b){return a+"="+t[b]+";"}).join(""));c(h,".uniform",k,"(",l,",",t.join(","),");")}else f&&(u=c.def(),c("if(!",b.batchId,"||",u,"!==",q,"){",u,"=",q,";")),c(h,".uniform",k,"(",l,",",q,");");f&&c("}")}}}function P(a,b,c,d){function g(e){var f=n[e];return f?f.contextDep&&d.contextDynamic||f.propDep?f.append(a,c):f.append(a,b):b.def(k,".",e)}function e(){function a(){c(t,
".drawElementsInstancedANGLE(",[p,q,v,u+"<<(("+v+"-5121)>>1)",z],");")}function b(){c(t,".drawArraysInstancedANGLE(",[p,u,q,z],");")}l&&"null"!==l?K?a():(c("if(",l,"){"),a(),c("}else{"),b(),c("}")):b()}function f(){function a(){c(h+".drawElements("+[p,q,v,u+"<<(("+v+"-5121)>>1)"]+");")}function b(){c(h+".drawArrays("+[p,u,q]+");")}l&&"null"!==l?K?a():(c("if(",l,"){"),a(),c("}else{"),b(),c("}")):b()}var m=a.shared,h=m.gl,k=m.draw,n=d.draw,l=function(){var g=n.elements,e=b;if(g){if(g.contextDep&&d.contextDynamic||
g.propDep)e=c;g=g.append(a,e);n.elementsActive&&e("if("+g+")"+h+".bindBuffer(34963,"+g+".buffer.buffer);")}else g=e.def(),e(g,"=",k,".","elements",";","if(",g,"){",h,".bindBuffer(",34963,",",g,".buffer.buffer);}","else if(",m.vao,".currentVAO){",g,"=",a.shared.elements+".getElements("+m.vao,".currentVAO.elements);",r?"":"if("+g+")"+h+".bindBuffer(34963,"+g+".buffer.buffer);","}");return g}(),p=g("primitive"),u=g("offset"),q=function(){var g=n.count,e=b;if(g){if(g.contextDep&&d.contextDynamic||g.propDep)e=
c;g=g.append(a,e)}else g=e.def(k,".","count");return g}();if("number"===typeof q){if(0===q)return}else c("if(",q,"){"),c.exit("}");var z,t;ca&&(z=g("instances"),t=a.instancing);var v=l+".type",K=n.elements&&Ca(n.elements)&&!n.vaoActive;ca&&("number"!==typeof z||0<=z)?"string"===typeof z?(c("if(",z,">0){"),e(),c("}else if(",z,"<0){"),f(),c("}")):e():f()}function ma(a,b,c,d,g){b=I();g=b.proc("body",g);ca&&(b.instancing=g.def(b.shared.extensions,".angle_instanced_arrays"));a(b,g,c,d);return b.compile().body}
function ea(a,b,c,d){T(a,b);c.useVAO?c.drawVAO?b(a.shared.vao,".setVAO(",c.drawVAO.append(a,b),");"):b(a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"):(b(a.shared.vao,".setVAO(null);"),la(a,b,c,d.attributes,function(){return!0}));V(a,b,c,d.uniforms,function(){return!0},!1);P(a,b,b,c)}function Da(a,b){var c=a.proc("draw",1);T(a,c);X(a,c,b.context);N(a,c,b.framebuffer);aa(a,c,b);O(a,c,b.state);L(a,c,b,!1,!0);var d=b.shader.progVar.append(a,c);c(a.shared.gl,".useProgram(",d,".program);");if(b.shader.program)ea(a,
c,b,b.shader.program);else{c(a.shared.vao,".setVAO(null);");var g=a.global.def("{}"),e=c.def(d,".id"),f=c.def(g,"[",e,"]");c(a.cond(f).then(f,".call(this,a0);")["else"](f,"=",g,"[",e,"]=",a.link(function(c){return ma(ea,a,b,c,1)}),"(",d,");",f,".call(this,a0);"))}0<Object.keys(b.state).length&&c(a.shared.current,".dirty=true;");a.shared.vao&&c(a.shared.vao,".setVAO(null);")}function Ga(a,b,c,d){function g(){return!0}a.batchId="a1";T(a,b);la(a,b,c,d.attributes,g);V(a,b,c,d.uniforms,g,!1);P(a,b,b,c)}
function xa(a,b,c,d){function g(a){return a.contextDep&&f||a.propDep}function e(a){return!g(a)}T(a,b);var f=c.contextDep,m=b.def(),h=b.def();a.shared.props=h;a.batchId=m;var k=a.scope(),n=a.scope();b(k.entry,"for(",m,"=0;",m,"<","a1",";++",m,"){",h,"=","a0","[",m,"];",n,"}",k.exit);c.needsContext&&X(a,n,c.context);c.needsFramebuffer&&N(a,n,c.framebuffer);O(a,n,c.state,g);c.profile&&g(c.profile)&&L(a,n,c,!1,!0);d?(c.useVAO?c.drawVAO?g(c.drawVAO)?n(a.shared.vao,".setVAO(",c.drawVAO.append(a,n),");"):
k(a.shared.vao,".setVAO(",c.drawVAO.append(a,k),");"):k(a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"):(k(a.shared.vao,".setVAO(null);"),la(a,k,c,d.attributes,e),la(a,n,c,d.attributes,g)),V(a,k,c,d.uniforms,e,!1),V(a,n,c,d.uniforms,g,!0),P(a,k,n,c)):(b=a.global.def("{}"),d=c.shader.progVar.append(a,n),h=n.def(d,".id"),k=n.def(b,"[",h,"]"),n(a.shared.gl,".useProgram(",d,".program);","if(!",k,"){",k,"=",b,"[",h,"]=",a.link(function(b){return ma(Ga,a,c,b,2)}),"(",d,");}",k,".call(this,a0[",m,"],",
m,");"))}function bb(a,b){function c(a){return a.contextDep&&g||a.propDep}var d=a.proc("batch",2);a.batchId="0";T(a,d);var g=!1,e=!0;Object.keys(b.context).forEach(function(a){g=g||b.context[a].propDep});g||(X(a,d,b.context),e=!1);var f=b.framebuffer,m=!1;f?(f.propDep?g=m=!0:f.contextDep&&g&&(m=!0),m||N(a,d,f)):N(a,d,null);b.state.viewport&&b.state.viewport.propDep&&(g=!0);aa(a,d,b);O(a,d,b.state,function(a){return!c(a)});b.profile&&c(b.profile)||L(a,d,b,!1,"a1");b.contextDep=g;b.needsContext=e;b.needsFramebuffer=
m;e=b.shader.progVar;if(e.contextDep&&g||e.propDep)xa(a,d,b,null);else if(e=e.append(a,d),d(a.shared.gl,".useProgram(",e,".program);"),b.shader.program)xa(a,d,b,b.shader.program);else{d(a.shared.vao,".setVAO(null);");var f=a.global.def("{}"),m=d.def(e,".id"),h=d.def(f,"[",m,"]");d(a.cond(h).then(h,".call(this,a0,a1);")["else"](h,"=",f,"[",m,"]=",a.link(function(c){return ma(xa,a,b,c,2)}),"(",e,");",h,".call(this,a0,a1);"))}0<Object.keys(b.state).length&&d(a.shared.current,".dirty=true;");a.shared.vao&&
d(a.shared.vao,".setVAO(null);")}function ra(b,c){function d(a){var f=c.shader[a];f&&g.set(e.shader,"."+a,f.append(b,g))}var g=b.proc("scope",3);b.batchId="a2";var e=b.shared,f=e.current;X(b,g,c.context);c.framebuffer&&c.framebuffer.append(b,g);Ob(Object.keys(c.state)).forEach(function(a){var d=c.state[a].append(b,g);za(d)?d.forEach(function(c,d){g.set(b.next[a],"["+d+"]",c)}):g.set(e.next,"."+a,d)});L(b,g,c,!0,!0);["elements","offset","count","instances","primitive"].forEach(function(a){var d=c.draw[a];
d&&g.set(e.draw,"."+a,""+d.append(b,g))});Object.keys(c.uniforms).forEach(function(d){var f=c.uniforms[d].append(b,g);Array.isArray(f)&&(f="["+f.join()+"]");g.set(e.uniforms,"["+a.id(d)+"]",f)});Object.keys(c.attributes).forEach(function(a){var d=c.attributes[a].append(b,g),e=b.scopeAttrib(a);Object.keys(new da).forEach(function(a){g.set(e,"."+a,d[a])})});c.scopeVAO&&g.set(e.vao,".targetVAO",c.scopeVAO.append(b,g));d("vert");d("frag");0<Object.keys(c.state).length&&(g(f,".dirty=true;"),g.exit(f,".dirty=true;"));
g("a1(",b.shared.context,",a0,",b.batchId,");")}function C(a){if("object"===typeof a&&!za(a)){for(var b=Object.keys(a),c=0;c<b.length;++c)if(ia.isDynamic(a[b[c]]))return!0;return!1}}function w(a,b,c){function d(a,b){f.forEach(function(c){var d=g[c];ia.isDynamic(d)&&(d=a.invoke(b,d),b(n,".",c,"=",d,";"))})}var g=b["static"][c];if(g&&C(g)){var e=a.global,f=Object.keys(g),m=!1,h=!1,k=!1,n=a.global.def("{}");f.forEach(function(b){var c=g[b];if(ia.isDynamic(c))"function"===typeof c&&(c=g[b]=ia.unbox(c)),
b=Q(c,null),m=m||b.thisDep,k=k||b.propDep,h=h||b.contextDep;else{e(n,".",b,"=");switch(typeof c){case "number":e(c);break;case "string":e('"',c,'"');break;case "object":Array.isArray(c)&&e("[",c.join(),"]");break;default:e(a.link(c))}e(";")}});b.dynamic[c]=new ia.DynamicVariable(4,{thisDep:m,contextDep:h,propDep:k,ref:n,append:d});delete b["static"][c]}}var da=l.Record,oa={add:32774,subtract:32778,"reverse subtract":32779};c.ext_blend_minmax&&(oa.min=32775,oa.max=32776);var ca=c.angle_instanced_arrays,
W=c.webgl_draw_buffers,r=c.oes_vertex_array_object,U={dirty:!0,profile:ka.profile},Aa={},Ma=[],va={},B={};y("dither",3024);y("blend.enable",3042);t("blend.color","blendColor",[0,0,0,0]);t("blend.equation","blendEquationSeparate",[32774,32774]);t("blend.func","blendFuncSeparate",[1,0,1,0]);y("depth.enable",2929,!0);t("depth.func","depthFunc",513);t("depth.range","depthRange",[0,1]);t("depth.mask","depthMask",!0);t("colorMask","colorMask",[!0,!0,!0,!0]);y("cull.enable",2884);t("cull.face","cullFace",
1029);t("frontFace","frontFace",2305);t("lineWidth","lineWidth",1);y("polygonOffset.enable",32823);t("polygonOffset.offset","polygonOffset",[0,0]);y("sample.alpha",32926);y("sample.enable",32928);t("sample.coverage","sampleCoverage",[1,!1]);y("stencil.enable",2960);t("stencil.mask","stencilMask",-1);t("stencil.func","stencilFunc",[519,0,-1]);t("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]);t("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]);y("scissor.enable",3089);t("scissor.box",
"scissor",[0,0,b.drawingBufferWidth,b.drawingBufferHeight]);t("viewport","viewport",[0,0,b.drawingBufferWidth,b.drawingBufferHeight]);var wa={gl:b,context:ja,strings:a,next:Aa,current:U,draw:q,elements:e,buffer:g,shader:p,attributes:l.state,vao:l,uniforms:k,framebuffer:h,extensions:c,timer:v,isBufferArgs:Va},Ba={primTypes:$a,compareFuncs:fb,blendFuncs:Wa,blendEquations:oa,stencilOps:Xa,glTypes:Sa,orientationType:zb};W&&(Ba.backBuffer=[1029],Ba.drawBuffer=fa(d.maxDrawbuffers,function(a){return 0===
a?[0]:fa(a,function(a){return 36064+a})}));var lc=0;return{next:Aa,current:U,procs:function(){var a=I(),b=a.proc("poll"),g=a.proc("refresh"),e=a.block();b(e);g(e);var f=a.shared,m=f.gl,h=f.next,k=f.current;e(k,".dirty=false;");N(a,b);N(a,g,null,!0);var n;ca&&(n=a.link(ca));c.oes_vertex_array_object&&g(a.link(c.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<d.maxAttributes;++l){var p=g.def(f.attributes,"[",l,"]"),u=a.cond(p,".buffer");u.then(m,".enableVertexAttribArray(",l,");",
m,".bindBuffer(",34962,",",p,".buffer.buffer);",m,".vertexAttribPointer(",l,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);")["else"](m,".disableVertexAttribArray(",l,");",m,".vertexAttrib4f(",l,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;");g(u);ca&&g(n,".vertexAttribDivisorANGLE(",l,",",p,".divisor);")}g(a.shared.vao,".currentVAO=null;",a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);");Object.keys(va).forEach(function(c){var d=va[c],f=e.def(h,".",c),n=a.block();
n("if(",f,"){",m,".enable(",d,")}else{",m,".disable(",d,")}",k,".",c,"=",f,";");g(n);b("if(",f,"!==",k,".",c,"){",n,"}")});Object.keys(B).forEach(function(c){var d=B[c],f=U[c],n,l,p=a.block();p(m,".",d,"(");za(f)?(d=f.length,n=a.global.def(h,".",c),l=a.global.def(k,".",c),p(fa(d,function(a){return n+"["+a+"]"}),");",fa(d,function(a){return l+"["+a+"]="+n+"["+a+"];"}).join("")),b("if(",fa(d,function(a){return n+"["+a+"]!=="+l+"["+a+"]"}).join("||"),"){",p,"}")):(n=e.def(h,".",c),l=e.def(k,".",c),p(n,
");",k,".",c,"=",n,";"),b("if(",n,"!==",l,"){",p,"}"));g(p)});return a.compile()}(),compile:function(a,b,c,d,g){var e=I();e.stats=e.link(g);Object.keys(b["static"]).forEach(function(a){w(e,b,a)});tc.forEach(function(b){w(e,a,b)});var f=ba(a,b,c,d,e);Da(e,f);ra(e,f);bb(e,f);return R(e.compile(),{destroy:function(){f.shader.program.destroy()}})}}}function ac(b,a){for(var c=0;c<b.length;++c)if(b[c]===a)return c;return-1}var R=function(b,a){for(var c=Object.keys(a),d=0;d<c.length;++d)b[c[d]]=a[c[d]];
return b},cc=0,ia={DynamicVariable:f,define:function(b,a){return new f(b,k(a+""))},isDynamic:function(b){return"function"===typeof b&&!b._reglType||b instanceof f},unbox:l,accessor:k},gb={next:"function"===typeof requestAnimationFrame?function(b){return requestAnimationFrame(b)}:function(b){return setTimeout(b,16)},cancel:"function"===typeof cancelAnimationFrame?function(b){return cancelAnimationFrame(b)}:clearTimeout},bc="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:
function(){return+new Date},H=vb();H.zero=vb();var uc=function(b,a){var c=1;a.ext_texture_filter_anisotropic&&(c=b.getParameter(34047));var d=1,g=1;a.webgl_draw_buffers&&(d=b.getParameter(34852),g=b.getParameter(36063));var e=!!a.oes_texture_float;if(e){e=b.createTexture();b.bindTexture(3553,e);b.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var f=b.createFramebuffer();b.bindFramebuffer(36160,f);b.framebufferTexture2D(36160,36064,3553,e,0);b.bindTexture(3553,null);if(36053!==b.checkFramebufferStatus(36160))e=
!1;else{b.viewport(0,0,1,1);b.clearColor(1,0,0,1);b.clear(16384);var h=H.allocType(5126,4);b.readPixels(0,0,1,1,6408,5126,h);b.getError()?e=!1:(b.deleteFramebuffer(f),b.deleteTexture(e),e=1===h[0]);H.freeType(h)}}h=!0;"undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(h=b.createTexture(),f=H.allocType(5121,36),b.activeTexture(33984),b.bindTexture(34067,h),b.texImage2D(34069,0,6408,3,3,0,6408,5121,f),H.freeType(f),
b.bindTexture(34067,null),b.deleteTexture(h),h=!b.getError());return{colorBits:[b.getParameter(3410),b.getParameter(3411),b.getParameter(3412),b.getParameter(3413)],depthBits:b.getParameter(3414),stencilBits:b.getParameter(3415),subpixelBits:b.getParameter(3408),extensions:Object.keys(a).filter(function(b){return!!a[b]}),maxAnisotropic:c,maxDrawbuffers:d,maxColorAttachments:g,pointSizeDims:b.getParameter(33901),lineWidthDims:b.getParameter(33902),maxViewportDims:b.getParameter(3386),maxCombinedTextureUnits:b.getParameter(35661),
maxCubeMapSize:b.getParameter(34076),maxRenderbufferSize:b.getParameter(34024),maxTextureUnits:b.getParameter(34930),maxTextureSize:b.getParameter(3379),maxAttributes:b.getParameter(34921),maxVertexUniforms:b.getParameter(36347),maxVertexTextureUnits:b.getParameter(35660),maxVaryingVectors:b.getParameter(36348),maxFragmentUniforms:b.getParameter(36349),glsl:b.getParameter(35724),renderer:b.getParameter(7937),vendor:b.getParameter(7936),version:b.getParameter(7938),readFloat:e,npotTextureCube:h}},
O=function(b){return b instanceof Uint8Array||b instanceof Uint16Array||b instanceof Uint32Array||b instanceof Int8Array||b instanceof Int16Array||b instanceof Int32Array||b instanceof Float32Array||b instanceof Float64Array||b instanceof Uint8ClampedArray},P=function(b){return Object.keys(b).map(function(a){return b[a]})},db={shape:function(b){for(var a=[];b.length;b=b[0])a.push(b.length);return a},flatten:function(b,a,c,d){var g=1;if(a.length)for(var e=0;e<a.length;++e)g*=a[e];else g=0;c=d||H.allocType(c,
g);switch(a.length){case 0:break;case 1:d=a[0];for(a=0;a<d;++a)c[a]=b[a];break;case 2:d=a[0];a=a[1];for(e=g=0;e<d;++e)for(var f=b[e],h=0;h<a;++h)c[g++]=f[h];break;case 3:Bb(b,a[0],a[1],a[2],c,0);break;default:Cb(b,a,0,c,0)}return c}},Za={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},
Sa={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126},Hb={dynamic:35048,stream:35040,"static":35044},jb=db.flatten,Fb=db.shape,ua=[];ua[5120]=1;ua[5122]=2;ua[5124]=4;ua[5121]=1;ua[5123]=2;ua[5125]=4;ua[5126]=4;var $a={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Jb=new Float32Array(1),hc=new Uint32Array(Jb.buffer),mc=[9984,9986,9985,9987],Ta=[0,6409,6410,6407,6408],pa={};pa[6409]=
pa[6406]=pa[6402]=1;pa[34041]=pa[6410]=2;pa[6407]=pa[35904]=3;pa[6408]=pa[35906]=4;var lb=Ka("HTMLCanvasElement"),mb=Ka("OffscreenCanvas"),xb=Ka("CanvasRenderingContext2D"),Mb=Ka("ImageBitmap"),Nb=Ka("HTMLImageElement"),yb=Ka("HTMLVideoElement"),ic=Object.keys(Za).concat([lb,mb,xb,Mb,Nb,yb]),La=[];La[5121]=1;La[5126]=4;La[36193]=2;La[5123]=2;La[5125]=4;var S=[];S[32854]=2;S[32855]=2;S[36194]=2;S[34041]=4;S[33776]=.5;S[33777]=.5;S[33778]=1;S[33779]=1;S[35986]=.5;S[35987]=1;S[34798]=1;S[35840]=.5;S[35841]=
.25;S[35842]=.5;S[35843]=.25;S[36196]=.5;var W=[];W[32854]=2;W[32855]=2;W[36194]=2;W[33189]=2;W[36168]=1;W[34041]=4;W[35907]=4;W[34836]=16;W[34842]=8;W[34843]=6;var vc=function(b,a,c,d,g){function e(a){this.id=l++;this.refCount=1;this.renderbuffer=a;this.format=32854;this.height=this.width=0;g.profile&&(this.stats={size:0})}function f(a){var c=a.renderbuffer;b.bindRenderbuffer(36161,null);b.deleteRenderbuffer(c);a.renderbuffer=null;a.refCount=0;delete p[a.id];d.renderbufferCount--}var h={rgba4:32854,
rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};a.ext_srgb&&(h.srgba=35907);a.ext_color_buffer_half_float&&(h.rgba16f=34842,h.rgb16f=34843);a.webgl_color_buffer_float&&(h.rgba32f=34836);var k=[];Object.keys(h).forEach(function(a){k[h[a]]=a});var l=0,p={};e.prototype.decRef=function(){0>=--this.refCount&&f(this)};g.profile&&(d.getTotalRenderbufferSize=function(){var a=0;Object.keys(p).forEach(function(b){a+=p[b].stats.size});return a});return{create:function(a,c){function f(a,
c){var d=0,e=0,m=32854;"object"===typeof a&&a?("shape"in a?(e=a.shape,d=e[0]|0,e=e[1]|0):("radius"in a&&(d=e=a.radius|0),"width"in a&&(d=a.width|0),"height"in a&&(e=a.height|0)),"format"in a&&(m=h[a.format])):"number"===typeof a?(d=a|0,e="number"===typeof c?c|0:d):a||(d=e=1);if(d!==n.width||e!==n.height||m!==n.format)return f.width=n.width=d,f.height=n.height=e,n.format=m,b.bindRenderbuffer(36161,n.renderbuffer),b.renderbufferStorage(36161,m,d,e),g.profile&&(n.stats.size=W[n.format]*n.width*n.height),
f.format=k[n.format],f}var n=new e(b.createRenderbuffer());p[n.id]=n;d.renderbufferCount++;f(a,c);f.resize=function(a,c){var d=a|0,e=c|0||d;if(d===n.width&&e===n.height)return f;f.width=n.width=d;f.height=n.height=e;b.bindRenderbuffer(36161,n.renderbuffer);b.renderbufferStorage(36161,n.format,d,e);g.profile&&(n.stats.size=W[n.format]*n.width*n.height);return f};f._reglType="renderbuffer";f._renderbuffer=n;g.profile&&(f.stats=n.stats);f.destroy=function(){n.decRef()};return f},clear:function(){P(p).forEach(f)},
restore:function(){P(p).forEach(function(a){a.renderbuffer=b.createRenderbuffer();b.bindRenderbuffer(36161,a.renderbuffer);b.renderbufferStorage(36161,a.format,a.width,a.height)});b.bindRenderbuffer(36161,null)}}},nb=[];nb[6408]=4;nb[6407]=3;var eb=[];eb[5121]=1;eb[5126]=4;eb[36193]=2;var wc=function(b,a){if("object"==typeof exports&&"object"==typeof module)return a(exports);if("function"==typeof define&&define.amd)return define(["exports"],a);a(b.acorn||(b.acorn={}))}(void 0,function(b){function a(a){C=
a||{};for(var b in ca)Object.prototype.hasOwnProperty.call(C,b)||(C[b]=ca[b]);oa=C.sourceFile||null}function c(a,b){var c=ea(w,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);d.pos=a;d.loc=c;d.raisedAt=r;throw d;}function d(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var d=0;d<a.length;++d)c+="case "+JSON.stringify(a[d])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[],g=0;a:for(;g<a.length;++g){for(var e=0;e<
d.length;++e)if(d[e][0].length==a[g].length){d[e].push(a[g]);continue a}d.push([a[g]])}if(3<d.length){d.sort(function(a,b){return b.length-a.length});c+="switch(str.length){";for(g=0;g<d.length;++g)a=d[g],c+="case "+a[0].length+":",b(a);c+="}"}else b(a);return new Function("str",c)}function g(){this.line=Q;this.column=r-F}function e(a,b){Aa=r;C.locations&&(va=new g);B=a;h();wa=b;Ba=a.beforeExpr}function f(){for(var a=r,b=C.onComment&&C.locations&&new g,c=w.charCodeAt(r+=2);r<da&&10!==c&&13!==c&&8232!==
c&&8233!==c;)++r,c=w.charCodeAt(r);if(C.onComment)C.onComment(!1,w.slice(a+2,r),a,r,b,C.locations&&new g)}function h(){for(;r<da;){var a=w.charCodeAt(r);if(32===a)++r;else if(13===a)++r,a=w.charCodeAt(r),10===a&&++r,C.locations&&(++Q,F=r);else if(10===a||8232===a||8233===a)++r,C.locations&&(++Q,F=r);else if(8<a&&14>a)++r;else if(47===a)if(a=w.charCodeAt(r+1),42===a){var a=C.onComment&&C.locations&&new g,b=r,d=w.indexOf("*/",r+=2);-1===d&&c(r-2,"Unterminated comment");r=d+2;if(C.locations){pb.lastIndex=
b;for(var e=void 0;(e=pb.exec(w))&&e.index<r;)++Q,F=e.index+e[0].length}if(C.onComment)C.onComment(!0,w.slice(b+2,d),b,r,a,C.locations&&new g)}else if(47===a)f();else break;else if(160===a)++r;else if(5760<=a&&Nb.test(String.fromCharCode(a)))++r;else break}}function k(a){switch(a){case 46:return a=w.charCodeAt(r+1),48<=a&&57>=a?a=v(!0):(++r,a=e(gb)),a;case 40:return++r,e(Ia);case 41:return++r,e(Ea);case 59:return++r,e(Ja);case 44:return++r,e(Qa);case 91:return++r,e(Qb);case 93:return++r,e(Rb);case 123:return++r,
e(qb);case 125:return++r,e(hb);case 58:return++r,e(rb);case 63:return++r,e(Xb);case 48:if(a=w.charCodeAt(r+1),120===a||88===a)return r+=2,a=ja(16),null==a&&c(U+2,"Expected hexadecimal number"),Sb(w.charCodeAt(r))&&c(r,"Identifier directly after number"),e(Ha,a);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return v(!1);case 34:case 39:a:{r++;for(var b="";;){r>=da&&c(U,"Unterminated string constant");var d=w.charCodeAt(r);if(d===a){++r;a=e(sa,b);break a}if(92===d){var d=w.charCodeAt(++r),
g=/^[0-7]+/.exec(w.slice(r,r+3));for(g&&(g=g[0]);g&&255<parseInt(g,8);)g=g.slice(0,-1);"0"===g&&(g=null);++r;if(g)ya&&c(r-2,"Octal literal in strict mode"),b+=String.fromCharCode(parseInt(g,8)),r+=g.length-1;else switch(d){case 110:b+="\n";break;case 114:b+="\r";break;case 120:b+=String.fromCharCode(y(2));break;case 117:b+=String.fromCharCode(y(4));break;case 85:b+=String.fromCharCode(y(8));break;case 116:b+="\t";break;case 98:b+="\b";break;case 118:b+="\x0B";break;case 102:b+="\f";break;case 48:b+=
"\x00";break;case 13:10===w.charCodeAt(r)&&++r;case 10:C.locations&&(F=r,++Q);break;default:b+=String.fromCharCode(d)}}else 13!==d&&10!==d&&8232!==d&&8233!==d||c(U,"Unterminated string constant"),b+=String.fromCharCode(d),++r}}return a;case 47:return a=w.charCodeAt(r+1),Ba?(++r,a=q()):a=61===a?p(ib,2):p(Yb,1),a;case 37:case 42:return a=61===w.charCodeAt(r+1)?p(ib,2):p(Jb,1),a;case 124:case 38:return b=w.charCodeAt(r+1),a=b===a?p(124===a?ub:vb,2):61===b?p(ib,2):p(124===a?Bb:Db,1),a;case 94:return a=
61===w.charCodeAt(r+1)?p(ib,2):p(Cb,1),a;case 43:case 45:return b=w.charCodeAt(r+1),b===a?45==b&&62==w.charCodeAt(r+2)&&Tb.test(w.slice(na,r))?(r+=3,f(),h(),a=l()):a=p(Ab,2):a=61===b?p(ib,2):p(Ib,1),a;case 60:case 62:return b=w.charCodeAt(r+1),d=1,b===a?(d=62===a&&62===w.charCodeAt(r+2)?3:2,a=61===w.charCodeAt(r+d)?p(ib,d+1):p(Hb,d)):33==b&&60==a&&45==w.charCodeAt(r+2)&&45==w.charCodeAt(r+3)?(r+=4,f(),h(),a=l()):(61===b&&(d=61===w.charCodeAt(r+2)?3:2),a=p(Fb,d)),a;case 61:case 33:return a=61===w.charCodeAt(r+
1)?p(Eb,61===w.charCodeAt(r+2)?3:2):p(61===a?Zb:tb,1),a;case 126:return p(tb,1)}return!1}function l(a){a?r=U+1:U=r;C.locations&&(Ma=new g);if(a)return q();if(r>=da)return e(ua);var b=w.charCodeAt(r);if(Sb(b)||92===b)return H();a=k(b);if(!1===a){b=String.fromCharCode(b);if("\\"===b||yb.test(b))return H();c(r,"Unexpected character '"+b+"'")}return a}function p(a,b){var c=w.slice(r,r+b);r+=b;e(a,c)}function q(){for(var a="",b,d,g=r;;){r>=da&&c(g,"Unterminated regular expression");a=w.charAt(r);Tb.test(a)&&
c(g,"Unterminated regular expression");if(b)b=!1;else{if("["===a)d=!0;else if("]"===a&&d)d=!1;else if("/"===a&&!d)break;b="\\"===a}++r}a=w.slice(g,r);++r;(b=Z())&&!/^[gmsiy]*$/.test(b)&&c(g,"Invalid regexp flag");return e(ta,new RegExp(a,b))}function ja(a,b){for(var c=r,d=0,g=0,e=null==b?Infinity:b;g<e;++g){var f=w.charCodeAt(r),f=97<=f?f-97+10:65<=f?f-65+10:48<=f&&57>=f?f-48:Infinity;if(f>=a)break;++r;d=d*a+f}return r===c||null!=b&&r-c!==b?null:d}function v(a){var b=r,d=!1,g=48===w.charCodeAt(r);
a||null!==ja(10)||c(b,"Invalid number");46===w.charCodeAt(r)&&(++r,ja(10),d=!0);a=w.charCodeAt(r);if(69===a||101===a)a=w.charCodeAt(++r),43!==a&&45!==a||++r,null===ja(10)&&c(b,"Invalid number"),d=!0;Sb(w.charCodeAt(r))&&c(r,"Identifier directly after number");a=w.slice(b,r);var f;d?f=parseFloat(a):g&&1!==a.length?/[89]/.test(a)||ya?c(b,"Invalid number"):f=parseInt(a,8):f=parseInt(a,10);return e(Ha,f)}function y(a){a=ja(16,a);null===a&&c(U,"Bad character escape sequence");return a}function Z(){sb=
!1;for(var a,b=!0,d=r;;){var g=w.charCodeAt(r);if(zb(g))sb&&(a+=w.charAt(r)),++r;else if(92===g){sb||(a=w.slice(d,r));sb=!0;117!=w.charCodeAt(++r)&&c(r,"Expecting Unicode escape sequence \\uXXXX");++r;var g=y(4),e=String.fromCharCode(g);e||c(r-1,"Invalid Unicode escape");(b?Sb(g):zb(g))||c(r-4,"Invalid Unicode escape");a+=e}else break;b=!1}return sb?a:w.slice(d,r)}function H(){var a=Z(),b=ga;sb||(Mb(a)?b=fb[a]:(C.forbidReserved&&(3===C.ecmaVersion?Kb:Lb)(a)||ya&&xb(a))&&c(U,"The keyword '"+a+"' is reserved"));
return e(b,a)}function t(){qa=U;na=Aa;fa=va;l()}function I(a){ya=a;r=na;if(C.locations)for(;r<F;)F=w.lastIndexOf("\n",F-2)+1,--Q;h();l()}function G(){this.type=null;this.start=U;this.end=null}function M(){this.start=Ma;this.end=null;null!==oa&&(this.source=oa)}function J(){var a=new G;C.locations&&(a.loc=new M);C.directSourceFile&&(a.sourceFile=C.directSourceFile);C.ranges&&(a.range=[U,0]);return a}function E(a){var b=new G;b.start=a.start;C.locations&&(b.loc=new M,b.loc.start=a.loc.start);C.ranges&&
(b.range=[a.range[0],0]);return b}function x(a,b){a.type=b;a.end=na;C.locations&&(a.loc.end=fa);C.ranges&&(a.range[1]=na);return a}function R(a){return 5<=C.ecmaVersion&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function D(a){if(B===a)return t(),!0}function S(){return!C.strictSemicolons&&(B===ua||B===hb||Tb.test(w.slice(na,U)))}function Y(){D(Ja)||S()||ba()}function A(a){B===a?t():ba()}function ba(){c(U,"Unexpected token")}function X(a){"Identifier"!==
a.type&&"MemberExpression"!==a.type&&c(a.start,"Assigning to rvalue");ya&&"Identifier"===a.type&&Ub(a.name)&&c(a.start,"Assigning to "+a.name+" in strict mode")}function N(){(B===Yb||B===ib&&"/="==wa)&&l(!0);var a=B,b=J();switch(a){case za:case La:t();var d=a===za;D(Ja)||S()?b.label=null:B!==ga?ba():(b.label=ra(),Y());for(var g=0;g<ha.length;++g){var e=ha[g];if(null==b.label||e.name===b.label.name){if(null!=e.kind&&(d||"loop"===e.kind))break;if(b.label&&d)break}}g===ha.length&&c(b.start,"Unsyntactic "+
a.keyword);return x(b,d?"BreakStatement":"ContinueStatement");case Na:return t(),Y(),x(b,"DebuggerStatement");case Pa:return t(),ha.push($b),b.body=N(),ha.pop(),A(Xa),b.test=aa(),Y(),x(b,"DoWhileStatement");case Za:t();ha.push($b);A(Ia);if(B===Ja)return T(b,null);if(B===Va)return a=J(),t(),la(a,!0),x(a,"VariableDeclaration"),1===a.declarations.length&&D(Vb)?L(b,a):T(b,a);a=V(!1,!0);return D(Vb)?(X(a),L(b,a)):T(b,a);case Sa:return t(),xa(b,!0);case $a:return t(),b.test=aa(),b.consequent=N(),b.alternate=
D(Wa)?N():null,x(b,"IfStatement");case ab:return ia||c(U,"'return' outside of function"),t(),D(Ja)||S()?b.argument=null:(b.argument=V(),Y()),x(b,"ReturnStatement");case Ta:t();b.discriminant=aa();b.cases=[];A(qb);for(ha.push(Pb);B!=hb;)B===Ca||B===Oa?(a=B===Ca,g&&x(g,"SwitchCase"),b.cases.push(g=J()),g.consequent=[],t(),a?g.test=V():(d&&c(qa,"Multiple default clauses"),d=!0,g.test=null),A(rb)):(g||ba(),g.consequent.push(N()));g&&x(g,"SwitchCase");t();ha.pop();return x(b,"SwitchStatement");case db:return t(),
Tb.test(w.slice(na,U))&&c(na,"Illegal newline after throw"),b.argument=V(),Y(),x(b,"ThrowStatement");case eb:return t(),b.block=O(),b.handler=null,B===Ka&&(a=J(),t(),A(Ia),a.param=ra(),ya&&Ub(a.param.name)&&c(a.param.start,"Binding "+a.param.name+" in strict mode"),A(Ea),a.guard=null,a.body=O(),b.handler=x(a,"CatchClause")),b.guardedHandlers=pa,b.finalizer=D(Ya)?O():null,b.handler||b.finalizer||c(b.start,"Missing catch or finally clause"),x(b,"TryStatement");case Va:return t(),la(b),Y(),x(b,"VariableDeclaration");
case Xa:return t(),b.test=aa(),ha.push($b),b.body=N(),ha.pop(),x(b,"WhileStatement");case jb:return ya&&c(U,"'with' in strict mode"),t(),b.object=aa(),b.body=N(),x(b,"WithStatement");case qb:return O();case Ja:return t(),x(b,"EmptyStatement");default:d=wa;e=V();if(a===ga&&"Identifier"===e.type&&D(rb)){for(g=0;g<ha.length;++g)ha[g].name===d&&c(e.start,"Label '"+d+"' is already declared");ha.push({name:d,kind:B.isLoop?"loop":B===Ta?"switch":null});b.body=N();ha.pop();b.label=e;return x(b,"LabeledStatement")}b.expression=
e;Y();return x(b,"ExpressionStatement")}}function aa(){A(Ia);var a=V();A(Ea);return a}function O(a){var b=J(),c=!0,d=!1,g;b.body=[];for(A(qb);!D(hb);){var e=N();b.body.push(e);c&&a&&R(e)&&(g=d,I(d=!0));c=!1}d&&!g&&I(!1);return x(b,"BlockStatement")}function T(a,b){a.init=b;A(Ja);a.test=B===Ja?null:V();A(Ja);a.update=B===Ea?null:V();A(Ea);a.body=N();ha.pop();return x(a,"ForStatement")}function L(a,b){a.left=b;a.right=V();A(Ea);a.body=N();ha.pop();return x(a,"ForInStatement")}function la(a,b){a.declarations=
[];for(a.kind="var";;){var d=J();d.id=ra();ya&&Ub(d.id.name)&&c(d.id.start,"Binding "+d.id.name+" in strict mode");d.init=D(Zb)?V(!0,b):null;a.declarations.push(x(d,"VariableDeclarator"));if(!D(Qa))break}return a}function V(a,b){var c=P(b);if(!a&&B===Qa){var d=E(c);for(d.expressions=[c];D(Qa);)d.expressions.push(P(b));return x(d,"SequenceExpression")}return c}function P(a){var b;b=ma(W(),-1,a);if(D(Xb)){var c=E(b);c.test=b;c.consequent=V(!0);A(rb);c.alternate=V(!0,a);b=x(c,"ConditionalExpression")}return B.isAssign?
(c=E(b),c.operator=wa,c.left=b,t(),c.right=P(a),X(b),x(c,"AssignmentExpression")):b}function ma(a,b,c){var d=B.binop;if(null!=d&&(!c||B!==Vb)&&d>b){var g=E(a);g.left=a;g.operator=wa;a=B;t();g.right=ma(W(),d,c);d=x(g,a===ub||a===vb?"LogicalExpression":"BinaryExpression");return ma(d,b,c)}return a}function W(){if(B.prefix){var a=J(),b=B.isUpdate;a.operator=wa;Ba=a.prefix=!0;t();a.argument=W();b?X(a.argument):ya&&"delete"===a.operator&&"Identifier"===a.argument.type&&c(a.start,"Deleting local variable in strict mode");
return x(a,b?"UpdateExpression":"UnaryExpression")}for(b=Da(Ga());B.postfix&&!S();)a=E(b),a.operator=wa,a.prefix=!1,a.argument=b,X(b),t(),b=x(a,"UpdateExpression");return b}function Da(a,b){if(D(gb)){var c=E(a);c.object=a;c.property=ra(!0);c.computed=!1;return Da(x(c,"MemberExpression"),b)}return D(Qb)?(c=E(a),c.object=a,c.property=V(),c.computed=!0,A(Rb),Da(x(c,"MemberExpression"),b)):!b&&D(Ia)?(c=E(a),c.callee=a,c.arguments=bb(Ea,!1),Da(x(c,"CallExpression"),b)):a}function Ga(){switch(B){case lb:var a=
J();t();return x(a,"ThisExpression");case ga:return ra();case Ha:case sa:case ta:return a=J(),a.value=wa,a.raw=w.slice(U,Aa),t(),x(a,"Literal");case mb:case nb:case ob:return a=J(),a.value=B.atomValue,a.raw=B.keyword,t(),x(a,"Literal");case Ia:var a=Ma,b=U;t();var d=V();d.start=b;d.end=Aa;C.locations&&(d.loc.start=a,d.loc.end=va);C.ranges&&(d.range=[b,Aa]);A(Ea);return d;case Qb:return a=J(),t(),a.elements=bb(Rb,!0,!0),x(a,"ArrayExpression");case qb:a=J();b=!0;d=!1;a.properties=[];for(t();!D(hb);){if(b)b=
!1;else if(A(Qa),C.allowTrailingCommas&&D(hb))break;var g={key:B===Ha||B===sa?Ga():ra(!0)},e=!1,f;D(rb)?(g.value=V(!0),f=g.kind="init"):5<=C.ecmaVersion&&"Identifier"===g.key.type&&("get"===g.key.name||"set"===g.key.name)?(e=d=!0,f=g.kind=g.key.name,g.key=B===Ha||B===sa?Ga():ra(!0),B!==Ia&&ba(),g.value=xa(J(),!1)):ba();if("Identifier"===g.key.type&&(ya||d))for(var h=0;h<a.properties.length;++h){var m=a.properties[h];if(m.key.name===g.key.name){var k=f==m.kind||e&&"init"===m.kind||"init"===f&&("get"===
m.kind||"set"===m.kind);k&&!ya&&"init"===f&&"init"===m.kind&&(k=!1);k&&c(g.key.start,"Redefinition of property")}}a.properties.push(g)}return x(a,"ObjectExpression");case Sa:return a=J(),t(),xa(a,!1);case kb:return a=J(),t(),a.callee=Da(Ga(),!0),D(Ia)?a.arguments=bb(Ea,!1):a.arguments=pa,x(a,"NewExpression");default:ba()}}function xa(a,b){B===ga?a.id=ra():b?ba():a.id=null;a.params=[];var d=!0;for(A(Ia);!D(Ea);)d?d=!1:A(Qa),a.params.push(ra());var d=ia,g=ha;ia=!0;ha=[];a.body=O(!0);ia=d;ha=g;if(ya||
a.body.body.length&&R(a.body.body[0]))for(d=a.id?-1:0;d<a.params.length;++d)if(g=0>d?a.id:a.params[d],(xb(g.name)||Ub(g.name))&&c(g.start,"Defining '"+g.name+"' in strict mode"),0<=d)for(var e=0;e<d;++e)g.name===a.params[e].name&&c(g.start,"Argument name clash in strict mode");return x(a,b?"FunctionDeclaration":"FunctionExpression")}function bb(a,b,c){for(var d=[],g=!0;!D(a);){if(g)g=!1;else if(A(Qa),b&&C.allowTrailingCommas&&D(a))break;c&&B===Qa?d.push(null):d.push(V(!0))}return d}function ra(a){var b=
J();b.name=B===ga?wa:a&&!C.forbidReserved&&B.keyword||ba();Ba=!1;t();return x(b,"Identifier")}b.version="0.4.1";var C,w,da,oa;b.parse=function(b,c){w=String(b);da=w.length;a(c);Q=1;r=F=0;Ba=!0;h();var d=C.program;qa=na=r;C.locations&&(fa=new g);ia=ya=null;ha=[];l();var e=d||J(),f=!0;d||(e.body=[]);for(;B!==ua;)d=N(),e.body.push(d),f&&R(d)&&I(!0),f=!1;return x(e,"Program")};var ca=b.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,
ranges:!1,program:null,sourceFile:null,directSourceFile:null},ea=b.getLineInfo=function(a,b){for(var c=1,d=0;;){pb.lastIndex=d;var g=pb.exec(a);if(g&&g.index<b)++c,d=g.index+g[0].length;else break}return{line:c,column:b-d}};b.tokenize=function(b,c){function d(a){l(a);g.start=U;g.end=Aa;g.startLoc=Ma;g.endLoc=va;g.type=B;g.value=wa;return g}w=String(b);da=w.length;a(c);Q=1;r=F=0;Ba=!0;h();var g={};d.jumpTo=function(a,b){r=a;if(C.locations){Q=1;F=pb.lastIndex=0;for(var c;(c=pb.exec(w))&&c.index<a;)++Q,
F=c.index+c[0].length}Ba=b;h()};return d};var r,U,Aa,Ma,va,B,wa,Ba,Q,F,qa,na,fa,ia,ha,ya,pa=[],Ha={type:"num"},ta={type:"regexp"},sa={type:"string"},ga={type:"name"},ua={type:"eof"},za={keyword:"break"},Ca={keyword:"case",beforeExpr:!0},Ka={keyword:"catch"},La={keyword:"continue"},Na={keyword:"debugger"},Oa={keyword:"default"},Pa={keyword:"do",isLoop:!0},Wa={keyword:"else",beforeExpr:!0},Ya={keyword:"finally"},Za={keyword:"for",isLoop:!0},Sa={keyword:"function"},$a={keyword:"if"},ab={keyword:"return",
beforeExpr:!0},Ta={keyword:"switch"},db={keyword:"throw",beforeExpr:!0},eb={keyword:"try"},Va={keyword:"var"},Xa={keyword:"while",isLoop:!0},jb={keyword:"with"},kb={keyword:"new",beforeExpr:!0},lb={keyword:"this"},mb={keyword:"null",atomValue:null},nb={keyword:"true",atomValue:!0},ob={keyword:"false",atomValue:!1},Vb={keyword:"in",binop:7,beforeExpr:!0},fb={"break":za,"case":Ca,"catch":Ka,"continue":La,"debugger":Na,"default":Oa,"do":Pa,"else":Wa,"finally":Ya,"for":Za,"function":Sa,"if":$a,"return":ab,
"switch":Ta,"throw":db,"try":eb,"var":Va,"while":Xa,"with":jb,"null":mb,"true":nb,"false":ob,"new":kb,"in":Vb,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":lb,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},Qb={type:"[",beforeExpr:!0},Rb={type:"]"},qb={type:"{",beforeExpr:!0},hb={type:"}"},Ia={type:"(",beforeExpr:!0},Ea={type:")"},Qa={type:",",beforeExpr:!0},Ja={type:";",beforeExpr:!0},
rb={type:":",beforeExpr:!0},gb={type:"."},Xb={type:"?",beforeExpr:!0},Yb={binop:10,beforeExpr:!0},Zb={isAssign:!0,beforeExpr:!0},ib={isAssign:!0,beforeExpr:!0},Ab={postfix:!0,prefix:!0,isUpdate:!0},tb={prefix:!0,beforeExpr:!0},ub={binop:1,beforeExpr:!0},vb={binop:2,beforeExpr:!0},Bb={binop:3,beforeExpr:!0},Cb={binop:4,beforeExpr:!0},Db={binop:5,beforeExpr:!0},Eb={binop:6,beforeExpr:!0},Fb={binop:7,beforeExpr:!0},Hb={binop:8,beforeExpr:!0},Ib={binop:9,prefix:!0,beforeExpr:!0},Jb={binop:10,beforeExpr:!0};
b.tokTypes={bracketL:Qb,bracketR:Rb,braceL:qb,braceR:hb,parenL:Ia,parenR:Ea,comma:Qa,semi:Ja,colon:rb,dot:gb,question:Xb,slash:Yb,eq:Zb,name:ga,eof:ua,num:Ha,regexp:ta,string:sa};for(var wb in fb)b.tokTypes["_"+wb]=fb[wb];var Kb=d("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Lb=d("class enum extends super const export import"),xb=
d("implements interface let package private protected public static yield"),Ub=d("eval arguments"),Mb=d("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Nb=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,yb=RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),
Ob=RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),
Tb=/[\n\r\u2028\u2029]/,pb=/\r\n|[\n\r\u2028\u2029]/g,Sb=b.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:170<=a&&yb.test(String.fromCharCode(a))},zb=b.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:170<=a&&Ob.test(String.fromCharCode(a))},sb,$b={kind:"loop"},Pb={kind:"switch"}}),e=function(b,a){"string"===typeof b&&(b=this.parse_(b,"code"));this.nodeConstructor=b.constructor;var c=new this.nodeConstructor({options:{}}),
d;for(d in b)c[d]="body"===d?b[d].slice():b[d];this.ast=c;this.initFunc_=a;this.paused_=!1;this.polyfills_=[];this.functionCounter_=0;this.stepFunctions_=Object.create(null);d=/^step([A-Z]\w*)$/;var g,f;for(f in this)"function"===typeof this[f]&&(g=f.match(d))&&(this.stepFunctions_[g[1]]=this[f].bind(this));this.globalScope=this.createScope(this.ast,null);this.globalObject=this.globalScope.object;this.ast=this.parse_(this.polyfills_.join("\n"),"polyfills");this.polyfills_=void 0;e.stripLocations_(this.ast,
void 0,void 0);g=new e.State(this.ast,this.globalScope);g.done=!1;this.stateStack=[g];this.run();this.value=void 0;this.ast=c;g=new e.State(this.ast,this.globalScope);g.done=!1;this.stateStack.length=0;this.stateStack[0]=g;this.stateStack=this.stateStack};e.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4};e.PARSE_OPTIONS={locations:!0,ecmaVersion:5};e.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1};e.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0};e.READONLY_NONENUMERABLE_DESCRIPTOR=
{configurable:!0,enumerable:!1,writable:!1};e.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1};e.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0};e.STEP_ERROR={STEP_ERROR:!0};e.SCOPE_REFERENCE={SCOPE_REFERENCE:!0};e.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0};e.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0};e.toStringCycles_=[];e.vm=null;e.nativeGlobal="undefined"===typeof globalThis?void 0:globalThis;e.WORKER_CODE=["onmessage = function(e) {","var result;",
"var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);",
"}","postMessage(result);","};"];e.legalArrayLength=function(b){var a=b>>>0;return a===Number(b)?a:NaN};e.legalArrayIndex=function(b){var a=b>>>0;return String(a)===String(b)&&4294967295!==a?a:NaN};e.stripLocations_=function(b,a,c){a?b.start=a:delete b.start;c?b.end=c:delete b.end;for(var d in b)if("loc"!==d&&b.hasOwnProperty(d)){var g=b[d];g&&"object"===typeof g&&e.stripLocations_(g,a,c)}};e.prototype.REGEXP_MODE=2;e.prototype.REGEXP_THREAD_TIMEOUT=1E3;e.prototype.POLYFILL_TIMEOUT=1E3;e.prototype.getterStep_=
!1;e.prototype.setterStep_=!1;e.prototype.appendCodeNumber_=0;e.prototype.parse_=function(b,a){var c={},d;for(d in e.PARSE_OPTIONS)c[d]=e.PARSE_OPTIONS[d];c.sourceFile=a;return acorn.parse(b,c)};e.prototype.appendCode=function(b){var a=this.stateStack[0];if(!a||"Program"!==a.node.type)throw Error("Expecting original AST to start with a Program node.");"string"===typeof b&&(b=this.parse_(b,"appendCode"+this.appendCodeNumber_++));if(!b||"Program"!==b.type)throw Error("Expecting new AST to start with a Program node.");
this.populateScope_(b,a.scope);Array.prototype.push.apply(a.node.body,b.body);a.done=!1};e.prototype.step=function(){var b=this.stateStack,a=Date.now();do{var c=b[b.length-1];if(!c)return!1;var d=c.node,g=d.type;if("Program"===g&&c.done)return!1;if(this.paused_)break;try{var f=this.stepFunctions_[g](b,c,d)}catch(h){if(h!==e.STEP_ERROR)throw h;}f&&b.push(f);if(this.getterStep_)throw Error("Getter not supported in this context");if(this.setterStep_)throw Error("Setter not supported in this context");
}while(!d.end&&a+this.POLYFILL_TIMEOUT>Date.now());return!0};e.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_};e.prototype.initGlobal=function(b){this.setProperty(b,"NaN",NaN,e.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"Infinity",Infinity,e.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"undefined",void 0,e.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"window",b,e.READONLY_DESCRIPTOR);this.setProperty(b,
"this",b,e.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"self",b);this.OBJECT_PROTO=new e.Object(null);this.FUNCTION_PROTO=new e.Object(this.OBJECT_PROTO);this.initFunction(b);this.initObject(b);b.proto=this.OBJECT_PROTO;this.setProperty(b,"constructor",this.OBJECT,e.NONENUMERABLE_DESCRIPTOR);this.initArray(b);this.initString(b);this.initBoolean(b);this.initNumber(b);this.initDate(b);this.initRegExp(b);this.initError(b);this.initMath(b);this.initJSON(b);var a=this,c=this.createNativeFunction(function(a){throw EvalError("Can't happen");
},!1);c.eval=!0;this.setProperty(b,"eval",c,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"parseInt",this.createNativeFunction(parseInt,!1),e.NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"parseFloat",this.createNativeFunction(parseFloat,!1),e.NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"isNaN",this.createNativeFunction(isNaN,!1),e.NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"isFinite",this.createNativeFunction(isFinite,!1),e.NONENUMERABLE_DESCRIPTOR);for(var c=[[escape,"escape"],[unescape,"unescape"],
[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],d=0;d<c.length;d++){var g=function(b){return function(c){try{return b(c)}catch(d){a.throwException(a.URI_ERROR,d.message)}}}(c[d][0]);this.setProperty(b,c[d][1],this.createNativeFunction(g,!1),e.NONENUMERABLE_DESCRIPTOR)}this.OBJECT=this.OBJECT;this.OBJECT_PROTO=this.OBJECT_PROTO;this.FUNCTION=this.FUNCTION;this.FUNCTION_PROTO=this.FUNCTION_PROTO;this.ARRAY=this.ARRAY;
this.ARRAY_PROTO=this.ARRAY_PROTO;this.REGEXP=this.REGEXP;this.REGEXP_PROTO=this.REGEXP_PROTO;this.DATE=this.DATE;this.DATE_PROTO=this.DATE_PROTO;this.initFunc_&&this.initFunc_(this,b)};e.prototype.functionCodeNumber_=0;e.prototype.initFunction=function(b){var a=this,c,d=/^[A-Za-z_$][\w$]*$/;c=function(b){var c=arguments.length?String(arguments[arguments.length-1]):"",e=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(e){for(var e=e.split(/\s*,\s*/),f=0;f<e.length;f++){var h=e[f];d.test(h)||
a.throwException(a.SYNTAX_ERROR,"Invalid function argument: "+h)}e=e.join(", ")}try{var k=a.parse_("(function("+e+") {"+c+"})","function"+a.functionCodeNumber_++)}catch(l){a.throwException(a.SYNTAX_ERROR,"Invalid code: "+l.message)}1!==k.body.length&&a.throwException(a.SYNTAX_ERROR,"Invalid code in function body.");return a.createFunction(k.body[0].expression,a.globalScope,"anonymous")};this.FUNCTION=this.createNativeFunction(c,!0);this.setProperty(b,"Function",this.FUNCTION,e.NONENUMERABLE_DESCRIPTOR);
this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,e.NONENUMERABLE_DESCRIPTOR);this.FUNCTION_PROTO.nativeFunc=function(){};this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++;this.FUNCTION_PROTO.illegalConstructor=!0;this.setProperty(this.FUNCTION_PROTO,"length",0,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.FUNCTION_PROTO["class"]="Function";c=function(b,c){var d=a.stateStack[a.stateStack.length-
1];d.func_=this;d.funcThis_=b;d.arguments_=[];null!==c&&void 0!==c&&(c instanceof e.Object?d.arguments_=a.arrayPseudoToNative(c):a.throwException(a.TYPE_ERROR,"CreateListFromArrayLike called on non-object"));d.doneExec_=!1};this.setNativeFunctionPrototype(this.FUNCTION,"apply",c);c=function(b){var c=a.stateStack[a.stateStack.length-1];c.func_=this;c.funcThis_=b;c.arguments_=[];for(var d=1;d<arguments.length;d++)c.arguments_.push(arguments[d]);c.doneExec_=!1};this.setNativeFunctionPrototype(this.FUNCTION,
"call",c);this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));",
"};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});","");c=function(){return String(this)};this.setNativeFunctionPrototype(this.FUNCTION,"toString",c);this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);c=function(){return this.valueOf()};this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",c);this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR)};
e.prototype.initObject=function(b){var a=this,c;c=function(b){if(void 0===b||null===b)return a.calledWithNew()?this:a.createObjectProto(a.OBJECT_PROTO);if(!(b instanceof e.Object)){var c=a.createObjectProto(a.getPrototype(b));c.data=b;return c}return b};this.OBJECT=this.createNativeFunction(c,!0);this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"Object",
this.OBJECT,e.NONENUMERABLE_DESCRIPTOR);var d=function(b){void 0!==b&&null!==b||a.throwException(a.TYPE_ERROR,"Cannot convert '"+b+"' to object")};c=function(b){d(b);return a.arrayNativeToPseudo(Object.getOwnPropertyNames(b instanceof e.Object?b.properties:b))};this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);c=function(b){d(b);b instanceof e.Object&&(b=b.properties);return a.arrayNativeToPseudo(Object.keys(b))};this.setProperty(this.OBJECT,
"keys",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);c=function(b){if(null===b)return a.createObjectProto(null);b instanceof e.Object||a.throwException(a.TYPE_ERROR,"Object prototype may only be an Object or null");return a.createObjectProto(b)};this.setProperty(this.OBJECT,"create",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);",
"props && Object.defineProperties(obj, props);","return obj;","};","})();","");c=function(b,c,d){c=String(c);b instanceof e.Object||a.throwException(a.TYPE_ERROR,"Object.defineProperty called on non-object");d instanceof e.Object||a.throwException(a.TYPE_ERROR,"Property description must be an object");!b.properties[c]&&b.preventExtensions&&a.throwException(a.TYPE_ERROR,"Can't define property '"+c+"', object is not extensible");a.setProperty(b,c,e.VALUE_IN_DESCRIPTOR,d.properties);return b};this.setProperty(this.OBJECT,
"defineProperty",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;",
"return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});","");c=function(b,c){b instanceof e.Object||a.throwException(a.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object");c=String(c);if(c in b.properties){var d=
Object.getOwnPropertyDescriptor(b.properties,c),f=b.getter[c],h=b.setter[c],k=a.createObjectProto(a.OBJECT_PROTO);f||h?(a.setProperty(k,"get",f),a.setProperty(k,"set",h)):(a.setProperty(k,"value",d.value),a.setProperty(k,"writable",d.writable));a.setProperty(k,"configurable",d.configurable);a.setProperty(k,"enumerable",d.enumerable);return k}};this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);c=function(b){d(b);return a.getPrototype(b)};
this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);c=function(a){return!!a&&!a.preventExtensions};this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);c=function(a){a instanceof e.Object&&(a.preventExtensions=!0);return a};this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);this.setNativeFunctionPrototype(this.OBJECT,"toString",e.Object.prototype.toString);
this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",e.Object.prototype.toString);this.setNativeFunctionPrototype(this.OBJECT,"valueOf",e.Object.prototype.valueOf);c=function(a){d(this);return this instanceof e.Object?String(a)in this.properties:this.hasOwnProperty(a)};this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",c);c=function(a){d(this);return this instanceof e.Object?Object.prototype.propertyIsEnumerable.call(this.properties,a):this.propertyIsEnumerable(a)};this.setNativeFunctionPrototype(this.OBJECT,
"propertyIsEnumerable",c);c=function(b){for(;;){b=a.getPrototype(b);if(!b)return!1;if(b===this)return!0}};this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",c)};e.prototype.initArray=function(b){var a=this,c;c=function(b){var c=a.calledWithNew()?this:a.createArray(),f=arguments[0];if(1===arguments.length&&"number"===typeof f)isNaN(e.legalArrayLength(f))&&a.throwException(a.RANGE_ERROR,"Invalid array length");else for(f=0;f<arguments.length;f++)c.properties[f]=arguments[f];c.properties.length=
f;return c};this.ARRAY=this.createNativeFunction(c,!0);this.ARRAY_PROTO=this.ARRAY.properties.prototype;this.setProperty(b,"Array",this.ARRAY,e.NONENUMERABLE_DESCRIPTOR);c=function(a){return a&&"Array"===a["class"]};this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0});this.ARRAY_PROTO["class"]="Array";this.polyfills_.push("Object.defineProperty(Array.prototype, 'pop',",
"{configurable: true, writable: true, value:","function pop() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}","});","Object.defineProperty(Array.prototype, 'push',","{configurable: true, writable: true, value:","function push(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;",
"for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}","});","Object.defineProperty(Array.prototype, 'shift',","{configurable: true, writable: true, value:","function shift() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","if ((i + 1) in o) {","o[i] = o[i + 1];","} else {",
"delete o[i];","}","}","delete o[i];","o.length = len - 1;","return value;","}","});","Object.defineProperty(Array.prototype, 'unshift',","{configurable: true, writable: true, value:","function unshift(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","if (i in o) {","o[i + arguments.length] = o[i];","} else {","delete o[i + arguments.length];","}","}","for (var i = 0; i < arguments.length; i++) {",
"o[i] = arguments[i];","}","return (o.length = len + arguments.length);","}","});","Object.defineProperty(Array.prototype, 'reverse',","{configurable: true, writable: true, value:","function reverse() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","var hasX = i in o;","if ((len - i - 1) in o) {","o[i] = o[len - i - 1];","} else {","delete o[i];","}","if (hasX) {",
"o[len - i - 1] = x;","} else {","delete o[len - i - 1];","}","}","return o;","}","});","Object.defineProperty(Array.prototype, 'indexOf',","{configurable: true, writable: true, value:","function indexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {",
"return i;","}","i++;","}","return -1;","}","});","Object.defineProperty(Array.prototype, 'lastIndexOf',","{configurable: true, writable: true, value:","function lastIndexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);",
"while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}","});","Object.defineProperty(Array.prototype, 'slice',","{configurable: true, writable: true, value:","function slice(start, end) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;",
"} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = new Array(size);","for (var i = 0; i < size; i++) {","if ((start + i) in o) {","cloned[i] = o[start + i];","}","}","return cloned;","}","});","Object.defineProperty(Array.prototype, 'splice',","{configurable: true, writable: true, value:","function splice(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","start |= 0;","if (start < 0) {",
"start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 1) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","if (i in o) {","removed.push(o[i]);","} else {","removed.length++;","}","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {",
"if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","var arl = arguments.length - 2;","for (var i = len - 1; i >= start; i--) {","if (i in o) {","o[i + arl] = o[i];","} else {","delete o[i + arl];","}","}","len += arl;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","o.length = len;","return removed;","}","});","Object.defineProperty(Array.prototype, 'concat',",
"{configurable: true, writable: true, value:","function concat(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","for (var j = 0, l = value.length; j < l; j++) {","if (j in value) {","cloned.push(value[j]);","} else {","cloned.length++;","}","}","} else {","cloned.push(value);","}","}","return cloned;","}","});","Object.defineProperty(Array.prototype, 'join',",
"{configurable: true, writable: true, value:","function join(opt_separator) {","if (!this) throw TypeError();","var o = Object(this);","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < o.length; i++) {","if (i && sep) {","str += sep;","}","str += (o[i] === null || o[i] === undefined) ? '' : o[i];","}","return str;","}","});","Object.defineProperty(Array.prototype, 'every',","{configurable: true, writable: true, value:","function every(callbackfn, thisArg) {",
"if (!this || typeof callbackfn !== 'function') throw TypeError();","var t, k;","var o = Object(this);","var len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","k = 0;","while (k < len) {","if (k in o && !callbackfn.call(t, o[k], k, o)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter',","{configurable: true, writable: true, value:","function filter(fun, var_args) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();",
"var o = Object(this);","var len = o.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o) {","var val = o[i];","if (fun.call(thisArg, val, i, o)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach',","{configurable: true, writable: true, value:","function forEach(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k;","var o = Object(this);",
"var len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","k = 0;","while (k < len) {","if (k in o) callback.call(t, o[k], k, o);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map',","{configurable: true, writable: true, value:","function map(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, a, k;","var o = Object(this);","var len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","a = new Array(len);","k = 0;","while (k < len) {",
"if (k in o) a[k] = callback.call(t, o[k], k, o);","k++;","}","return a;","}","});","Object.defineProperty(Array.prototype, 'reduce',","{configurable: true, writable: true, value:","function reduce(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0, k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in o)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');",
"}","value = o[k++];","}","for (; k < len; k++) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight',","{configurable: true, writable: true, value:","function reduceRight(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var o = Object(this), len = o.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];",
"} else {","while (k >= 0 && !(k in o)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k--];","}","for (; k >= 0; k--) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some',","{configurable: true, writable: true, value:","function some(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var o = Object(this);","var len = o.length >>> 0;",
"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o && fun.call(thisArg, o[i], i, o)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort',","{configurable: true, writable: true, value:","function sort(opt_comp) {","if (!this) throw TypeError();","if (typeof opt_comp !== 'function') {","opt_comp = undefined;","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {",
"if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :","(String(this[j]) > String(this[j + 1]))) {","var swap = this[j];","var hasSwap = j in this;","if ((j + 1) in this) {","this[j] = this[j + 1];","} else {","delete this[j];","}","if (hasSwap) {","this[j + 1] = swap;","} else {","delete this[j + 1];","}","changes++;","}","}","if (!changes) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString',","{configurable: true, writable: true, value:","function toLocaleString() {",
"if (!this) throw TypeError();","var o = Object(this);","var out = [];","for (var i = 0; i < o.length; i++) {","out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();","}","return out.join(',');","}","});","")};e.prototype.initString=function(b){var a=this,c;c=function(b){b=arguments.length?e.nativeGlobal.String(b):"";return a.calledWithNew()?(this.data=b,this):b};this.STRING=this.createNativeFunction(c,!0);this.setProperty(b,"String",this.STRING,e.NONENUMERABLE_DESCRIPTOR);
this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),e.NONENUMERABLE_DESCRIPTOR);b="charAt charCodeAt concat indexOf lastIndexOf slice substr substring toLocaleLowerCase toLocaleUpperCase toLowerCase toUpperCase trim".split(" ");for(c=0;c<b.length;c++)this.setNativeFunctionPrototype(this.STRING,b[c],String.prototype[b[c]]);c=function(b,c,e){c=a.pseudoToNative(c);e=a.pseudoToNative(e);try{return String(this).localeCompare(b,c,e)}catch(f){a.throwException(a.ERROR,
"localeCompare: "+f.message)}};this.setNativeFunctionPrototype(this.STRING,"localeCompare",c);c=function(b,c,f){var h=String(this);c=c?Number(c):void 0;if(a.isa(b,a.REGEXP)&&(b=b.data,a.maybeThrowRegExp(b,f),2===a.REGEXP_MODE)){if(e.vm)b=a.vmCall("string.split(separator, limit)",{string:h,separator:b,limit:c},b,f),b!==e.REGEXP_TIMEOUT&&f(a.arrayNativeToPseudo(b));else{var k=a.createWorker(),l=a.regExpTimeout(b,k,f);k.onmessage=function(b){clearTimeout(l);f(a.arrayNativeToPseudo(b.data))};k.postMessage(["split",
h,b,c])}return}b=h.split(b,c);f(a.arrayNativeToPseudo(b))};this.setAsyncFunctionPrototype(this.STRING,"split",c);c=function(b,c){var f=String(this);b=a.isa(b,a.REGEXP)?b.data:new RegExp(b);a.maybeThrowRegExp(b,c);if(2===a.REGEXP_MODE)if(e.vm)f=a.vmCall("string.match(regexp)",{string:f,regexp:b},b,c),f!==e.REGEXP_TIMEOUT&&c(f&&a.arrayNativeToPseudo(f));else{var h=a.createWorker(),k=a.regExpTimeout(b,h,c);h.onmessage=function(b){clearTimeout(k);c(b.data&&a.arrayNativeToPseudo(b.data))};h.postMessage(["match",
f,b])}else f=f.match(b),c(f&&a.arrayNativeToPseudo(f))};this.setAsyncFunctionPrototype(this.STRING,"match",c);c=function(b,c){var f=String(this);b=a.isa(b,a.REGEXP)?b.data:new RegExp(b);a.maybeThrowRegExp(b,c);if(2===a.REGEXP_MODE)if(e.vm)f=a.vmCall("string.search(regexp)",{string:f,regexp:b},b,c),f!==e.REGEXP_TIMEOUT&&c(f);else{var h=a.createWorker(),k=a.regExpTimeout(b,h,c);h.onmessage=function(a){clearTimeout(k);c(a.data)};h.postMessage(["search",f,b])}else c(f.search(b))};this.setAsyncFunctionPrototype(this.STRING,
"search",c);c=function(b,c,f){var h=String(this);c=String(c);if(a.isa(b,a.REGEXP)&&(b=b.data,a.maybeThrowRegExp(b,f),2===a.REGEXP_MODE)){if(e.vm)b=a.vmCall("string.replace(substr, newSubstr)",{string:h,substr:b,newSubstr:c},b,f),b!==e.REGEXP_TIMEOUT&&f(b);else{var k=a.createWorker(),l=a.regExpTimeout(b,k,f);k.onmessage=function(a){clearTimeout(l);f(a.data)};k.postMessage(["replace",h,b,c])}return}f(h.replace(b,c))};this.setAsyncFunctionPrototype(this.STRING,"replace",c);this.polyfills_.push("(function() {",
"var replace_ = String.prototype.replace;","String.prototype.replace = function replace(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {",
"str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")};e.prototype.initBoolean=function(b){var a=this;this.BOOLEAN=this.createNativeFunction(function(b){b=e.nativeGlobal.Boolean(b);return a.calledWithNew()?(this.data=b,this):
b},!0);this.setProperty(b,"Boolean",this.BOOLEAN,e.NONENUMERABLE_DESCRIPTOR)};e.prototype.initNumber=function(b){var a=this,c;c=function(b){b=arguments.length?e.nativeGlobal.Number(b):0;return a.calledWithNew()?(this.data=b,this):b};this.NUMBER=this.createNativeFunction(c,!0);this.setProperty(b,"Number",this.NUMBER,e.NONENUMERABLE_DESCRIPTOR);b=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"];for(c=0;c<b.length;c++)this.setProperty(this.NUMBER,b[c],Number[b[c]],e.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);
c=function(b){try{return Number(this).toExponential(b)}catch(c){a.throwException(a.ERROR,c.message)}};this.setNativeFunctionPrototype(this.NUMBER,"toExponential",c);c=function(b){try{return Number(this).toFixed(b)}catch(c){a.throwException(a.ERROR,c.message)}};this.setNativeFunctionPrototype(this.NUMBER,"toFixed",c);c=function(b){try{return Number(this).toPrecision(b)}catch(c){a.throwException(a.ERROR,c.message)}};this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",c);c=function(b){try{return Number(this).toString(b)}catch(c){a.throwException(a.ERROR,
c.message)}};this.setNativeFunctionPrototype(this.NUMBER,"toString",c);c=function(b,c){b=b?a.pseudoToNative(b):void 0;c=c?a.pseudoToNative(c):void 0;return Number(this).toLocaleString(b,c)};this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",c)};e.prototype.initDate=function(b){var a=this,c;c=function(b,c){if(!a.calledWithNew())return e.nativeGlobal.Date();var d=[null].concat(Array.from(arguments));this.data=new (Function.prototype.bind.apply(e.nativeGlobal.Date,d));return this};this.DATE=
this.createNativeFunction(c,!0);this.DATE_PROTO=this.DATE.properties.prototype;this.setProperty(b,"Date",this.DATE,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),e.NONENUMERABLE_DESCRIPTOR);b="getDate getDay getFullYear getHours getMilliseconds getMinutes getMonth getSeconds getTime getTimezoneOffset getUTCDate getUTCDay getUTCFullYear getUTCHours getUTCMilliseconds getUTCMinutes getUTCMonth getUTCSeconds getYear setDate setFullYear setHours setMilliseconds setMinutes setMonth setSeconds setTime setUTCDate setUTCFullYear setUTCHours setUTCMilliseconds setUTCMinutes setUTCMonth setUTCSeconds setYear toDateString toISOString toJSON toGMTString toLocaleDateString toLocaleString toLocaleTimeString toTimeString toUTCString".split(" ");
for(var d=0;d<b.length;d++)c=function(b){return function(c){var d=this.data;d instanceof Date||a.throwException(a.TYPE_ERROR,b+" not called on a Date");for(var e=[],f=0;f<arguments.length;f++)e[f]=a.pseudoToNative(arguments[f]);return d[b].apply(d,e)}}(b[d]),this.setNativeFunctionPrototype(this.DATE,b[d],c)};e.prototype.initRegExp=function(b){var a=this,c;c=function(b,c){if(a.calledWithNew())var f=this;else{if(void 0===c&&a.isa(b,a.REGEXP))return b;f=a.createObjectProto(a.REGEXP_PROTO)}b=void 0===
b?"":String(b);c=c?String(c):"";a.populateRegExp(f,new e.nativeGlobal.RegExp(b,c));return f};this.REGEXP=this.createNativeFunction(c,!0);this.REGEXP_PROTO=this.REGEXP.properties.prototype;this.setProperty(b,"RegExp",this.REGEXP,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.REGEXP.properties.prototype,"global",void 0,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(this.REGEXP.properties.prototype,
"multiline",void 0,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",e.READONLY_NONENUMERABLE_DESCRIPTOR);this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function test(str) {","return !!this.exec(str);","}","});");c=function(b,c){function f(b){if(b){var c=a.arrayNativeToPseudo(b);a.setProperty(c,"index",b.index);a.setProperty(c,"input",b.input);return c}return null}var h=this.data;
b=String(b);h.lastIndex=Number(a.getProperty(this,"lastIndex"));a.maybeThrowRegExp(h,c);if(2===a.REGEXP_MODE)if(e.vm){var k=a.vmCall("regexp.exec(string)",{string:b,regexp:h},h,c);k!==e.REGEXP_TIMEOUT&&(a.setProperty(this,"lastIndex",h.lastIndex),c(f(k)))}else{var k=a.createWorker(),l=a.regExpTimeout(h,k,c),q=this;k.onmessage=function(b){clearTimeout(l);a.setProperty(q,"lastIndex",b.data[1]);c(f(b.data[0]))};k.postMessage(["exec",h,h.lastIndex,b])}else k=h.exec(b),a.setProperty(this,"lastIndex",h.lastIndex),
c(f(k))};this.setAsyncFunctionPrototype(this.REGEXP,"exec",c)};e.prototype.initError=function(b){var a=this;this.ERROR=this.createNativeFunction(function(b){var c=a.calledWithNew()?this:a.createObject(a.ERROR);a.populateError(c,b);return c},!0);this.setProperty(b,"Error",this.ERROR,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.ERROR.properties.prototype,"message","",e.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.ERROR.properties.prototype,"name","Error",e.NONENUMERABLE_DESCRIPTOR);var c=function(c){var g=
a.createNativeFunction(function(b){var c=a.calledWithNew()?this:a.createObject(g);a.populateError(c,b);return c},!0);a.setProperty(g,"prototype",a.createObject(a.ERROR),e.NONENUMERABLE_DESCRIPTOR);a.setProperty(g.properties.prototype,"name",c,e.NONENUMERABLE_DESCRIPTOR);a.setProperty(b,c,g,e.NONENUMERABLE_DESCRIPTOR);return g};this.EVAL_ERROR=c("EvalError");this.RANGE_ERROR=c("RangeError");this.REFERENCE_ERROR=c("ReferenceError");this.SYNTAX_ERROR=c("SyntaxError");this.TYPE_ERROR=c("TypeError");this.URI_ERROR=
c("URIError")};e.prototype.initMath=function(b){var a=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(b,"Math",a,e.NONENUMERABLE_DESCRIPTOR);var c="E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2".split(" ");for(b=0;b<c.length;b++)this.setProperty(a,c[b],Math[c[b]],e.READONLY_NONENUMERABLE_DESCRIPTOR);c="abs acos asin atan atan2 ceil cos exp floor log max min pow random round sin sqrt tan".split(" ");for(b=0;b<c.length;b++)this.setProperty(a,c[b],this.createNativeFunction(Math[c[b]],!1),e.NONENUMERABLE_DESCRIPTOR)};
e.prototype.initJSON=function(b){var a=this,c=a.createObjectProto(this.OBJECT_PROTO);this.setProperty(b,"JSON",c,e.NONENUMERABLE_DESCRIPTOR);b=function(b){try{var c=JSON.parse(String(b))}catch(e){a.throwException(a.SYNTAX_ERROR,e.message)}return a.nativeToPseudo(c)};this.setProperty(c,"parse",this.createNativeFunction(b,!1));b=function(b,c,e){c&&"Function"===c["class"]?a.throwException(a.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):c&&"Array"===c["class"]?(c=a.arrayPseudoToNative(c),
c=c.filter(function(a){return"string"===typeof a||"number"===typeof a})):c=null;"string"!==typeof e&&"number"!==typeof e&&(e=void 0);b=a.pseudoToNative(b);try{var f=JSON.stringify(b,c,e)}catch(h){a.throwException(a.TYPE_ERROR,h.message)}return f};this.setProperty(c,"stringify",this.createNativeFunction(b,!1))};e.prototype.isa=function(b,a){if(null===b||void 0===b||!a)return!1;var c=a.properties.prototype;if(b===c)return!0;for(b=this.getPrototype(b);b;){if(b===c)return!0;b=b.proto}return!1};e.prototype.populateRegExp=
function(b,a){b.data=new RegExp(a.source,a.flags);this.setProperty(b,"lastIndex",a.lastIndex,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"source",a.source,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"global",a.global,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"ignoreCase",a.ignoreCase,e.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(b,"multiline",a.multiline,e.READONLY_NONENUMERABLE_DESCRIPTOR)};e.prototype.populateError=function(b,a){a&&this.setProperty(b,"message",
String(a),e.NONENUMERABLE_DESCRIPTOR);for(var c=[],d=this.stateStack.length-1;0<=d;d--){var g=this.stateStack[d],f=g.node;"CallExpression"===f.type&&(g=g.func_)&&c.length&&(c[c.length-1].name=this.getProperty(g,"name"));!f.loc||c.length&&"CallExpression"!==f.type||c.push({loc:f.loc})}f=String(this.getProperty(b,"name"));d=String(this.getProperty(b,"message"));g=f+": "+d+"\n";for(d=0;d<c.length;d++)var h=c[d].loc,f=c[d].name,h=h.source+":"+h.start.line+":"+h.start.column,g=f?g+("  at "+f+" ("+h+")\n"):
g+("  at "+h+"\n");this.setProperty(b,"stack",g.trim(),e.NONENUMERABLE_DESCRIPTOR)};e.prototype.createWorker=function(){var b=this.createWorker.blob_;b||(b=new Blob([e.WORKER_CODE.join("\n")],{type:"application/javascript"}),this.createWorker.blob_=b);return new Worker(URL.createObjectURL(b))};e.prototype.vmCall=function(b,a,c,d){var g={timeout:this.REGEXP_THREAD_TIMEOUT};try{return e.vm.runInNewContext(b,a,g)}catch(f){d(null),this.throwException(this.ERROR,"RegExp Timeout: "+c)}return e.REGEXP_TIMEOUT};
e.prototype.maybeThrowRegExp=function(b,a){var c;if(0===this.REGEXP_MODE)c=!1;else if(1===this.REGEXP_MODE)c=!0;else if(e.vm)c=!0;else if("function"===typeof Worker&&"function"===typeof URL)c=!0;else if("function"===typeof require){try{e.vm=require("vm")}catch(d){}c=!!e.vm}else c=!1;c||(a(null),this.throwException(this.ERROR,"Regular expressions not supported: "+b))};e.prototype.regExpTimeout=function(b,a,c){var d=this;return setTimeout(function(){a.terminate();c(null);try{d.throwException(d.ERROR,
"RegExp Timeout: "+b)}catch(e){}},this.REGEXP_THREAD_TIMEOUT)};e.prototype.createObject=function(b){return this.createObjectProto(b&&b.properties.prototype)};e.prototype.createObjectProto=function(b){if("object"!==typeof b)throw Error("Non object prototype");b=new e.Object(b);this.isa(b,this.ERROR)&&(b["class"]="Error");return b};e.prototype.createArray=function(){var b=this.createObjectProto(this.ARRAY_PROTO);this.setProperty(b,"length",0,{configurable:!1,enumerable:!1,writable:!0});b["class"]="Array";
return b};e.prototype.createFunctionBase_=function(b,a){var c=this.createObjectProto(this.FUNCTION_PROTO);if(a){var d=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(c,"prototype",d,e.NONENUMERABLE_DESCRIPTOR);this.setProperty(d,"constructor",c,e.NONENUMERABLE_DESCRIPTOR)}else c.illegalConstructor=!0;this.setProperty(c,"length",b,e.READONLY_NONENUMERABLE_DESCRIPTOR);c["class"]="Function";return c};e.prototype.createFunction=function(b,a,c){var d=this.createFunctionBase_(b.params.length,
!0);d.parentScope=a;d.node=b;this.setProperty(d,"name",b.id?String(b.id.name):c||"",e.READONLY_NONENUMERABLE_DESCRIPTOR);return d};e.prototype.createNativeFunction=function(b,a){var c=this.createFunctionBase_(b.length,a);c.nativeFunc=b;b.id=this.functionCounter_++;this.setProperty(c,"name",b.name,e.READONLY_NONENUMERABLE_DESCRIPTOR);return c};e.prototype.createAsyncFunction=function(b){var a=this.createFunctionBase_(b.length,!0);a.asyncFunc=b;b.id=this.functionCounter_++;this.setProperty(a,"name",
b.name,e.READONLY_NONENUMERABLE_DESCRIPTOR);return a};e.prototype.nativeToPseudo=function(b){if(b instanceof e.Object)throw Error("Object is already pseudo");if("object"!==typeof b&&"function"!==typeof b||null===b)return b;if(b instanceof RegExp){var a=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(a,b);return a}if(b instanceof Date)return a=this.createObjectProto(this.DATE_PROTO),a.data=new Date(b.valueOf()),a;if("function"===typeof b){var c=this,a=Object.getOwnPropertyDescriptor(b,
"prototype");return this.createNativeFunction(function(){var a=Array.prototype.slice.call(arguments).map(function(a){return c.pseudoToNative(a)}),a=b.apply(c,a);return c.nativeToPseudo(a)},!!a)}if(Array.isArray(b)){for(var a=this.createArray(),d=0;d<b.length;d++)d in b&&this.setProperty(a,d,this.nativeToPseudo(b[d]));return a}a=this.createObjectProto(this.OBJECT_PROTO);for(d in b)this.setProperty(a,d,this.nativeToPseudo(b[d]));return a};e.prototype.pseudoToNative=function(b,a){if("object"!==typeof b&&
"function"!==typeof b||null===b)return b;if(!(b instanceof e.Object))throw Error("Object is not pseudo");if(this.isa(b,this.REGEXP)){var c=new RegExp(b.data.source,b.data.flags);c.lastIndex=b.data.lastIndex;return c}if(this.isa(b,this.DATE))return new Date(b.data.valueOf());var c=a||{pseudo:[],"native":[]},d=c.pseudo.indexOf(b);if(-1!==d)return c["native"][d];c.pseudo.push(b);var g;if(this.isa(b,this.ARRAY)){g=[];c["native"].push(g);for(var f=this.getProperty(b,"length"),d=0;d<f;d++)this.hasProperty(b,
d)&&(g[d]=this.pseudoToNative(this.getProperty(b,d),c))}else for(f in g={},c["native"].push(g),b.properties)d=this.pseudoToNative(b.properties[f],c),Object.defineProperty(g,f,{value:d,writable:!0,enumerable:!0,configurable:!0});c.pseudo.pop();c["native"].pop();return g};e.prototype.arrayNativeToPseudo=function(b){for(var a=this.createArray(),c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++)this.setProperty(a,c[d],b[c[d]]);return a};e.prototype.arrayPseudoToNative=function(b){var a=[],c;for(c in b.properties)a[c]=
this.getProperty(b,c);a.length=e.legalArrayLength(this.getProperty(b,"length"))||0;return a};e.prototype.getPrototype=function(b){switch(typeof b){case "number":return this.NUMBER.properties.prototype;case "boolean":return this.BOOLEAN.properties.prototype;case "string":return this.STRING.properties.prototype}return b?b.proto:null};e.prototype.getProperty=function(b,a){if(this.getterStep_)throw Error("Getter not supported in that context");a=String(a);void 0!==b&&null!==b||this.throwException(this.TYPE_ERROR,
"Cannot read property '"+a+"' of "+b);if("object"===typeof b&&!(b instanceof e.Object))throw TypeError("Expecting native value or pseudo object");if("length"===a){if(this.isa(b,this.STRING))return String(b).length}else if(64>a.charCodeAt(0)&&this.isa(b,this.STRING)){var c=e.legalArrayIndex(a);if(!isNaN(c)&&c<String(b).length)return String(b)[c]}do if(b.properties&&a in b.properties)return(c=b.getter[a])?(this.getterStep_=!0,c):b.properties[a];while(b=this.getPrototype(b))};e.prototype.hasProperty=
function(b,a){if(!(b instanceof e.Object))throw TypeError("Primitive data type has no properties");a=String(a);if("length"===a&&this.isa(b,this.STRING))return!0;if(this.isa(b,this.STRING)){var c=e.legalArrayIndex(a);if(!isNaN(c)&&c<String(b).length)return!0}do if(b.properties&&a in b.properties)return!0;while(b=this.getPrototype(b));return!1};e.prototype.setProperty=function(b,a,c,d){if(this.setterStep_)throw Error("Setter not supported in that context");a=String(a);void 0!==b&&null!==b||this.throwException(this.TYPE_ERROR,
"Cannot set property '"+a+"' of "+b);if("object"===typeof b&&!(b instanceof e.Object))throw TypeError("Expecting native value or pseudo object");d&&("get"in d||"set"in d)&&("value"in d||"writable"in d)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var g=!this.stateStack||this.getScope().strict;if(b instanceof e.Object){if(this.isa(b,this.STRING)){var f=e.legalArrayIndex(a);if("length"===a||!isNaN(f)&&f<String(b).length){g&&
this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+a+"' of String '"+b.data+"'");return}}if("Array"===b["class"]){var f=b.properties.length,h;if("length"===a){if(d){if(!("value"in d))return;c=d.value}c=e.legalArrayLength(c);isNaN(c)&&this.throwException(this.RANGE_ERROR,"Invalid array length");if(c<f)for(h in b.properties)h=e.legalArrayIndex(h),!isNaN(h)&&c<=h&&delete b.properties[h]}else isNaN(h=e.legalArrayIndex(a))||(b.properties.length=Math.max(f,h+1))}if(!b.preventExtensions||
a in b.properties)if(d){g={};"get"in d&&d.get&&(b.getter[a]=d.get,g.get=this.setProperty.placeholderGet_);"set"in d&&d.set&&(b.setter[a]=d.set,g.set=this.setProperty.placeholderSet_);"configurable"in d&&(g.configurable=d.configurable);"enumerable"in d&&(g.enumerable=d.enumerable);"writable"in d&&(g.writable=d.writable,delete b.getter[a],delete b.setter[a]);"value"in d?(g.value=d.value,delete b.getter[a],delete b.setter[a]):c!==e.VALUE_IN_DESCRIPTOR&&(g.value=c,delete b.getter[a],delete b.setter[a]);
try{Object.defineProperty(b.properties,a,g)}catch(k){this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+a)}"get"in d&&!d.get&&delete b.getter[a];"set"in d&&!d.set&&delete b.setter[a]}else{if(c===e.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified.");for(d=b;!(a in d.properties);)if(d=this.getPrototype(d),!d){d=b;break}if(d.setter&&d.setter[a])return this.setterStep_=!0,d.setter[a];if(d.getter&&d.getter[a])g&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+a+"' of object '"+
b+"' which only has a getter");else try{b.properties[a]=c}catch(k){g&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+a+"' of object '"+b+"'")}}else g&&this.throwException(this.TYPE_ERROR,"Can't add property '"+a+"', object is not extensible")}else g&&this.throwException(this.TYPE_ERROR,"Can't create property '"+a+"' on '"+b+"'")};e.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter");};e.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter");
};e.prototype.setNativeFunctionPrototype=function(b,a,c){this.setProperty(b.properties.prototype,a,this.createNativeFunction(c,!1),e.NONENUMERABLE_DESCRIPTOR)};e.prototype.setAsyncFunctionPrototype=function(b,a,c){this.setProperty(b.properties.prototype,a,this.createAsyncFunction(c),e.NONENUMERABLE_DESCRIPTOR)};e.prototype.getScope=function(){var b=this.stateStack[this.stateStack.length-1].scope;if(!b)throw Error("No scope found.");return b};e.prototype.createScope=function(b,a){var c=!1;if(a&&a.strict)c=
!0;else{var d=b.body&&b.body[0];d&&d.expression&&"Literal"===d.expression.type&&"use strict"===d.expression.value&&(c=!0)}d=this.createObjectProto(null);c=new e.Scope(a,c,d);a||this.initGlobal(c.object);this.populateScope_(b,c);return c};e.prototype.createSpecialScope=function(b,a){if(!b)throw Error("parentScope required");var c=a||this.createObjectProto(null);return new e.Scope(b,b.strict,c)};e.prototype.getValueFromScope=function(b){for(var a=this.getScope();a&&a!==this.globalScope;){if(b in a.object.properties)return a.object.properties[b];
a=a.parentScope}if(a===this.globalScope&&this.hasProperty(a.object,b))return this.getProperty(a.object,b);a=this.stateStack[this.stateStack.length-1].node;"UnaryExpression"===a.type&&"typeof"===a.operator||this.throwException(this.REFERENCE_ERROR,b+" is not defined")};e.prototype.setValueToScope=function(b,a){for(var c=this.getScope(),d=c.strict;c&&c!==this.globalScope;){if(b in c.object.properties){c.object.properties[b]=a;return}c=c.parentScope}if(c===this.globalScope&&(!d||this.hasProperty(c.object,
b)))return this.setProperty(c.object,b,a);this.throwException(this.REFERENCE_ERROR,b+" is not defined")};e.prototype.populateScope_=function(b,a){if("VariableDeclaration"===b.type)for(var c=0;c<b.declarations.length;c++)this.setProperty(a.object,b.declarations[c].id.name,void 0,e.VARIABLE_DESCRIPTOR);else{if("FunctionDeclaration"===b.type){this.setProperty(a.object,b.id.name,this.createFunction(b,a),e.VARIABLE_DESCRIPTOR);return}if("FunctionExpression"===b.type||"ExpressionStatement"===b.type)return}var d=
b.constructor,g;for(g in b){var f=b[g];if(f&&"object"===typeof f)if(Array.isArray(f))for(c=0;c<f.length;c++)f[c]&&f[c].constructor===d&&this.populateScope_(f[c],a);else f.constructor===d&&this.populateScope_(f,a)}};e.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor};e.prototype.getValue=function(b){return b[0]===e.SCOPE_REFERENCE?this.getValueFromScope(b[1]):this.getProperty(b[0],b[1])};e.prototype.setValue=function(b,a){return b[0]===e.SCOPE_REFERENCE?
this.setValueToScope(b[1],a):this.setProperty(b[0],b[1],a)};e.prototype.throwException=function(b,a){if(void 0===a)var c=b;else c=this.createObject(b),this.populateError(c,a);this.unwind(e.Completion.THROW,c,void 0);throw e.STEP_ERROR;};e.prototype.unwind=function(b,a,c){if(b===e.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");var d=this.stateStack;a:for(;0<d.length;d.pop()){var g=d[d.length-1];switch(g.node.type){case "TryStatement":g.cv={type:b,value:a,label:c};return;
case "CallExpression":case "NewExpression":if(b===e.Completion.RETURN){g.value=a;return}if(b!==e.Completion.THROW)throw Error("Unsynatctic break/continue not rejected by Acorn");break;case "Program":g.done=!0;break a}if(b===e.Completion.BREAK){if(c?g.labels&&-1!==g.labels.indexOf(c):g.isLoop||g.isSwitch){d.pop();return}}else if(b===e.Completion.CONTINUE&&(c?g.labels&&-1!==g.labels.indexOf(c):g.isLoop))return}this.isa(a,this.ERROR)?(b={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,
SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},c=String(this.getProperty(a,"name")),d=this.getProperty(a,"message").valueOf(),b=(b[c]||Error)(d),b.stack=String(this.getProperty(a,"stack"))):b=String(a);throw b;};e.prototype.createGetter_=function(b,a){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var c=Array.isArray(a)?a[0]:a,d=new this.nodeConstructor({options:{}});d.type="CallExpression";d=new e.State(d,this.stateStack[this.stateStack.length-
1].scope);d.doneCallee_=!0;d.funcThis_=c;d.func_=b;d.doneArgs_=!0;d.arguments_=[];return d};e.prototype.createSetter_=function(b,a,c){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;a=Array.isArray(a)?a[0]:this.globalObject;var d=new this.nodeConstructor({options:{}});d.type="CallExpression";d=new e.State(d,this.stateStack[this.stateStack.length-1].scope);d.doneCallee_=!0;d.funcThis_=a;d.func_=b;d.doneArgs_=!0;d.arguments_=[c];return d};e.prototype.boxThis_=
function(b){if(void 0===b||null===b)return this.globalObject;if(!(b instanceof e.Object)){var a=this.createObjectProto(this.getPrototype(b));a.data=b;return a}return b};e.State=function(b,a){this.node=b;this.scope=a};e.Scope=function(b,a,c){this.parentScope=b;this.strict=a;this.object=c};e.Object=function(b){this.getter=Object.create(null);this.setter=Object.create(null);this.properties=Object.create(null);this.proto=b};e.Object.prototype.proto=null;e.Object.prototype["class"]="Object";e.Object.prototype.data=
null;e.Object.prototype.toString=function(){if(!(this instanceof e.Object))return String(this);if("Array"===this["class"]){var b=e.toStringCycles_;b.push(this);try{var a=[],c=this.properties.length,d=!1;1024<c&&(c=1E3,d=!0);for(var g=0;g<c;g++){var f=this.properties[g];a[g]=f instanceof e.Object&&-1!==b.indexOf(f)?"...":f}d&&a.push("...")}finally{b.pop()}return a.join(",")}if("Error"===this["class"]){b=e.toStringCycles_;if(-1!==b.indexOf(this))return"[object Error]";c=this;do if("name"in c.properties){a=
c.properties.name;break}while(c=c.proto);c=this;do if("message"in c.properties){d=c.properties.message;break}while(c=c.proto);b.push(this);try{a=a&&String(a),d=d&&String(d)}finally{b.pop()}return d?a+": "+d:String(a)}return null!==this.data?String(this.data):"[object "+this["class"]+"]"};e.Object.prototype.valueOf=function(){return void 0===this.data||null===this.data||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data};e.prototype.stepArrayExpression=function(b,
a,c){c=c.elements;var d=a.n_||0;a.array_?(this.setProperty(a.array_,d,a.value),d++):(a.array_=this.createArray(),a.array_.properties.length=c.length);for(;d<c.length;){if(c[d])return a.n_=d,new e.State(c[d],a.scope);d++}b.pop();b[b.length-1].value=a.array_};e.prototype.stepAssignmentExpression=function(b,a,c){if(!a.doneLeft_)return a.doneLeft_=!0,a=new e.State(c.left,a.scope),a.components=!0,a;if(!a.doneRight_){a.leftReference_||(a.leftReference_=a.value);a.doneGetter_&&(a.leftValue_=a.value);if(!a.doneGetter_&&
"="!==c.operator&&(b=this.getValue(a.leftReference_),a.leftValue_=b,this.getterStep_))return a.doneGetter_=!0,this.createGetter_(b,a.leftReference_);a.doneRight_=!0;"="===c.operator&&"Identifier"===c.left.type&&(a.destinationName=c.left.name);return new e.State(c.right,a.scope)}if(a.doneSetter_)b.pop(),b[b.length-1].value=a.setterValue_;else{var d=a.leftValue_,g=a.value;switch(c.operator){case "=":d=g;break;case "+=":d+=g;break;case "-=":d-=g;break;case "*=":d*=g;break;case "/=":d/=g;break;case "%=":d%=
g;break;case "<<=":d<<=g;break;case ">>=":d>>=g;break;case ">>>=":d>>>=g;break;case "&=":d&=g;break;case "^=":d^=g;break;case "|=":d|=g;break;default:throw SyntaxError("Unknown assignment expression: "+c.operator);}if(c=this.setValue(a.leftReference_,d))return a.doneSetter_=!0,a.setterValue_=d,this.createSetter_(c,a.leftReference_,d);b.pop();b[b.length-1].value=d}};e.prototype.stepBinaryExpression=function(b,a,c){if(!a.doneLeft_)return a.doneLeft_=!0,new e.State(c.left,a.scope);if(!a.doneRight_)return a.doneRight_=
!0,a.leftValue_=a.value,new e.State(c.right,a.scope);b.pop();var d=a.leftValue_;a=a.value;switch(c.operator){case "==":c=d==a;break;case "!=":c=d!=a;break;case "===":c=d===a;break;case "!==":c=d!==a;break;case ">":c=d>a;break;case ">=":c=d>=a;break;case "<":c=d<a;break;case "<=":c=d<=a;break;case "+":c=d+a;break;case "-":c=d-a;break;case "*":c=d*a;break;case "/":c=d/a;break;case "%":c=d%a;break;case "&":c=d&a;break;case "|":c=d|a;break;case "^":c=d^a;break;case "<<":c=d<<a;break;case ">>":c=d>>a;
break;case ">>>":c=d>>>a;break;case "in":a instanceof e.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+a+"'");c=this.hasProperty(a,d);break;case "instanceof":this.isa(a,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Right-hand side of instanceof is not an object");c=d instanceof e.Object?this.isa(d,a):!1;break;default:throw SyntaxError("Unknown binary operator: "+c.operator);}b[b.length-1].value=c};e.prototype.stepBlockStatement=function(b,a,c){var d=a.n_||0;if(c=
c.body[d])return a.n_=d+1,new e.State(c,a.scope);b.pop()};e.prototype.stepBreakStatement=function(b,a,c){this.unwind(e.Completion.BREAK,void 0,c.label&&c.label.name)};e.prototype.evalCodeNumber_=0;e.prototype.stepCallExpression=function(b,a,c){if(!a.doneCallee_){a.doneCallee_=1;var d=new e.State(c.callee,a.scope);d.components=!0;return d}if(1===a.doneCallee_){a.doneCallee_=2;d=a.value;if(Array.isArray(d)){if(a.func_=this.getValue(d),d[0]===e.SCOPE_REFERENCE?a.directEval_="eval"===d[1]:a.funcThis_=
d[0],d=a.func_,this.getterStep_)return a.doneCallee_=1,this.createGetter_(d,a.value)}else a.func_=d;a.arguments_=[];a.n_=0}d=a.func_;if(!a.doneArgs_){0!==a.n_&&a.arguments_.push(a.value);if(c.arguments[a.n_])return new e.State(c.arguments[a.n_++],a.scope);if("NewExpression"===c.type){d instanceof e.Object&&!d.illegalConstructor||this.throwException(this.TYPE_ERROR,d+" is not a constructor");if(d===this.ARRAY)a.funcThis_=this.createArray();else{var g=d.properties.prototype;if("object"!==typeof g||
null===g)g=this.OBJECT_PROTO;a.funcThis_=this.createObjectProto(g)}a.isConstructor=!0}a.doneArgs_=!0}if(a.doneExec_)b.pop(),b[b.length-1].value=a.isConstructor&&"object"!==typeof a.value?a.funcThis_:a.value;else{a.doneExec_=!0;d instanceof e.Object||this.throwException(this.TYPE_ERROR,d+" is not a function");if(b=d.node){c=this.createScope(b.body,d.parentScope);for(var f=0;f<b.params.length;f++)this.setProperty(c.object,b.params[f].name,a.arguments_.length>f?a.arguments_[f]:void 0);g=this.createArray();
for(f=0;f<a.arguments_.length;f++)this.setProperty(g,f,a.arguments_[f]);this.setProperty(c.object,"arguments",g);(f=b.id&&b.id.name)&&this.setProperty(c.object,f,d);c.strict||(a.funcThis_=this.boxThis_(a.funcThis_));this.setProperty(c.object,"this",a.funcThis_,e.READONLY_DESCRIPTOR);a.value=void 0;return new e.State(b.body,c)}if(d.eval)if(d=a.arguments_[0],"string"!==typeof d)a.value=d;else{try{f=this.parse_(String(d),"eval"+this.evalCodeNumber_++)}catch(h){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+
h.message)}d=new this.nodeConstructor({options:{}});d.type="EvalProgram_";d.body=f.body;e.stripLocations_(d,c.start,c.end);c=a.directEval_?a.scope:this.globalScope;c.strict?c=this.createScope(f,c):this.populateScope_(f,c);this.value=void 0;return new e.State(d,c)}else if(d.nativeFunc)a.scope.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),a.value=d.nativeFunc.apply(a.funcThis_,a.arguments_);else if(d.asyncFunc){var k=this,f=d.asyncFunc.length-1,f=a.arguments_.concat(Array(f)).slice(0,f);f.push(function(b){a.value=
b;k.paused_=!1});this.paused_=!0;a.scope.strict||(a.funcThis_=this.boxThis_(a.funcThis_));d.asyncFunc.apply(a.funcThis_,f)}else this.throwException(this.TYPE_ERROR,d["class"]+" is not callable")}};e.prototype.stepCatchClause=function(b,a,c){if(a.done_)b.pop();else return a.done_=!0,b=this.createSpecialScope(a.scope),this.setProperty(b.object,c.param.name,a.throwValue),new e.State(c.body,b)};e.prototype.stepConditionalExpression=function(b,a,c){var d=a.mode_||0;if(0===d)return a.mode_=1,new e.State(c.test,
a.scope);if(1===d){a.mode_=2;if((d=!!a.value)&&c.consequent)return new e.State(c.consequent,a.scope);if(!d&&c.alternate)return new e.State(c.alternate,a.scope);this.value=void 0}b.pop();"ConditionalExpression"===c.type&&(b[b.length-1].value=a.value)};e.prototype.stepContinueStatement=function(b,a,c){this.unwind(e.Completion.CONTINUE,void 0,c.label&&c.label.name)};e.prototype.stepDebuggerStatement=function(b,a,c){b.pop()};e.prototype.stepDoWhileStatement=function(b,a,c){"DoWhileStatement"===c.type&&
void 0===a.test_&&(a.value=!0,a.test_=!0);if(!a.test_)return a.test_=!0,new e.State(c.test,a.scope);if(!a.value)b.pop();else if(c.body)return a.test_=!1,a.isLoop=!0,new e.State(c.body,a.scope)};e.prototype.stepEmptyStatement=function(b,a,c){b.pop()};e.prototype.stepEvalProgram_=function(b,a,c){var d=a.n_||0;if(c=c.body[d])return a.n_=d+1,new e.State(c,a.scope);b.pop();b[b.length-1].value=this.value};e.prototype.stepExpressionStatement=function(b,a,c){if(!a.done_)return a.done_=!0,new e.State(c.expression,
a.scope);b.pop();this.value=a.value};e.prototype.stepForInStatement=function(b,a,c){if(!a.doneInit_&&(a.doneInit_=!0,c.left.declarations&&c.left.declarations[0].init))return a.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer."),new e.State(c.left,a.scope);if(!a.doneObject_)return a.doneObject_=!0,a.variable_||(a.variable_=a.value),new e.State(c.right,a.scope);a.isLoop||(a.isLoop=!0,a.object_=a.value,a.visited_=Object.create(null));if(void 0===
a.name_)a:for(;;){if(a.object_ instanceof e.Object)for(a.props_||(a.props_=Object.getOwnPropertyNames(a.object_.properties));;){var d=a.props_.shift();if(void 0===d)break;if(Object.prototype.hasOwnProperty.call(a.object_.properties,d)&&!a.visited_[d]&&(a.visited_[d]=!0,Object.prototype.propertyIsEnumerable.call(a.object_.properties,d))){a.name_=d;break a}}else if(null!==a.object_&&void 0!==a.object_)for(a.props_||(a.props_=Object.getOwnPropertyNames(a.object_));;){d=a.props_.shift();if(void 0===d)break;
a.visited_[d]=!0;if(Object.prototype.propertyIsEnumerable.call(a.object_,d)){a.name_=d;break a}}a.object_=this.getPrototype(a.object_);a.props_=null;if(null===a.object_){b.pop();return}}if(!a.doneVariable_)if(a.doneVariable_=!0,b=c.left,"VariableDeclaration"===b.type)a.variable_=[e.SCOPE_REFERENCE,b.declarations[0].id.name];else return a.variable_=null,a=new e.State(b,a.scope),a.components=!0,a;a.variable_||(a.variable_=a.value);if(!a.doneSetter_&&(a.doneSetter_=!0,b=a.name_,d=this.setValue(a.variable_,
b)))return this.createSetter_(d,a.variable_,b);a.name_=void 0;a.doneVariable_=!1;a.doneSetter_=!1;if(c.body)return new e.State(c.body,a.scope)};e.prototype.stepForStatement=function(b,a,c){var d=a.mode_||0;if(0===d){if(a.mode_=1,c.init)return new e.State(c.init,a.scope)}else if(1===d){if(a.mode_=2,c.test)return new e.State(c.test,a.scope)}else if(2===d)if(a.mode_=3,c.test&&!a.value)b.pop();else return a.isLoop=!0,new e.State(c.body,a.scope);else if(3===d&&(a.mode_=1,c.update))return new e.State(c.update,
a.scope)};e.prototype.stepFunctionDeclaration=function(b,a,c){b.pop()};e.prototype.stepFunctionExpression=function(b,a,c){b.pop();a=b[b.length-1];a.value=this.createFunction(c,a.scope,a.destinationName)};e.prototype.stepIdentifier=function(b,a,c){b.pop();if(a.components)b[b.length-1].value=[e.SCOPE_REFERENCE,c.name];else{a=this.getValueFromScope(c.name);if(this.getterStep_)return this.createGetter_(a,this.globalObject);b[b.length-1].value=a}};e.prototype.stepIfStatement=e.prototype.stepConditionalExpression;
e.prototype.stepLabeledStatement=function(b,a,c){b.pop();b=a.labels||[];b.push(c.label.name);a=new e.State(c.body,a.scope);a.labels=b;return a};e.prototype.stepLiteral=function(b,a,c){b.pop();a=c.value;a instanceof RegExp&&(c=this.createObjectProto(this.REGEXP_PROTO),this.populateRegExp(c,a),a=c);b[b.length-1].value=a};e.prototype.stepLogicalExpression=function(b,a,c){if("&&"!==c.operator&&"||"!==c.operator)throw SyntaxError("Unknown logical operator: "+c.operator);if(!a.doneLeft_)return a.doneLeft_=
!0,new e.State(c.left,a.scope);if(a.doneRight_)b.pop(),b[b.length-1].value=a.value;else if("&&"===c.operator&&!a.value||"||"===c.operator&&a.value)b.pop(),b[b.length-1].value=a.value;else return a.doneRight_=!0,new e.State(c.right,a.scope)};e.prototype.stepMemberExpression=function(b,a,c){if(!a.doneObject_)return a.doneObject_=!0,new e.State(c.object,a.scope);if(c.computed)if(a.doneProperty_)c=a.value;else return a.object_=a.value,a.doneProperty_=!0,new e.State(c.property,a.scope);else a.object_=
a.value,c=c.property.name;b.pop();if(a.components)b[b.length-1].value=[a.object_,c];else{c=this.getProperty(a.object_,c);if(this.getterStep_)return this.createGetter_(c,a.object_);b[b.length-1].value=c}};e.prototype.stepNewExpression=e.prototype.stepCallExpression;e.prototype.stepObjectExpression=function(b,a,c){var d=a.n_||0,g=c.properties[d];if(a.object_){var f=a.destinationName;a.properties_[f]||(a.properties_[f]={});a.properties_[f][g.kind]=a.value;a.n_=++d;g=c.properties[d]}else a.object_=this.createObjectProto(this.OBJECT_PROTO),
a.properties_=Object.create(null);if(g){var h=g.key;if("Identifier"===h.type)f=h.name;else if("Literal"===h.type)f=h.value;else throw SyntaxError("Unknown object structure: "+h.type);a.destinationName=f;return new e.State(g.value,a.scope)}for(h in a.properties_)c=a.properties_[h],"get"in c||"set"in c?this.setProperty(a.object_,h,e.VALUE_IN_DESCRIPTOR,{configurable:!0,enumerable:!0,get:c.get,set:c.set}):this.setProperty(a.object_,h,c.init);b.pop();b[b.length-1].value=a.object_};e.prototype.stepProgram=
function(b,a,c){if(b=c.body.shift())return a.done=!1,new e.State(b,a.scope);a.done=!0};e.prototype.stepReturnStatement=function(b,a,c){if(c.argument&&!a.done_)return a.done_=!0,new e.State(c.argument,a.scope);this.unwind(e.Completion.RETURN,a.value,void 0)};e.prototype.stepSequenceExpression=function(b,a,c){var d=a.n_||0;if(c=c.expressions[d])return a.n_=d+1,new e.State(c,a.scope);b.pop();b[b.length-1].value=a.value};e.prototype.stepSwitchStatement=function(b,a,c){if(!a.test_)return a.test_=1,new e.State(c.discriminant,
a.scope);1===a.test_&&(a.test_=2,a.switchValue_=a.value,a.defaultCase_=-1);for(;;){var d=a.index_||0,g=c.cases[d];if(a.matched_||!g||g.test)if(g||a.matched_||-1===a.defaultCase_)if(g){if(!a.matched_&&!a.tested_&&g.test)return a.tested_=!0,new e.State(g.test,a.scope);if(a.matched_||a.value===a.switchValue_){a.matched_=!0;var f=a.n_||0;if(g.consequent[f])return a.isSwitch=!0,a.n_=f+1,new e.State(g.consequent[f],a.scope)}a.tested_=!1;a.n_=0;a.index_=d+1}else{b.pop();break}else a.matched_=!0,a.index_=
a.defaultCase_;else a.defaultCase_=d,a.index_=d+1}};e.prototype.stepThisExpression=function(b,a,c){b.pop();b[b.length-1].value=this.getValueFromScope("this")};e.prototype.stepThrowStatement=function(b,a,c){if(a.done_)this.throwException(a.value);else return a.done_=!0,new e.State(c.argument,a.scope)};e.prototype.stepTryStatement=function(b,a,c){if(!a.doneBlock_)return a.doneBlock_=!0,new e.State(c.block,a.scope);if(a.cv&&a.cv.type===e.Completion.THROW&&!a.doneHandler_&&c.handler)return a.doneHandler_=
!0,b=new e.State(c.handler,a.scope),b.throwValue=a.cv.value,a.cv=void 0,b;if(!a.doneFinalizer_&&c.finalizer)return a.doneFinalizer_=!0,new e.State(c.finalizer,a.scope);b.pop();a.cv&&this.unwind(a.cv.type,a.cv.value,a.cv.label)};e.prototype.stepUnaryExpression=function(b,a,c){if(!a.done_)return a.done_=!0,b=new e.State(c.argument,a.scope),b.components="delete"===c.operator,b;b.pop();var d=a.value;if("-"===c.operator)d=-d;else if("+"===c.operator)d=+d;else if("!"===c.operator)d=!d;else if("~"===c.operator)d=
~d;else if("delete"===c.operator){c=!0;if(Array.isArray(d)){var f=d[0];f===e.SCOPE_REFERENCE&&(f=a.scope);d=String(d[1]);try{delete f.properties[d]}catch(h){a.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+d+"' of '"+f+"'"):c=!1}}d=c}else if("typeof"===c.operator)d=d&&"Function"===d["class"]?"function":typeof d;else if("void"===c.operator)d=void 0;else throw SyntaxError("Unknown unary operator: "+c.operator);b[b.length-1].value=d};e.prototype.stepUpdateExpression=function(b,
a,c){if(!a.doneLeft_)return a.doneLeft_=!0,b=new e.State(c.argument,a.scope),b.components=!0,b;a.leftSide_||(a.leftSide_=a.value);a.doneGetter_&&(a.leftValue_=a.value);if(!a.doneGetter_){var d=this.getValue(a.leftSide_);a.leftValue_=d;if(this.getterStep_)return a.doneGetter_=!0,this.createGetter_(d,a.leftSide_)}if(a.doneSetter_)b.pop(),b[b.length-1].value=a.setterValue_;else{var d=Number(a.leftValue_),f;if("++"===c.operator)f=d+1;else if("--"===c.operator)f=d-1;else throw SyntaxError("Unknown update expression: "+
c.operator);c=c.prefix?f:d;if(d=this.setValue(a.leftSide_,f))return a.doneSetter_=!0,a.setterValue_=c,this.createSetter_(d,a.leftSide_,f);b.pop();b[b.length-1].value=c}};e.prototype.stepVariableDeclaration=function(b,a,c){c=c.declarations;var d=a.n_||0,f=c[d];a.init_&&f&&(this.setValueToScope(f.id.name,a.value),a.init_=!1,f=c[++d]);for(;f;){if(f.init)return a.n_=d,a.init_=!0,a.destinationName=f.id.name,new e.State(f.init,a.scope);f=c[++d]}b.pop()};e.prototype.stepWithStatement=function(b,a,c){if(a.doneObject_)if(a.doneBody_)b.pop();
else return a.doneBody_=!0,b=this.createSpecialScope(a.scope,a.value),new e.State(c.body,b);else return a.doneObject_=!0,new e.State(c.object,a.scope)};e.prototype.stepWhileStatement=e.prototype.stepDoWhileStatement;(void 0).Interpreter=e;e.prototype.step=e.prototype.step;e.prototype.run=e.prototype.run;e.prototype.appendCode=e.prototype.appendCode;e.prototype.createObject=e.prototype.createObject;e.prototype.createObjectProto=e.prototype.createObjectProto;e.prototype.createAsyncFunction=e.prototype.createAsyncFunction;
e.prototype.createNativeFunction=e.prototype.createNativeFunction;e.prototype.getProperty=e.prototype.getProperty;e.prototype.setProperty=e.prototype.setProperty;e.prototype.nativeToPseudo=e.prototype.nativeToPseudo;e.prototype.pseudoToNative=e.prototype.pseudoToNative;global.acorn=wc;module.exports.createInterpreterEnvironment=function(){function b(a){a:{var b=this.getRawValue(a);switch(typeof b){case "object":if(null!==b){a={type:"object",path:a,keys:Object.keys(b)};break a}case "string":case "number":case "boolean":case "undefined":a=
{type:"primitive",value:b};break a;case "function":a={type:"function",path:a,keys:Object.keys(b).concat(Object.keys(b.prototype))};break a;default:throw Error("Unknown type: "+typeof current);}}return a}function a(a){switch(a.type){case "primitive":return a.value;case "object":case "function":return this.getRawValue(a.path);default:throw Error("Unknown type: "+a.type);}}function c(a,b){for(var c=b.map(function(a){if("object"===typeof a){var b="_argobj"+f++;e[b]=a;return{type:"object",path:[b],keys:Object.keys(a).concat(Object.keys(a.prototype))}}return"function"===
typeof a?(b="_argfun"+f++,e[b]=a,{type:"function",path:[b]}):{type:"primitive",value:a}}),d=$jscomp.makeIterator(c),h=d.next();!h.done;h=d.next())h=h.value,"object"===h.type?interpreter.appendCode("var "+h.path.join("_")+" = linkHeavenlyObject("+JSON.stringify(c.path)+", "+JSON.stringify(c.keys)+");"):"function"===h.type?interpreter.appendCode("var "+h.path.join("_")+" = linkHeavenlyFunction("+JSON.stringify(c.path)+");"):interpreter.appendCode("var "+h.path.join("_")+" = "+JSON.stringify(h.value)+
";");interpreter.appendCode("var _retobj = "+a+"("+c.map(function(a){return a.path.join("_")}).join(", ")+");");interpreter.run()}function d(c,d){var f=c.nativeToPseudo({});c.setProperty(d,"proxy",f);c.setProperty(d,"getFromHeaven",c.createNativeFunction(function(a){return JSON.stringify(b(JSON.parse(a)))}));c.setProperty(d,"sendToHeaven",c.createNativeFunction(function(b,c){for(var d=JSON.parse(b),f=JSON.parse(c),f=a(f),h=e,k=0;k<d.length-1;k++)h=h[d[k]];h[d[d.length-1]]=f}));c.setProperty(d,"prayToHeaven",
c.createNativeFunction(function p(a,b){return JSON.stringify(p(JSON.parse(a),JSON.parse(b)))}));c.setProperty(d,"log",c.createNativeFunction(function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.log.apply(console,[].concat($jscomp.arrayFromIterable(b)))}))}var e={},f=0;return{callInMachine:c,compile:function(a,b,f,h){for(var k="",l=0;l<a.length;l++){var m=a[l],q=b[l];if("object"===typeof q){var y="_global_"+m;e[y]=q;k+="var "+m+" = linkHeavenlyObject("+JSON.stringify([y])+
", "+JSON.stringify(Object.keys(values).concat(Object.keys(q.prototype)))+");\n"}else"function"===typeof q?(y="_global_"+m,e[y]=q,k+="var "+m+" = linkHeavenlyFunction("+JSON.stringify([y])+");\n"):k+="var "+m+" = "+JSON.stringify(q)+";\n"}(new Interpreter(proxyHeader+k+f,d)).run();a={};h=$jscomp.makeIterator(h);for(b=h.next();!b.done;b=h.next()){var E=b.value;a[E]=function(){c.apply(null,[].concat([E],$jscomp.arrayFromIterable(arguments)))}}return a}}};var Pa=["x","y","z","w"],tc="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),
Wa={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},fb={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},
Xa={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zb={cw:2304,ccw:2305},Pb=new E(!1,!1,!1,function(){}),xc=function(b,a){function c(){this.endQueryIndex=this.startQueryIndex=-1;this.sum=0;this.stats=null}function d(a,b,d){var e=h.pop()||new c;e.startQueryIndex=a;e.endQueryIndex=b;e.sum=0;e.stats=d;k.push(e)}if(!a.ext_disjoint_timer_query)return null;var e=[],f=[],h=[],k=[],l=[],q=[];return{beginQuery:function(b){var c=e.pop()||
a.ext_disjoint_timer_query.createQueryEXT();a.ext_disjoint_timer_query.beginQueryEXT(35007,c);f.push(c);d(f.length-1,f.length,b)},endQuery:function(){a.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:d,update:function(){var b,c;b=f.length;if(0!==b){q.length=Math.max(q.length,b+1);l.length=Math.max(l.length,b+1);l[0]=0;var d=q[0]=0;for(c=b=0;c<f.length;++c){var v=f[c];a.ext_disjoint_timer_query.getQueryObjectEXT(v,34919)?(d+=a.ext_disjoint_timer_query.getQueryObjectEXT(v,34918),e.push(v)):
f[b++]=v;l[c+1]=d;q[c+1]=b}f.length=b;for(c=b=0;c<k.length;++c){var d=k[c],y=d.startQueryIndex,v=d.endQueryIndex;d.sum+=l[v]-l[y];y=q[y];v=q[v];v===y?(d.stats.gpuTime+=d.sum/1E6,h.push(d)):(d.startQueryIndex=y,d.endQueryIndex=v,k[b++]=d)}k.length=b}},getNumPendingQueries:function(){return f.length},clear:function(){e.push.apply(e,f);for(var b=0;b<e.length;b++)a.ext_disjoint_timer_query.deleteQueryEXT(e[b]);f.length=0;e.length=0},restore:function(){f.length=0;e.length=0}}};return function(b){function a(){if(0===
L.length)G&&G.update(),ma=null;else{ma=gb.next(a);p();for(var b=L.length-1;0<=b;--b){var c=L[b];c&&c(x,null,0)}v.flush();G&&G.update()}}function c(){!ma&&0<L.length&&(ma=gb.next(a))}function d(){ma&&(gb.cancel(a),ma=null)}function e(a){a.preventDefault();d();la.forEach(function(a){a()})}function f(a){v.getError();M.restore();A.restore();D.restore();ba.restore();X.restore();N.restore();Y.restore();G&&G.restore();aa.procs.refresh();c();V.forEach(function(a){a()})}function h(a){function b(a,c){var d=
{},e={};Object.keys(a).forEach(function(b){var f=a[b];if(ia.isDynamic(f))e[b]=ia.unbox(f,b);else{if(c&&Array.isArray(f))for(var g=0;g<f.length;++g)if(ia.isDynamic(f[g])){e[b]=ia.unbox(f,b);return}d[b]=f}});return{dynamic:e,"static":d}}function c(a){for(;p.length<a;)p.push(null);return p}var d=b(a.context||{},!0),e=b(a.uniforms||{},!0),f=b(a.attributes||{},!1);a=b(function(a){function b(a){if(a in c){var d=c[a];delete c[a];Object.keys(d).forEach(function(b){c[a+"."+b]=d[b]})}}var c=R({},a);delete c.uniforms;
delete c.attributes;delete c.context;delete c.vao;"stencil"in c&&c.stencil.op&&(c.stencil.opBack=c.stencil.opFront=c.stencil.op,delete c.stencil.op);b("blend");b("depth");b("cull");b("stencil");b("polygonOffset");b("scissor");b("sample");"vao"in a&&(c.vao=a.vao);return c}(a),!1);var g={gpuTime:0,cpuTime:0,count:0},k=aa.compile(a,f,e,d,g),l=k.draw,m=k.batch,n=k.scope,p=[];return R(function(a,b){var d;if("function"===typeof a)return n.call(this,null,a,0);if("function"===typeof b)if("number"===typeof a)for(d=
0;d<a;++d)n.call(this,null,b,d);else if(Array.isArray(a))for(d=0;d<a.length;++d)n.call(this,a[d],b,d);else return n.call(this,a,b,0);else if("number"===typeof a){if(0<a)return m.call(this,c(a|0),a|0)}else if(Array.isArray(a)){if(a.length)return m.call(this,a,a.length)}else return l.call(this,a)},{stats:g,destroy:function(){k.destroy()}})}function k(a,b){var c=0;aa.procs.poll();var d=b.color;d&&(v.clearColor(+d[0]||0,+d[1]||0,+d[2]||0,+d[3]||0),c|=16384);"depth"in b&&(v.clearDepth(+b.depth),c|=256);
"stencil"in b&&(v.clearStencil(b.stencil|0),c|=1024);v.clear(c)}function l(a){L.push(a);c();return{cancel:function(){function b(){var a=ac(L,b);L[a]=L[L.length-1];--L.length;0>=L.length&&d()}var c=ac(L,a);L[c]=b}}}function y(){var a=ea.viewport,b=ea.scissor_box;a[0]=a[1]=b[0]=b[1]=0;x.viewportWidth=x.framebufferWidth=x.drawingBufferWidth=a[2]=b[2]=v.drawingBufferWidth;x.viewportHeight=x.framebufferHeight=x.drawingBufferHeight=a[3]=b[3]=v.drawingBufferHeight}function p(){x.tick+=1;x.time=E();y();aa.procs.poll()}
function z(){ba.refresh();y();aa.procs.refresh();G&&G.update()}function E(){return(bc()-S)/1E3}b=dc(b);if(!b)return null;var v=b.gl,H=v.getContextAttributes();v.isContextLost();var M=ec(v,b);if(!M)return null;var O=q(),t={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},I=M.extensions,G=xc(v,I),S=bc(),J=v.drawingBufferWidth,Q=v.drawingBufferHeight,x={tick:0,time:0,viewportWidth:J,viewportHeight:Q,framebufferWidth:J,
framebufferHeight:Q,drawingBufferWidth:J,drawingBufferHeight:Q,pixelRatio:b.pixelRatio},J={elements:null,primitive:4,count:-1,offset:0,instances:-1},P=uc(v,I),D=fc(v,t,b,function(a){return Y.destroyBuffer(a)}),W=gc(v,I,D,t),Y=oc(v,I,P,t,D,W,J),A=pc(v,O,t,b),ba=jc(v,I,P,function(){aa.procs.poll()},x,t,b),X=vc(v,I,P,t,b),N=nc(v,I,P,ba,X,t),aa=sc(v,O,I,P,D,W,ba,N,{},Y,A,J,x,G,b),O=qc(v,N,aa.procs.poll,x,H,I,P),ea=aa.next,T=v.canvas,L=[],la=[],V=[],fa=[b.onDestroy],ma=null;T&&(T.addEventListener("webglcontextlost",
e,!1),T.addEventListener("webglcontextrestored",f,!1));var ga=N.setFBO=h({framebuffer:ia.define.call(null,1,"framebuffer")});z();H=R(h,{clear:function(a){if("framebuffer"in a)if(a.framebuffer&&"framebufferCube"===a.framebuffer_reglType)for(var b=0;6>b;++b)ga(R({framebuffer:a.framebuffer.faces[b]},a),k);else ga(a,k);else k(null,a)},prop:ia.define.bind(null,1),context:ia.define.bind(null,2),"this":ia.define.bind(null,3),draw:h({}),buffer:function(a){return D.create(a,34962,!1,!1)},elements:function(a){return W.create(a,
!1)},texture:ba.create2D,cube:ba.createCube,renderbuffer:X.create,framebuffer:N.create,framebufferCube:N.createCube,vao:Y.createVAO,attributes:H,frame:l,on:function(a,b){var c;switch(a){case "frame":return l(b);case "lost":c=la;break;case "restore":c=V;break;case "destroy":c=fa}c.push(b);return{cancel:function(){for(var a=0;a<c.length;++a)if(c[a]===b){c[a]=c[c.length-1];c.pop();break}}}},limits:P,hasExtension:function(a){return 0<=P.extensions.indexOf(a.toLowerCase())},read:O,destroy:function(){L.length=
0;d();T&&(T.removeEventListener("webglcontextlost",e),T.removeEventListener("webglcontextrestored",f));A.clear();N.clear();X.clear();Y.clear();ba.clear();W.clear();D.clear();G&&G.clear();fa.forEach(function(a){a()})},_gl:v,_refresh:z,poll:function(){p();G&&G.update()},now:E,stats:t});b.onDone(null,H);return H}});
